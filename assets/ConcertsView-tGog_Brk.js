import{af as C,ag as $,c as u,b as s,w as l,a as o,a8 as v,u as t,F as _,r as g,ah as A,o as n,E as c,D as m,h as d,t as p,i as S,G as x,ai as I,aj as R,ak as z,d as b}from"./index-bAjc-hai.js";import{a as j,b as T,_ as N}from"./CardTitle-rtSV0wSb.js";import{_ as V}from"./CardDescription-NlyM7kMd.js";import{_ as F}from"./CardFooter-gjHhK0j_.js";import{_ as U,a as q,b as E,c as L,d as D}from"./PaginationPrev-aPU_JqDp.js";import{_ as M,a as O,b as P}from"./HoverCardContent-2oVJY8yW.js";import{_ as G}from"./BannerComponent-hsKlSrVc.js";import{u as w}from"./concerts-5ku5hfrx.js";import"./more-horizontal-bCTm9HMx.js";import"./chevron-right-CNeymuCM.js";import"./moment-WSJ9un1t.js";const J={class:"container relative pb-[128px] lg:pb-[192px]"},Z={class:"space-y-6 lg:space-y-14 pb-5 lg:pb-12 border-b-2 border-black-60"},H={class:"space-y-4 space-x-4 space-x-reverse -m-1 p-1"},K={class:"space-y-4 space-x-4 space-x-reverse -m-1 p-1"},Q={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6"},W=["src","alt"],X={class:"text-tiny lg:text-sm"},Y={class:"absolute pt-2 pb-4 text-black-60 text-tiny"},ee=["onClick"],te=o("span",{class:"text-sm"},"查看更多",-1),se={data(){return{bannerInputPlaceholder:"請輸入演唱會名稱",timeRanges:["本日","本週","本月"],countryRanges:["台灣","日本","韓國","歐美","其它"],timeButtonIsActive:"stateAll",countryButtonIsActive:"stateAll"}},inject:["http","path"],methods:{...C(w,["getConcerts","saveUnSavedConcert","callSaveAction","searchConcerts"]),...C(A,["getUserSavedAndFollowed"])},computed:{...$(w,["concerts","pagination"]),...$(A,["AccessToken","savedConcerts"]),isSaved(){return[...this.savedConcerts]}},mounted(){this.getConcerts("country","all"),this.getConcerts("time","all"),this.AccessToken!==void 0&&this.getUserSavedAndFollowed()}},fe=Object.assign(se,{__name:"ConcertsView",setup(ae){return(a,f)=>{const h=b("router-link"),k=b("font-awesome-icon"),B=b("RouterLink");return n(),u("section",J,[s(G,{"prop-placeholder":a.bannerInputPlaceholder,onSearchMethod:a.searchConcerts},{mainTitle:l(()=>[c("CONCERTS")]),_:1},8,["prop-placeholder","onSearchMethod"]),o("main",Z,[o("div",null,[o("div",H,[s(t(m),{variant:"tiffany-outline",size:"base",class:v(["me-4",{active:a.timeButtonIsActive==="stateAll"}]),onClick:f[0]||(f[0]=e=>{a.getConcerts("time","all"),a.timeButtonIsActive="stateAll"})},{default:l(()=>[c(" 全部 ")]),_:1},8,["class"]),(n(!0),u(_,null,g(a.timeRanges,(e,i)=>(n(),d(t(m),{key:e,variant:"tiffany-outline",size:"base",class:v({active:a.timeButtonIsActive===`state${i}`}),onClick:r=>{a.getConcerts("time",e),a.timeButtonIsActive=`state${i}`}},{default:l(()=>[c(p(e),1)]),_:2},1032,["class","onClick"]))),128))]),o("div",K,[s(t(m),{variant:"pink-outline",size:"base",class:v(["me-4",{active:a.countryButtonIsActive==="stateAll"}]),onClick:f[1]||(f[1]=e=>{a.getConcerts("country","all"),a.countryButtonIsActive="stateAll"})},{default:l(()=>[c(" 全部 ")]),_:1},8,["class"]),(n(!0),u(_,null,g(a.countryRanges,(e,i)=>(n(),d(t(m),{key:e,variant:"pink-outline",size:"base",class:v({active:a.countryButtonIsActive===`state${i}`}),onClick:r=>{a.getConcerts("country",e),a.countryButtonIsActive=`state${i}`}},{default:l(()=>[c(p(e),1)]),_:2},1032,["class","onClick"]))),128))])]),o("ul",Q,[(n(!0),u(_,null,g(a.concerts,e=>(n(),u("li",{key:e.id},[s(t(N),{class:"border-black-60"},{default:l(()=>[s(t(j),{class:"rounded-t-2xl space-y-0 p-0"},{default:l(()=>[s(h,{to:`/concerts/${e.id}`},{default:l(()=>[o("img",{src:e.cover_urls.square,alt:e.title,class:"aspect-square rounded-2xl object-cover min-w-full"},null,8,W)]),_:2},1032,["to"]),s(t(V),{class:"h-[10rem] md:h-[13rem] lg:h-[12rem] xl:h-[13rem] border-x-2 pt-6 px-6 border-black-60 flex justify-between align-top"},{default:l(()=>{var i;return[o("div",null,[o("p",X,p(e.holding_time.substring(0,10)),1),s(h,{to:`/concerts/${e.id}`},{default:l(()=>[s(t(T),{class:"pt-1 text-base lg:text-lg text-white"},{default:l(()=>[c(p(e.title),1)]),_:2},1024)]),_:2},1032,["to"]),o("p",Y,p((i=e.venue)==null?void 0:i.title),1)]),s(t(M),null,{default:l(()=>[s(t(O),null,{default:l(()=>[o("button",{class:"mb-auto",onClick:r=>a.callSaveAction(e.id)},[a.isSaved.some(r=>r.id===e.id)?(n(),d(k,{key:0,icon:"fa-solid fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"})):(n(),d(k,{key:1,icon:"fa-regular fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"}))],8,ee)]),_:2},1024),a.AccessToken===void 0?(n(),d(t(P),{key:0,class:"mt-[-15rem] sm:mt-[-15rem]"},{default:l(()=>[c(" 登入開啟收藏功能 ")]),_:1})):S("",!0)]),_:2},1024)]}),_:2},1024)]),_:2},1024),s(t(F),{class:"text-end border-x-2 border-b-2 border-black-60 rounded-b-2xl"},{default:l(()=>[s(B,{to:`/concerts/${e.id}`},{default:l(()=>[s(t(m),{variant:"white-outline",size:"base2"},{default:l(()=>[te,s(t(x),{class:"size-6 ms-2 lg:ms-4"})]),_:1})]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]))),128))]),s(t(z),{total:a.pagination.total_pages*10,"sibling-count":1,"show-edges":"","default-page":1},{default:l(({page:e})=>[s(t(I),{class:"flex items-center justify-center gap-1"},{default:l(({items:i})=>[s(t(U)),s(t(q)),(n(!0),u(_,null,g(i,(r,y)=>(n(),u(_,null,[r.type==="page"?(n(),d(t(R),{key:y,value:r.value,"as-child":""},{default:l(()=>[s(t(m),{class:"w-10 h-10 p-0",variant:r.value===e?"default":"outline"},{default:l(()=>[c(p(r.value),1)]),_:2},1032,["variant"])]),_:2},1032,["value"])):(n(),d(t(E),{key:r.type,index:y},null,8,["index"]))],64))),256)),s(t(L)),s(t(D))]),_:2},1024)]),_:1},8,["total"])])])}}});export{fe as default};
