import{aw as P,ax as q,ay as L,u as s,o as c,c as u,X as N,a7 as U,Q as R,_ as D,az as M,a9 as B,ak as E,ae as H,af as F,aA as O,a as e,G,t as r,b as a,w as o,F as m,r as f,y as d,h as b,an as J,B as x,ao as Q,ap as W,aq as X,ar as K,S as Y,aB as Z,as as ee,au as te,i as se,H as le,A as ae,d as oe,I as ie,J as ne}from"./index-Hxe7G9cU.js";import{_ as v}from"./Label-67J7MYXN.js";import{_ as k,a as w,b as V,c as S,d as $,e as y,f as C}from"./SelectLabel--yFgsnbU.js";import{a as re,b as ce,_ as de,c as ue}from"./AccordionTrigger-qkjZm-DJ.js";import{T as I}from"./TitleComponent-Dq5Ybx17.js";import{u as z}from"./venues-HXP0ggCJ.js";import{M as me}from"./more-horizontal-5Ed6fRQl.js";import"./check-tPObViGv.js";const pe={__name:"Textarea",props:{class:{type:null,required:!1},defaultValue:{type:[String,Number],required:!1},modelValue:{type:[String,Number],required:!1}},emits:["update:modelValue"],setup(n,{emit:t}){const i=n,g=P(i,"modelValue",t,{passive:!0,defaultValue:i.defaultValue});return(l,p)=>q((c(),u("textarea",{"onUpdate:modelValue":p[0]||(p[0]=_=>N(g)?g.value=_:null),class:U(s(R)("flex min-h-20 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i.class))},null,2)),[[L,s(g)]])}},j=n=>(ie("data-v-edf1f13d"),n=n(),ne(),n),fe={class:"container pb-20 lg:pb-32 pt-[400px] md:pt-[600px] lg:pt-[850px] space-y-6 lg:space-y-10"},_e={class:"text-center"},ge={class:"text-2xl font-display lg:text-3xl 2xl:text-5xl font-black"},he={class:"space-y-6 lg:space-y-10"},be={class:"py-6 lg:hidden text-center"},ve={class:"collapse-left py-6"},ye={class:"col-start-2 py-6"},xe={class:"collapse-right py-6"},ke={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},we={class:"lg:order-2 flex items-center"},Ve=["src","alt"],Se={class:"space-y-6 lg:space-y-10 box-shadow-light2 p-6 lg:p-10 rounded-btn2 col-span-2"},$e={class:"flex justify-between border-black-0 border-b-2 pb-6 lg:pb-10"},Ce={class:"text-center"},ze=j(()=>e("span",null,"留下評論",-1)),Te={class:"relative flex items-center"},Ie={class:"flex items-center"},Ae={class:"relative flex items-center mb-4"},qe=j(()=>e("div",{class:"space-y-4"},[e("span",null,"圖片至多可傳三張"),e("div",{class:"flex space-x-4"},[e("img",{id:"commentImage1",class:"size-[80px] lg:size-[150px]",src:"http://placehold.it/150",alt:"your image"}),e("img",{id:"commentImage2",class:"size-[80px] lg:size-[150px]",src:"http://placehold.it/150",alt:"your image"}),e("img",{id:"commentImage3",class:"size-[80px] lg:size-[150px]",src:"http://placehold.it/150",alt:"your image"})])],-1)),je={class:"flex justify-end items-center"},Pe={class:"col-span-2 sm:col-span-1"},Le=["src","alt"],Ne={class:"col-span-8 sm:col-span-9 md:col-span-10 flex flex-col space-y-4"},Ue={class:"space-x-3"},Re={class:"text-black-40"},De={class:"text-sm md:text-base flex flex-wrap md:justify-between"},Me={class:"mb-4 md:mb-0"},Be={key:0,class:"flex space-x-3 w-full md:w-auto"},Ee=["src"],He={class:"text-tiny truncate"},Fe={class:"text-tiny"},Oe={class:"col-span-2 md:col-span-1"},Ge={class:"marquee-type bg-tiffany"},Je={ref:"marquee",class:"flex text-[3.5rem] md:text-[4.5rem] lg:text-[6.5rem] font-black text-black tracking-widest whitespace-nowrap overflow-x-auto scrollbar-none mb-6 lg:mb-10 leading-[1]"},Qe={class:"marquee space-x-4"},We={class:"text-stroke-black font-display uppercase"},Xe={class:"text-stroke-black font-display uppercase"},Ke={class:"marquee space-x-4"},Ye={class:"text-stroke-black font-display uppercase"},Ze={class:"text-stroke-black font-display uppercase"},et={class:"container"},tt={class:"mt-4 lg:mt-6"},st={class:"mb-4 lg:mb-6"},lt=["src"],at={class:"space-y-6 lg:space-y-10"},ot={class:"flex space-x-10 font-black"},it={class:"-mb-8 pt-2 lg:pt-[30px] text-4xl"},nt={class:"list-disc px-6 space-y-4 -mt-12 lg:w-3/4 lg:opacity-0"},rt={class:"list-disc text-base px-6 space-y-4 mt-2 lg:w-3/4 lg:absolute lg:top-0"},{setIsLoading:A}=M(),{toast:h}=B(),ct={data(){return{commentSeatArea:"",concertId:"",commentContent:"",images:[],checkPolicy:!1}},props:["id"],inject:["http","path"],methods:{hoverTitle(n){n.currentTarget.childNodes.forEach((t,i)=>{i!==1&&t.classList.remove("hidden","collapse-left","collapse-right"),i===0?t.classList.add("collapse-left","show"):i===2&&t.classList.add("collapse-right","show")})},removeHoverTitle(n){n.currentTarget.childNodes.forEach((t,i)=>{i!==1&&t.classList.remove("w-auto","collapse-left","collapse-right","show"),i===0?t.classList.add("collapse-left"):i===2&&t.classList.add("collapse-right")})},readURL(n){if(console.log(n.target.files),n.target.files&&n.target.files[0]){const t=new FileReader;console.log(t),t.onload=function(i){console.log(i),document.querySelector("#commentImage1").setAttribute("src",i.target.result),document.querySelector("#commentImage2").setAttribute("src",i.target.result),document.querySelector("#commentImage3").setAttribute("src",i.target.result)},t.readAsDataURL(...n.target.files),this.images=[...n.target.files]}},onSubmit(n){n.preventDefault(),this.postComment()},postComment(){if(this.concertId===""){h({title:"請選擇演唱會",description:""});return}if(this.commentSeatArea===""){h({title:"請選擇座位區",description:""});return}if(this.commentContent===""){h({title:"請輸入評論",description:""});return}if(!this.checkPolicy){h({title:"請先勾選同意評論規範",description:""});return}const n={concert_id:this.concertId,seat_area:this.commentSeatArea,comment:this.commentContent,images:this.images};this.images.length===0&&delete n.images,A(),E.post(`${this.path.venues}/${this.$route.params.id}/comment`,n).then(t=>{this.concertId="",this.commentSeatArea="",this.commentContent="",this.images=[],h({title:"已新增評論",description:""}),this.getVenue(this.$route.params.id)}).catch(t=>{console.log(t)}).finally(()=>{A()})},showCommentPolicy(){h({title:"評論規範",description:"(1)請勿留言不實評論 (2)請物留言惡意評論 (3)請勿留言腥羶色內容。請注意警告五次將被永久停權。"})},...H(z,["getVenue"])},computed:{...F(z,["venue","pagination","filterSeatComment"]),...O(z,["seatArea"])},watch:{id(n){this.getVenue(n)}},mounted(){this.getVenue(this.id)},updated(){this.$refs.marquee.childNodes.forEach(t=>{t.textContent.length<=90&&t.textContent.length>60?t.style.animationDuration="20s":t.textContent.length<=120&&t.textContent.length>90&&(t.style.animationDuration="25s")})}},dt=Object.assign(ct,{__name:"VenueSingleView",setup(n){return(t,i)=>{var g;const T=oe("font-awesome-icon");return c(),u(m,null,[e("div",{class:"w-full h-[400px] md:h-[600px] lg:h-[850px] bg-no-repeat bg-cover absolute top-0 -z-10 bg-center 2xl:bg-bottom",style:G(`background-image: url(${(g=t.venue.picture)==null?void 0:g.horizontal})`)},null,4),e("section",fe,[e("div",_e,[e("h2",ge,r(t.venue.title),1)]),e("main",he,[e("div",be,r(t.venue.address),1),e("div",{class:"hidden lg:grid grid-cols-3 text-lg text-center",onMouseover:i[0]||(i[0]=(...l)=>t.hoverTitle&&t.hoverTitle(...l)),onMouseleave:i[1]||(i[1]=(...l)=>t.removeHoverTitle&&t.removeHoverTitle(...l))},[e("div",ve,r(t.venue.seat_amount)+" 席次",1),e("div",ye,r(t.venue.eng_title),1),e("div",xe,r(t.venue.address),1)],32),a(I,{class:"flex justify-center"},{subTitle:o(()=>[d(" VENUES ")]),mainTitle:o(()=>[d(" 場地體驗 ")]),_:1}),e("div",ke,[e("div",we,[e("img",{src:t.venue.seat_picture,alt:t.venue.title,class:"w-full"},null,8,Ve)]),e("div",Se,[e("div",$e,[a(s(C),{modelValue:t.seatArea,"onUpdate:modelValue":i[2]||(i[2]=l=>t.seatArea=l)},{default:o(()=>[a(s(k),{class:"w-1/3 border-0 text-primary bg-pink box-shadow-pink-blur box-shadow-pink-blur-hover focus-visible:outline-0 h-10 p-4 md:py-4 md:px-6 lg:py-6 lg:px-8 rounded-btn1"},{default:o(()=>[a(s(w),{placeholder:"座位區"})]),_:1}),a(s(V),null,{default:o(()=>[a(s(S),null,{default:o(()=>[a(s($),null,{default:o(()=>[d("座位區")]),_:1}),a(s(y),{value:"all"},{default:o(()=>[d(" 全部座位區 ")]),_:1}),(c(!0),u(m,null,f(t.venue.seat_areas,l=>(c(),b(s(y),{value:l,key:l},{default:o(()=>[d(r(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),e("div",Ce,[a(s(te),null,{default:o(()=>[a(s(J),{"as-child":""},{default:o(()=>[a(s(x),{variant:"ghost",class:"space-x-4 md:text-lg lg:text-xl"},{default:o(()=>[ze,a(T,{icon:"fa-solid fa-plus"})]),_:1})]),_:1}),a(s(Q),{class:"max-w-sm md:max-w-xl"},{default:o(()=>[a(s(W),{class:"mb-6"},{default:o(()=>[a(s(X),null,{default:o(()=>[d("留下評論")]),_:1}),a(s(K))]),_:1}),e("form",{onSubmit:i[7]||(i[7]=(...l)=>t.onSubmit&&t.onSubmit(...l)),class:"space-y-6 lg:space-y-10"},[e("div",Te,[a(s(v),{for:"seat-select",class:"absolute text-white bg-black-85 border-black-85 border rounded-md pl-6 pr-20 -z-10 py-2 px-3"},{default:o(()=>[d("座位區")]),_:1}),a(s(C),{modelValue:t.commentSeatArea,"onUpdate:modelValue":i[3]||(i[3]=l=>t.commentSeatArea=l),id:"seat-select"},{default:o(()=>[a(s(k),{class:"ml-[7rem] border-white"},{default:o(()=>[a(s(w),{placeholder:"選取座位區"})]),_:1}),a(s(V),null,{default:o(()=>[a(s(S),null,{default:o(()=>[a(s($),null,{default:o(()=>[d("選取座位區")]),_:1}),(c(!0),u(m,null,f(t.venue.seat_areas,l=>(c(),b(s(y),{value:l,key:l},{default:o(()=>[d(r(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e("div",Ie,[a(s(v),{for:"concert-select",class:"absolute text-white bg-black-85 border-black-85 border rounded-md pl-6 pr-20 -z-10 py-2 px-3"},{default:o(()=>[d("演唱會")]),_:1}),a(s(C),{id:"concert-select",modelValue:t.concertId,"onUpdate:modelValue":i[4]||(i[4]=l=>t.concertId=l)},{default:o(()=>[a(s(k),{class:"ml-[7rem] border-white"},{default:o(()=>[a(s(w),{placeholder:"選取演唱會"})]),_:1}),a(s(V),null,{default:o(()=>[a(s(S),null,{default:o(()=>[a(s($),null,{default:o(()=>[d("選取演唱會")]),_:1}),(c(!0),u(m,null,f(t.venue.concerts,l=>(c(),b(s(y),{value:l.id.toString(),key:l.id},{default:o(()=>[d(r(l.title),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e("div",null,[e("div",Ae,[a(s(v),{for:"commentPictures",class:"absolute text-white bg-black-85 border-black-85 border rounded-md pl-6 pr-20 -z-10 py-2 px-3"},{default:o(()=>[d("評論圖片")]),_:1}),a(s(Y),{id:"commentPictures",ref:"commentPictures",multiple:"",placeholder:"選擇檔案",class:"ml-[7rem] border-white",type:"file",accept:"image/png, image/jpeg",onChange:t.readURL},null,8,["onChange"])]),qe]),e("div",null,[a(s(pe),{modelValue:t.commentContent,"onUpdate:modelValue":i[5]||(i[5]=l=>t.commentContent=l)},null,8,["modelValue"])]),e("div",je,[q(e("input",{id:"commentPolicy",type:"checkbox",class:"size-4 mr-2","onUpdate:modelValue":i[6]||(i[6]=l=>t.checkPolicy=l)},null,512),[[Z,t.checkPolicy]]),a(s(v),{for:"commentPolicy",class:"text-sm text-black-60 text-right cursor-pointer",onClick:t.showCommentPolicy},{default:o(()=>[d("送出即代表您同意遵守評論規範")]),_:1},8,["onClick"])]),a(s(ee),{class:"justify-center sm:justify-center"},{default:o(()=>[a(s(x),{variant:"tiffany-blur"},{default:o(()=>[d("送出評論")]),_:1})]),_:1})],32)]),_:1})]),_:1})])]),a(s(le),{class:"lg:h-[280px] xl:h-[350px] 2xl:h-[500px]"},{default:o(()=>[(c(!0),u(m,null,f(t.filterSeatComment,l=>(c(),u("div",{key:l.id,class:"grid grid-cols-12 gap-x-4 min-h-[150px] mt-6"},[e("div",Pe,[e("img",{src:l.user.profile_image_url,alt:l.user.name,class:"rounded-full size-8 2xl:size-12"},null,8,Le)]),e("div",Ne,[e("div",Ue,[e("span",null,r(l.user.name),1),e("span",Re,r(l.seat_area),1)]),e("div",De,[e("p",Me,r(l.comment),1),l.images.length?(c(),u("div",Be,[(c(!0),u(m,null,f(l.images,(p,_)=>(c(),u("img",{key:_,src:p,alt:"",class:"size-20 object-cover rounded-xl"},null,8,Ee))),128))])):se("",!0)]),e("div",He,[e("span",null,r(l.concert.title),1)]),e("div",Fe,[e("span",null,r(l.created_at),1)])]),e("div",Oe,[a(s(x),{variant:"ghost",class:"p-1"},{default:o(()=>[a(s(me))]),_:1})])]))),128))]),_:1})])])])]),e("div",null,[e("div",Ge,[e("div",Je,[e("p",Qe,[e("span",null,r(t.venue.title),1),e("span",We,r(t.venue.eng_title),1),e("span",null,r(t.venue.title),1),e("span",Xe,r(t.venue.eng_title),1)]),e("p",Ke,[e("span",null,r(t.venue.title),1),e("span",Ye,r(t.venue.eng_title),1),e("span",null,r(t.venue.title),1),e("span",Ze,r(t.venue.eng_title),1)])],512)])]),e("section",et,[a(I,{class:"overflow-x-hidden"},{subTitle:o(()=>[d(" TRANSPORT ")]),mainTitle:o(()=>[d(" 交通方式 ")]),_:1}),e("div",tt,[e("div",st,[e("iframe",{src:t.venue.map_link,frameborder:"0",class:"w-full h-[375px] md:h-[600px] grayscale"},null,8,lt)]),e("div",at,[(c(!0),u(m,null,f(t.venue.transportation,l=>(c(),b(s(ue),{key:l.type,type:"single",collapsible:""},{default:o(()=>[a(s(de),{value:"item-1",class:"lg:relative"},{default:o(()=>[a(s(re),{hideIcon:!0},{default:o(()=>[e("div",ot,[a(s(ae),{class:"size-10 lg:size-16"}),e("span",it,r(l.type),1)])]),_:2},1024),a(s(ce),{class:"lg:flex lg:justify-end"},{default:o(()=>[e("ul",nt,[(c(!0),u(m,null,f(l.info,(p,_)=>(c(),u("li",{key:_},r(p),1))),128))]),e("ul",rt,[(c(!0),u(m,null,f(l.info,(p,_)=>(c(),u("li",{key:_},r(p),1))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])])])],64)}}}),vt=D(dt,[["__scopeId","data-v-edf1f13d"]]);export{vt as default};
