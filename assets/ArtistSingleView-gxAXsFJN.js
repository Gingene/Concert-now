import{T as O}from"./TitleComponent-YZiVT_Kh.js";import{a as y,b as w,_ as A}from"./HoverCardContent-9xMfqC0C.js";import{_ as E,ac as U,z as G,y as J,ak as P,al as W,am as q,an as K,c as l,a as s,F as f,r as h,b as x,w as r,u as c,t as i,af as Q,o,E as m,h as g,C as X,g as _,I as Z,J as tt,d as L}from"./index-8EEsLggX.js";import{u as et,a as st}from"./useDarkAlert-e5jcJ6IS.js";import{h as k}from"./moment-WSJ9un1t.js";const b=a=>(Z("data-v-66c9d3c2"),a=a(),tt(),a),ot={class:"container space-y-[20px] md:space-y-[58px] lg:space-y-[117px] pt-16 pb-[128px] lg:pb-[192px]"},at={class:"artist-intro mb-10 md:mb-[6.5rem] lg:mb-40"},nt={class:"flex justify-between mb-5"},lt={class:"flex"},rt={key:0},it={class:"w-[85%] lg:w-[63%] mx-auto xl:relative"},dt=["src","alt"],ct={class:"flex justify-center xl:absolute bottom-[-13%] right-[-12%]"},mt={class:"relative"},xt={class:"bg-artistName absolute top-[-1rem] left-[1rem] text-stroke-light z-[-1]"},pt={class:"bg-artistName"},_t={class:"md:flex md:justify-between md:items-center lg:w-[70%] lg:mx-auto"},ut={class:"mb-[150px] md:mb-0 md:w-[45%]"},ft={class:"break-all text-justify pb-10 md:pb-6 md:text-[12px] lg:text-[13px]"},ht=b(()=>s("hr",{class:"pb-10 md:pb-6"},null,-1)),gt=b(()=>s("p",{class:"hidden font-semibold pb-4"},"HITS",-1)),bt={class:"gap-3 flex flex-row md:flex-col flex-wrap items-center md:items-end"},vt={class:"artist-honors-relative md:w-[50%]"},kt=b(()=>s("p",{class:"honors text-stroke-light bg-artistName"},"HONORS",-1)),yt={class:"bg-shadow-trans-text artist-honors w-[90%] md:w-[100%] ml-auto text-center break-keep py-[50px] px-[10px] md:py-[60px] rounded-[31px] z-[-1]"},wt={key:0},At=b(()=>s("br",null,null,-1)),Ct=b(()=>s("br",null,null,-1)),St={class:"flex items-center"},Dt={class:"concert-box-time mr-3.5 md:mr-[45px] xl:mr-[120px]"},Tt={class:"text-[12px] sm:text-[15px] md:text-[19px]"},jt={class:"text-[14px] sm:text-[18px] md:text-[22px]"},Ft={class:"text-[13px] sm:text-[16px] md:text-[18px] text-gray-300"},Nt=["onClick"],Bt={key:1,class:"concert-box border border-black-60 rounded-[25px] py-[10px] px-[9px] flex justify-center items-center lg:w-[70%] lg:mx-auto"},It={class:"flex items-center"},Yt={class:"concert-box-time mr-3.5 md:mr-[45px] xl:mr-[120px]"},$t={class:"text-[12px] sm:text-[15px] md:text-[19px]"},Mt={class:"text-[14px] sm:text-[18px] md:text-[22px]"},Vt={class:"text-[13px] sm:text-[16px] md:text-[18px] text-gray-300"},zt=["onClick"],Ot={key:1,class:"concert-box border border-black-60 rounded-[25px] py-[10px] px-[9px] flex justify-center items-center lg:w-[70%] lg:mx-auto"},{setIsLoading:R}=U(),{swalWithStylingButtons:H}=et(),Lt={data(){return{checkData:null,singleArtist:null,savedConcertsData:null}},computed:{...G(Q,["AccessToken"]),saveState(){return this.savedConcertsData}},methods:{...J(st,["postFollowConcetsData","deleteFollowConcetsData"]),async getSingleArtistData(a){try{const t=await P(a);this.singleArtist=t.data.data}catch(t){console.log(t)}},toggleFollowArtist(a,t){if(!this.AccessToken){H.fire({title:"登入後才能用追蹤功能喔！",showCancelButton:!0,confirmButtonText:"前往登入"}).then(p=>{p.isConfirmed&&(window.location.href="login#/login")});return}a?this.deleteFollowConcetsData(t).then(()=>this.getSingleArtistData(t)):this.postFollowConcetsData(t).then(()=>this.getSingleArtistData(t))},changeSaveConcertsMode(a){var t;if(this.AccessToken===void 0){H.fire({title:"登入後才能用收藏功能喔！",showCancelButton:!0,confirmButtonText:"前往登入"}).then(p=>{p.isConfirmed&&(window.location.href="login#/login")});return}(t=this.savedConcertsData)!=null&&t.some(p=>p.id===a)?this.deleteSaveConcertsData(a).then(()=>this.getSavedConcertsData()):this.postSaveConcertsData(a).then(()=>this.getSavedConcertsData())},async getSavedConcertsData(){try{const a=await W();this.savedConcertsData=a.data.data.saved_concerts}catch(a){console.log(a)}},async postSaveConcertsData(a){try{const t=await q(a)}catch(t){console.log(t)}},async deleteSaveConcertsData(a){try{const t=await K(a)}catch(t){console.log(t)}},updateData(a){this.getSingleArtistData(a)}},mounted(){R(),this.getSingleArtistData(Number(this.$route.params.id)),setTimeout(()=>{R()},300),this.AccessToken&&this.getSavedConcertsData()}},Rt=Object.assign(Lt,{__name:"ArtistSingleView",setup(a){return(t,p)=>{var S,D,T,j,F,N,B,I,Y,$,M,V,z;const C=L("RouterLink"),v=L("font-awesome-icon");return o(),l("div",ot,[s("section",at,[s("div",nt,[s("div",lt,[(o(!0),l(f,null,h((S=t.singleArtist)==null?void 0:S.keywords,(e,n)=>{var d;return o(),l("p",{class:"mr-1",key:n},[m(i(e)+" ",1),((d=t.singleArtist.keywords)==null?void 0:d.length)-1!==n?(o(),l("span",rt,"/")):g("",!0)])}),128))]),x(c(A),null,{default:r(()=>[x(c(y),null,{default:r(()=>{var e,n,d;return[(o(),l("button",{key:(e=t.singleArtist)==null?void 0:e.id,class:X(["basic-follow text-base",(n=t.singleArtist)!=null&&n.is_followed?"tiffany-follow":"tiffany-outline"]),onClick:p[0]||(p[0]=u=>t.toggleFollowArtist(t.singleArtist.is_followed,t.singleArtist.id))},i((d=t.singleArtist)!=null&&d.is_followed?"Following":"Follow"),3))]}),_:1}),t.AccessToken===void 0?(o(),_(c(w),{key:0},{default:r(()=>[m(" 請登入開啟追蹤功能 ")]),_:1})):g("",!0)]),_:1})]),s("div",it,[s("img",{class:"rounded-xl mb-5",src:(T=(D=t.singleArtist)==null?void 0:D.cover_urls)==null?void 0:T.horizontal,alt:(j=t.singleArtist)==null?void 0:j.name},null,8,dt),s("div",ct,[s("div",mt,[s("div",xt,i((F=t.singleArtist)==null?void 0:F.name),1),s("div",pt,i((N=t.singleArtist)==null?void 0:N.name),1)])])])]),s("div",_t,[s("section",ut,[s("p",ft,i((B=t.singleArtist)==null?void 0:B.description),1),ht,gt,s("div",bt,[(o(!0),l(f,null,h((I=t.singleArtist)==null?void 0:I.popular_songs,(e,n)=>(o(),l("div",{key:n,class:"song border text-center rounded-2xl py-[8px] px-[11px]"},i(e),1))),128))])]),s("section",vt,[kt,s("p",yt,[(o(!0),l(f,null,h((Y=t.singleArtist)==null?void 0:Y.honors,(e,n)=>{var d;return o(),l("div",{key:n},[m(i(e)+" ",1),((d=t.singleArtist.honors)==null?void 0:d.length)-1!==n?(o(),l("span",wt,[At,m("-"),Ct])):g("",!0)])}),128))])])]),s("div",null,[x(O,{class:"flex justify-center mb-[30px]"},{subTitle:r(()=>[m("UPCOMING")]),mainTitle:r(()=>[m("即將舉辦")]),_:1}),(($=t.singleArtist)==null?void 0:$.upcoming_concerts.length)>0?(o(!0),l(f,{key:0},h((M=t.singleArtist)==null?void 0:M.upcoming_concerts,e=>{var n;return o(),l("div",{key:e.id,class:"concert-box border border-black-60 rounded-[25px] py-[10px] px-[9px] mb-6 flex justify-between items-center lg:w-[70%] lg:mx-auto"},[s("div",St,[s("div",Dt,[s("p",Tt,i(c(k)(e.holding_time).format("MM/DD")),1),s("p",jt,i(c(k)(e.holding_time).format("YYYY")),1)]),s("div",null,[x(C,{to:`/concerts/${e==null?void 0:e.id}`,class:"text-[14px] sm:text-[17px] md:text-[21px]"},{default:r(()=>[m(i(e==null?void 0:e.title),1)]),_:2},1032,["to"]),s("p",Ft,i((n=e==null?void 0:e.venue)==null?void 0:n.title),1)])]),x(c(A),null,{default:r(()=>[x(c(y),null,{default:r(()=>{var d;return[s("button",{class:"mb-auto",onClick:u=>t.changeSaveConcertsMode(e.id)},[(d=t.saveState)!=null&&d.some(u=>u.id===(e==null?void 0:e.id))?(o(),_(v,{key:0,icon:"fa-solid fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"})):(o(),_(v,{key:1,icon:"fa-regular fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"}))],8,Nt)]}),_:2},1024),t.AccessToken===void 0?(o(),_(c(w),{key:0},{default:r(()=>[m(" 登入開啟收藏功能 ")]),_:1})):g("",!0)]),_:2},1024)])}),128)):(o(),l("div",Bt,"目前沒有資料 ~ ~ ~"))]),s("div",null,[x(O,{class:"flex justify-center mb-[30px]"},{subTitle:r(()=>[m("HISTORY")]),mainTitle:r(()=>[m("已結束")]),_:1}),((V=t.singleArtist)==null?void 0:V.historical_concerts.length)>0?(o(!0),l(f,{key:0},h((z=t.singleArtist)==null?void 0:z.historical_concerts,e=>{var n;return o(),l("div",{key:e.id,class:"concert-box border border-black-60 rounded-[25px] py-[10px] px-[9px] flex justify-between items-center lg:w-[70%] lg:mx-auto"},[s("div",It,[s("div",Yt,[s("p",$t,i(c(k)(e.holding_time).format("MM/DD")),1),s("p",Mt,i(c(k)(e.holding_time).format("YYYY")),1)]),s("div",null,[x(C,{to:`/concerts/${e.id}`,class:"text-[14px] sm:text-[17px] md:text-[21px]"},{default:r(()=>[m(i(e==null?void 0:e.title),1)]),_:2},1032,["to"]),s("p",Vt,i((n=e==null?void 0:e.venue)==null?void 0:n.title),1)])]),x(c(A),null,{default:r(()=>[x(c(y),null,{default:r(()=>{var d;return[s("button",{class:"mb-auto",onClick:u=>t.changeSaveConcertsMode(e.id)},[(d=t.saveState)!=null&&d.some(u=>u.id===(e==null?void 0:e.id))?(o(),_(v,{key:0,icon:"fa-solid fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"})):(o(),_(v,{key:1,icon:"fa-regular fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"}))],8,zt)]}),_:2},1024),t.AccessToken===void 0?(o(),_(c(w),{key:0},{default:r(()=>[m(" 請登入開啟收藏功能 ")]),_:1})):g("",!0)]),_:2},1024)])}),128)):(o(),l("div",Ot,"目前沒有資料 ~ ~ ~"))])])}}}),Pt=E(Rt,[["__scopeId","data-v-66c9d3c2"]]);export{Pt as default};
