import{M as x,c as u,a as d,b as e,u as t,w as s,aS as g,ba as b,F as w,o as m,Y as D,E as n,r as S,g as $,t as r}from"./index-YQxMthNK.js";import{_ as y,a as V,b as E,c as A,d as k,e as h,f as M}from"./SelectLabel-na0sStmt.js";import{_ as T,a as v,b as c,c as I,d as _,e as P}from"./TableRow-RL2Ti7B2.js";import"./check-iLxjNcnL.js";var B={VITE_APP_SERVICE_API:"https://concert-now.dewed.one",BASE_URL:"/Concert-now/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_SERVICE_API:R}=B,j=async o=>{const l=`${R}/api/admin/users?page=${o}`;try{return await x.get(l)}catch(i){throw console.error("[GetAdminMembers Failed]",i),new Error("error")}},C={class:"flex gap-6 mb-8 relative"},F={class:"w-[36%] lg:w-[290px] relative lg:pt-6"},U=d("span",{class:"material-symbols-outlined absolute top-7 right-2.5 cursor-pointer hidden lg:block"}," search ",-1),N={class:"w-[20%] lg:w-[250px] flex flex-col items-center lg:flex-row lg:justify-center lg:pt-5"},O=d("label",{for:"status",class:"pb-2 font-semibold lg:w-[50%]"}," 會員狀態 ",-1),L={class:"flex items-center"},z=["src"],G={class:"ml-3"},Y={class:"flex items-center"},q={key:0,class:"material-symbols-outlined mr-1"},H={key:1,class:"material-symbols-outlined mr-1 text-violet-800"},J={class:"flex justify-center py-12"},K=d("h2",null,"哇! 找不到資料~",-1),Q=[K],W={data(){return{searchText:"",selectStatus:"全部",selectTime:"",changeFilter:"true",filteredUsers:[],usersData:null,jointimes:[{id:1,time:"2023/01-2023/02"},{id:2,time:"2023/02-2023/03"},{id:3,time:"2023/03-2023/04"},{id:4,time:"2023/04-2023/05"},{id:5,time:"2023/05-2023/06"}]}},computed:{filteredData(){const o=this.searchText,l=this.selectStatus;return o?this.usersData.filter(i=>i.name.match(o)||i.email.match(o)):l==="全部"?this.usersData:this.usersData.filter(i=>{let f=!0;return l&&l.length>0&&(f=i.status===l),f})},filterSelect(){const o=this.selectStatus;return o==="全部"?this.users:this.users.filter(l=>{let i=!0;return o&&o.length>0&&(i=l.status===o),i})}},methods:{async getAdminMembersData(o=1){try{const l=await j(o);this.usersData=l.data.data}catch(l){console.error(l)}}},mounted(){this.getAdminMembersData()}},at=Object.assign(W,{__name:"AdminMembersView",setup(o){return(l,i)=>{var f,p;return m(),u(w,null,[d("div",null,[d("div",C,[d("div",F,[e(t(D),{type:"text",placeholder:"請輸入姓名及信箱查詢",modelValue:l.searchText,"onUpdate:modelValue":i[0]||(i[0]=a=>l.searchText=a),modelModifiers:{trim:!0}},null,8,["modelValue"]),U]),d("div",N,[e(t(M),{modelValue:l.selectStatus,"onUpdate:modelValue":i[1]||(i[1]=a=>l.selectStatus=a)},{default:s(()=>[O,e(t(y),null,{default:s(()=>[e(t(V),{placeholder:"全部"})]),_:1}),e(t(E),null,{default:s(()=>[e(t(A),null,{default:s(()=>[e(t(k),{class:"tracking-wide"},{default:s(()=>[n("會員狀態")]),_:1}),e(t(h),{value:"全部"},{default:s(()=>[n(" 全部 ")]),_:1}),e(t(h),{value:"啟用中"},{default:s(()=>[n(" 啟用中")]),_:1}),e(t(h),{value:"停權中"},{default:s(()=>[n("停權中")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),g(e(t(P),{class:"w-[700px] lg:w-full overflow-x-auto bg-white rounded-lg text-md mb-10"},{default:s(()=>[e(t(T),null,{default:s(()=>[e(t(v),null,{default:s(()=>[e(t(c),{class:"font-semibold"},{default:s(()=>[n(" 名稱 ")]),_:1}),e(t(c),{class:"font-semibold"},{default:s(()=>[n("信箱")]),_:1}),e(t(c),{class:"font-semibold pl-6"},{default:s(()=>[n("會員狀態")]),_:1}),e(t(c),{class:"font-semibold"},{default:s(()=>[n(" 警告次數 ")]),_:1}),e(t(c),{class:"font-semibold"},{default:s(()=>[n(" 會員編號 ")]),_:1}),e(t(c),{class:"font-semibold"},{default:s(()=>[n(" 加入會員日期 ")]),_:1})]),_:1})]),_:1}),e(t(I),null,{default:s(()=>[(m(!0),u(w,null,S(l.filteredData,a=>(m(),$(t(v),{key:a.id},{default:s(()=>[e(t(_),{class:"font-medium"},{default:s(()=>[d("div",L,[d("img",{class:"size-[56px] border-2 rounded-full bg-white p-1",src:a==null?void 0:a.profile_image_url,alt:"使用者大頭貼"},null,8,z),d("p",G,r(a==null?void 0:a.name),1)])]),_:2},1024),e(t(_),null,{default:s(()=>[n(r(a==null?void 0:a.email),1)]),_:2},1024),e(t(_),null,{default:s(()=>[d("div",Y,[a.status==="啟用中"?(m(),u("span",q," check_circle ")):(m(),u("span",H," warning ")),n(" "+r(a.status),1)])]),_:2},1024),e(t(_),{class:"pl-10"},{default:s(()=>[n(r(a==null?void 0:a.warning_list.length),1)]),_:2},1024),e(t(_),{class:"pl-10"},{default:s(()=>[n(r(a==null?void 0:a.id),1)]),_:2},1024),e(t(_),null,{default:s(()=>[n(r(a==null?void 0:a.created_at),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},512),[[b,((f=l.filteredData)==null?void 0:f.length)!==0]]),g(d("div",J,Q,512),[[b,!((p=l.filteredData)!=null&&p.length)]])],64)}}});export{at as default};
