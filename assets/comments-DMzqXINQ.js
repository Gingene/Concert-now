import{a0 as m,aj as o,a7 as l}from"./index-6jqG1WDG.js";const a=m("commentStore",{state:()=>({commentCheckList:[],selectReview:"未審閱",warningReason:"",sortInitial:!0,controlCheckAll:!0,backupDatas:[],comments:[{id:"1",report_num:0,comment:"距離非常近，可以握到手！",isReview:!1,venueId:{title:"台北國際會議中心TICC"},userId1:{email:"1@gmail.com"}},{id:"2",report_num:0,comment:"場地佈置太爛的吧，超大布條擋住視線1",isReview:!1,venueId:{title:"台北國際會議中心TICC"},userId1:{email:"2@gmail.com"}},{id:"3",report_num:1,comment:"有點遠，建議帶望遠鏡",isReview:!1,venueId:{title:"台北國際會議中心TICC"},userId1:{email:"3@gmail.com"}},{id:"4",report_num:0,comment:"前面有柱子擋住，根本看不太到舞台，傻眼",isReview:!1,venueId:{title:"新北工商展覽中心"},userId1:{email:"1@gmail.com"}},{id:"5",report_num:0,comment:"接得到舞台丟下來的禮物！超讚的！",isReview:!1,venueId:{title:"新北工商展覽中心"},userId1:{email:"4@gmail.com"}},{id:"6",report_num:31,comment:"我喜歡吃可麗餅",isReview:!1,venueId:{title:"新北工商展覽中心"},userId1:{email:"5@gmail.com"}},{id:"7",report_num:1,comment:"靠近右邊離音響好近，好大聲，不舒服",isReview:!1,venueId:{title:"台北流行音樂中心"},userId1:{email:"7@gmail.com"}},{id:"8",report_num:0,comment:"視野很好，而且是有座位的，很不錯",isReview:!1,venueId:{title:"台北流行音樂中心"},userId1:{email:"8@gmail.com"}},{id:"9",report_num:0,comment:"空間寬敞，也看得很清楚",isReview:!1,venueId:{title:"台北流行音樂中心"},userId1:{email:"9@gmail.com"}},{id:"10",report_num:0,comment:"空間寬敞，站在噴霧旁邊超衰的",isReview:!1,venueId:{title:"高雄流行音樂中心"},userId1:{email:"10@gmail.com"}},{id:"11",report_num:25,comment:"香雞排好香，想ㄘ",isReview:!1,venueId:{title:"高雄流行音樂中心"},userId1:{email:"11@gmail.com"}},{id:"12",report_num:0,comment:"很遠，要帶望遠鏡。而且很偏，看不是很清楚",isReview:!1,venueId:{title:"高雄流行音樂中心"},userId1:{email:"12@gmail.com"}},{id:"13",report_num:0,comment:"場地不大，前面好擠",isReview:!1,venueId:{title:"Legacy Taichung"},userId1:{email:"13@gmail.com"}},{id:"14",report_num:0,comment:"視野很不錯，離舞台好近好讚",isReview:!1,venueId:{title:"Legacy Taichung"},userId1:{email:"14@gmail.com"}},{id:"15",report_num:0,comment:"好遠，應援布條舞台應該看不太到QQ",isReview:!1,venueId:{title:"Legacy Taichung"},userId1:{email:"15@gmail.com"}}]}),actions:{getComments(t){httpData("get",t).then(e=>{for(const i of e.data)i.id=i.id.toString();this.comments=[...e.data],this.backupDatas=[...this.comments]})},checkReview(t){const e=this.comments.find(i=>i.id===t);e.isReview=!0},chagneCheckList(t){const e=this.comments.find(s=>s.id===t),i=this.commentCheckList.findIndex(s=>s.id===t);i===-1?this.commentCheckList.push(e):this.commentCheckList.splice(i,1)},checkSelectReview(){this.controlCheckAll=!1;const t=document.querySelectorAll('[role="checkbox"]');this.commentCheckList.forEach(e=>{this.checkReview(e.id)}),t.forEach(e=>{e.dataset.state==="checked"&&e.click()}),this.controlCheckAll=!0},allCheckList(){if(!this.controlCheckAll)return;const t=document.querySelectorAll('[role="checkbox"]');t.forEach((e,i)=>{if(i!==0){if(e.dataset.state!==t[0].dataset.state)return;e.click()}})},checkSelectReview(){this.controlCheckAll=!1;const t=document.querySelectorAll('[role="checkbox"]');this.commentCheckList.forEach(e=>{this.checkReview(e.id)}),t.forEach(e=>{e.dataset.state==="checked"&&e.click()}),this.controlCheckAll=!0},deleteSelectReview(){this.controlCheckAll=!1;const t=document.querySelectorAll('[role="checkbox"]');this.commentCheckList.forEach(e=>{this.deleteComment(e.id)}),t.forEach(e=>{e.dataset.state==="checked"&&e.click()}),this.controlCheckAll=!0,this.alertMessage("success","已刪除")},sortCommentByReportNum(){this.sortInitial=!this.sortInitial,this.sortInitial?this.comments.sort((t,e)=>t.report_num-e.report_num):this.comments.sort((t,e)=>e.report_num-t.report_num)},backupData(){this.backupDatas=[...this.comments]},searchComment:o(function(t){if(this.comments=[...this.backupDatas],t.target.value==="")return;const e=new RegExp(t.target.value,"i"),i=this.comments.filter(c=>e.test(c.venueId.title)),s=this.comments.filter(c=>e.test(c.userId1.email));this.comments=[...i,...s]},500,{maxWait:2e3}),deleteComment(t){const e=this.comments.findIndex(i=>i.id===t);this.comments.splice(e,1),this.alertMessage("success","評論已刪除")},warnUser(t,e){if(this.warningReason===""){this.alertMessage("error","請輸入警告理由");return}this.deleteComment(t),this.alertMessage("success",`對${e.email}使用者警告已送出`)},alertMessage(t,e){l.fire({icon:t,text:e})}},getters:{filterDatas(){return this.selectReview==="全部"?this.comments:this.selectReview==="未審閱"?this.comments.filter(t=>!t.isReview):this.comments.filter(t=>t.isReview)}}});export{a as c};
