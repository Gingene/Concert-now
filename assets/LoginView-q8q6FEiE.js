import{_ as m}from"./loginComponent-35IYXifM.js";import{t as l,o as p,s as a,u}from"./vee-validate-zod.esm-42vaLaXH.js";import{K as d,g as _,u as g,L as h,M as f,o as S}from"./index-iKGXzdRM.js";import"./CardTitle-1rnaJ3Ld.js";import"./CardDescription-q0VM1CDr.js";import"./CardContent-c2-ZLrUJ.js";import"./CardFooter-PUKTLYtD.js";import"./HoverCardContent-i_Gq3uoY.js";import"./Label-V9EyO6_a.js";const k={},F=Object.assign(k,{__name:"LoginView",setup(b){const s=d(),r=l(p({email:a({required_error:"必填"}).email("信箱格式不正確"),password:a({required_error:"必填"}).min(8,{message:"密碼至少為8碼"})})),t=u({validationSchema:r}),n=o=>{console.log(o),h.post(f.login,o).then(e=>{const{data:i}=e.data;document.cookie=`AccessToken=${i.access_token}; path=/`,localStorage.setItem("user",JSON.stringify(e.data.data.user)),alert("登入成功！"),s.push("/member")}).catch(e=>{console.log(e),alert("登入失敗！"),this.userLogin.password=""})},c=t.handleSubmit(o=>{console.log(o),n(o),t.resetForm()});return(o,e)=>(S(),_(m,{defaultPage:"login",onMethod:g(c)},null,8,["onMethod"]))}});export{F as default};
