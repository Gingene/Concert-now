import{M as $,c as u,a as d,b as e,u as t,w as a,aN as g,ba as b,F as w,o as m,Y as x,E as i,r as D,g as y,t as r}from"./index-M_ZmZLFt.js";import{_ as S,a as V,b as E,c as A,d as k,e as h,f as M}from"./SelectLabel-MrAb8rxI.js";import{_ as T,a as v,b as c,c as I,d as _,e as P}from"./TableRow-wL2jgAOf.js";import{_ as B}from"./TableCaption-0YtvF8vR.js";import"./check-4u2heUvf.js";var R={VITE_APP_SERVICE_API:"https://concert-now.dewed.one",BASE_URL:"/Concert-now/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_SERVICE_API:j}=R,C=async o=>{const l=`${j}/api/admin/users?page=${o}`;try{return await $.get(l)}catch(n){throw console.error("[GetAdminMembers Failed]",n),new Error}},F={class:"flex gap-6 mb-8 relative"},N={class:"w-[36%] lg:w-[290px] relative lg:pt-6"},U=d("span",{class:"material-symbols-outlined absolute top-7 right-2.5 cursor-pointer hidden lg:block"}," search ",-1),O={class:"w-[20%] lg:w-[250px] flex flex-col items-center lg:flex-row lg:justify-center lg:pt-5"},L=d("label",{for:"status",class:"pb-2 font-semibold lg:w-[50%]"}," 會員狀態 ",-1),z={class:"flex items-center"},G=["src"],Y={class:"ml-3"},q={key:0,class:"material-symbols-outlined mr-1"},H={key:1,class:"material-symbols-outlined mr-1 text-violet-800"},J={class:"flex justify-center py-12"},K=d("h2",null,"哇! 找不到資料~",-1),Q=[K],W={data(){return{searchText:"",selectStatus:"全部",selectTime:"",changeFilter:"true",filteredUsers:[],usersData:null,jointimes:[{id:1,time:"2023/01-2023/02"},{id:2,time:"2023/02-2023/03"},{id:3,time:"2023/03-2023/04"},{id:4,time:"2023/04-2023/05"},{id:5,time:"2023/05-2023/06"}]}},computed:{filteredData(){const o=this.searchText,l=this.selectStatus;return o?this.usersData.filter(n=>n.name.match(o)||n.email.match(o)):l==="全部"?this.usersData:this.usersData.filter(n=>{let f=!0;return l&&l.length>0&&(f=n.status===l),f})},filterSelect(){const o=this.selectStatus;return o==="全部"?this.users:this.users.filter(l=>{let n=!0;return o&&o.length>0&&(n=l.status===o),n})}},methods:{async getAdminMembersData(o=1){try{const l=await C(o);this.usersData=l.data.data}catch(l){console.error(l)}}},mounted(){this.getAdminMembersData()}},st=Object.assign(W,{__name:"AdminMembersView",setup(o){return(l,n)=>{var f,p;return m(),u(w,null,[d("div",null,[d("div",F,[d("div",N,[e(t(x),{type:"text",placeholder:"請輸入姓名及信箱查詢",modelValue:l.searchText,"onUpdate:modelValue":n[0]||(n[0]=s=>l.searchText=s),modelModifiers:{trim:!0}},null,8,["modelValue"]),U]),d("div",O,[e(t(M),{modelValue:l.selectStatus,"onUpdate:modelValue":n[1]||(n[1]=s=>l.selectStatus=s)},{default:a(()=>[L,e(t(S),null,{default:a(()=>[e(t(V),{placeholder:"全部"})]),_:1}),e(t(E),null,{default:a(()=>[e(t(A),null,{default:a(()=>[e(t(k),{class:"tracking-wide"},{default:a(()=>[i("會員狀態")]),_:1}),e(t(h),{value:"全部"},{default:a(()=>[i(" 全部 ")]),_:1}),e(t(h),{value:"啟用中"},{default:a(()=>[i(" 啟用中")]),_:1}),e(t(h),{value:"停權中"},{default:a(()=>[i("停權中")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),g(e(t(P),{class:"w-[700px] lg:w-full overflow-x-auto bg-white rounded-lg text-md mb-10"},{default:a(()=>[e(t(B),null,{default:a(()=>[i("會員管理")]),_:1}),e(t(T),null,{default:a(()=>[e(t(v),null,{default:a(()=>[e(t(c),{class:"font-semibold"},{default:a(()=>[i(" 名稱 ")]),_:1}),e(t(c),{class:"font-semibold"},{default:a(()=>[i("信箱")]),_:1}),e(t(c),{class:"font-semibold pl-6"},{default:a(()=>[i("會員狀態")]),_:1}),e(t(c),{class:"font-semibold"},{default:a(()=>[i(" 警告次數 ")]),_:1}),e(t(c),{class:"font-semibold"},{default:a(()=>[i(" 會員編號 ")]),_:1}),e(t(c),{class:"font-semibold"},{default:a(()=>[i(" 加入會員日期 ")]),_:1})]),_:1})]),_:1}),e(t(I),null,{default:a(()=>[(m(!0),u(w,null,D(l.filteredData,s=>(m(),y(t(v),{key:s.id},{default:a(()=>[e(t(_),{class:"font-medium"},{default:a(()=>[d("div",z,[d("img",{class:"size-[56px] border-2 rounded-full bg-white p-1",src:s==null?void 0:s.profile_image_url,alt:"使用者大頭貼"},null,8,G),d("p",Y,r(s==null?void 0:s.name),1)])]),_:2},1024),e(t(_),null,{default:a(()=>[i(r(s==null?void 0:s.email),1)]),_:2},1024),e(t(_),{class:"flex items-center"},{default:a(()=>[s.status==="啟用中"?(m(),u("span",q," check_circle ")):(m(),u("span",H," warning ")),i(" "+r(s.status),1)]),_:2},1024),e(t(_),{class:"pl-10"},{default:a(()=>[i(r(s==null?void 0:s.warning_list.length),1)]),_:2},1024),e(t(_),{class:"pl-10"},{default:a(()=>[i(r(s==null?void 0:s.id),1)]),_:2},1024),e(t(_),null,{default:a(()=>[i(r(s==null?void 0:s.created_at),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},512),[[b,((f=l.filteredData)==null?void 0:f.length)!==0]]),g(d("div",J,Q,512),[[b,!((p=l.filteredData)!=null&&p.length)]])],64)}}});export{st as default};
