import{T as L}from"./TitleComponent-T12FEnTB.js";import{a as A,b as S,_ as C}from"./HoverCardContent-aCbXYl-l.js";import{as as W,_ as E,ab as U,K as G,z as J,y as K,at as P,au as q,av as Q,aw as X,c as l,a as s,F as h,r as _,b as x,w as i,u as c,t as r,ae as Z,o as n,E as p,h as b,C as tt,g as u,I as et,J as st,d as R}from"./index-OrsFlzd2.js";import{h as k}from"./moment-WSJ9un1t.js";import{u as ot}from"./artists-i_IQdxKI.js";function nt(){return{swalWithStylingButtons:W.mixin({customClass:{popup:"px-6 py-10 rounded-md bg-black-90 text-white text-nowrap",confirmButton:"mt-4 mr-2 whitespace-nowrap focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 border-[3px] border-tiffany bg-tiffany text-primary p-2 md:py-2 md:px-4 lg:py-2 lg:px-6 rounded-btn1",cancelButton:"mt-4 ml-2 whitespace-nowrap focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 border-[3px] border-black-80 bg-black-80 text-primary text-white p-2 md:py-2 md:px-4 lg:py-2 lg:px-6 rounded-btn1"},buttonsStyling:!1})}}const g=o=>(et("data-v-d3ba27cc"),o=o(),st(),o),at={class:"container space-y-[20px] md:space-y-[58px] lg:space-y-[117px] pt-16 pb-[128px] lg:pb-[192px]"},lt={class:"artist-intro mb-10 md:mb-[6.5rem] lg:mb-40"},it={class:"flex justify-between mb-5"},rt={class:"flex"},dt={key:0},ct={class:"w-[85%] lg:w-[63%] mx-auto xl:relative"},mt=["src","alt"],pt={class:"flex justify-center xl:absolute bottom-[-13%] right-[-12%]"},xt={class:"relative"},ut={class:"bg-artistName font-lato absolute top-[-1rem] left-[1rem] text-stroke-light z-[-1]"},ft={class:"bg-artistName font-lato"},ht={class:"md:flex md:justify-between md:items-center lg:w-[70%] lg:mx-auto"},_t={class:"mb-[150px] md:mb-0 md:w-[45%]"},bt={class:"break-all text-justify pb-10 md:pb-6 md:text-[12px] lg:text-[13px]"},gt=g(()=>s("hr",{class:"pb-10 md:pb-6"},null,-1)),vt=g(()=>s("p",{class:"hidden font-semibold pb-4"},"HITS",-1)),yt={class:"gap-3 flex flex-row md:flex-col flex-wrap items-center md:items-end"},kt={class:"artist-honors-relative md:w-[50%]"},wt=g(()=>s("p",{class:"honors text-stroke-light bg-artistName"},"HONORS",-1)),At={class:"bg-shadow-trans-text artist-honors w-[90%] md:w-[100%] ml-auto text-center break-keep py-[50px] px-[10px] md:py-[60px] rounded-[31px] z-[-1]"},St={key:0},Ct=g(()=>s("br",null,null,-1)),Dt=g(()=>s("br",null,null,-1)),Tt={class:"flex items-center"},Bt={class:"concert-box-time text-black-20 mr-3.5 md:mr-[45px] xl:mr-[120px]"},Ft={class:"text-[12px] sm:text-[15px] md:text-[19px]"},jt={class:"text-[14px] sm:text-[18px] md:text-[22px]"},Mt={class:"text-[13px] sm:text-[16px] md:text-[18px] text-black-60"},Nt=["onClick"],It={key:1,class:"concert-box border border-black-60 rounded-[25px] py-[10px] px-[9px] flex justify-center items-center lg:w-[70%] lg:mx-auto"},Yt={class:"flex items-center"},$t={class:"concert-box-time text-black-20 mr-3.5 md:mr-[45px] xl:mr-[120px]"},Vt={class:"text-[12px] sm:text-[15px] md:text-[19px]"},zt={class:"text-[14px] sm:text-[18px] md:text-[22px]"},Ot={class:"text-[12px] sm:text-[15px] md:text-[16px] text-black-60"},Lt=["onClick"],Rt={key:1,class:"concert-box border border-black-60 rounded-[25px] py-[10px] px-[9px] flex justify-center items-center lg:w-[70%] lg:mx-auto"},{setIsLoading:w}=U(),{toast:Ht}=G(),{swalWithStylingButtons:H}=nt(),Wt={data(){return{checkData:null,singleArtist:null,savedConcertsData:null}},props:["id"],computed:{...J(Z,["AccessToken"]),saveState(){return this.savedConcertsData}},watch:{id(o){w(),this.getSingleArtistData(o),setTimeout(()=>{w()},300)}},methods:{...K(ot,["postFollowConcetsData","deleteFollowConcetsData"]),async getSingleArtistData(o){try{const t=await P(o);this.singleArtist=t.data.data}catch(t){console.error(t)}},toggleFollowArtist(o,t){if(!this.AccessToken){H.fire({title:"登入後才能用追蹤功能喔！",showCancelButton:!0,confirmButtonText:"前往登入"}).then(m=>{m.isConfirmed&&(window.location.href="login#/login")});return}o?this.handleFollowAction(t,"刪除","刪除追蹤成功"):this.handleFollowAction(t,"新增","追蹤成功")},changeSaveConcertsMode(o){var t;if(this.AccessToken===void 0){H.fire({title:"登入後才能用收藏功能喔！",showCancelButton:!0,confirmButtonText:"前往登入"}).then(m=>{m.isConfirmed&&(window.location.href="login#/login")});return}(t=this.savedConcertsData)!=null&&t.some(m=>m.id===o)?this.handleSaveAction(o,"刪除","已加入收藏"):this.handleSaveAction(o,"新增","已取消收藏")},async getSavedConcertsData(){try{const o=await q();this.savedConcertsData=o.data.data.saved_concerts}catch(o){console.error(o)}},async postSaveConcertsData(o){try{await Q(o)}catch(t){console.error(t)}},async deleteSaveConcertsData(o){try{await X(o)}catch(t){console.error(t)}},handleFollowAction(o,t,m){(t==="新增"?this.postFollowConcetsData:this.deleteFollowConcetsData)(o).then(()=>this.getSingleArtistData(o)).then(()=>{setTimeout(()=>this.toastMsg(m),300)})},handleSaveAction(o,t,m){(t==="新增"?this.postSaveConcertsData:this.deleteSaveConcertsData)(o).then(()=>this.getSavedConcertsData()).then(()=>{setTimeout(()=>this.toastMsg(m),300)})},toastMsg(o){Ht({title:o,description:""})},updateData(o){this.getSingleArtistData(o)}},mounted(){w(),this.getSingleArtistData(Number(this.$route.params.id)),setTimeout(()=>{w()},300),this.AccessToken&&this.getSavedConcertsData()}},Et=Object.assign(Wt,{__name:"ArtistSingleView",setup(o){return(t,m)=>{var D,T,B,F,j,M,N,I,Y,$,V,z,O;const v=R("RouterLink"),y=R("font-awesome-icon");return n(),l("div",at,[s("section",lt,[s("div",it,[s("div",rt,[(n(!0),l(h,null,_((D=t.singleArtist)==null?void 0:D.keywords,(e,a)=>{var d;return n(),l("p",{class:"mr-1",key:a},[p(r(e)+" ",1),((d=t.singleArtist.keywords)==null?void 0:d.length)-1!==a?(n(),l("span",dt,"/")):b("",!0)])}),128))]),x(c(C),null,{default:i(()=>[x(c(A),null,{default:i(()=>{var e,a,d;return[(n(),l("button",{key:(e=t.singleArtist)==null?void 0:e.id,class:tt(["basic-follow text-base",(a=t.singleArtist)!=null&&a.is_followed?"tiffany-follow":"tiffany-outline"]),onClick:m[0]||(m[0]=f=>t.toggleFollowArtist(t.singleArtist.is_followed,t.singleArtist.id))},r((d=t.singleArtist)!=null&&d.is_followed?"Following":"Follow"),3))]}),_:1}),t.AccessToken===void 0?(n(),u(c(S),{key:0},{default:i(()=>[p(" 請登入開啟追蹤功能 ")]),_:1})):b("",!0)]),_:1})]),s("div",ct,[s("img",{class:"rounded-xl mb-5",src:(B=(T=t.singleArtist)==null?void 0:T.cover_urls)==null?void 0:B.horizontal,alt:(F=t.singleArtist)==null?void 0:F.name},null,8,mt),s("div",pt,[s("div",xt,[s("div",ut,r((j=t.singleArtist)==null?void 0:j.name),1),s("div",ft,r((M=t.singleArtist)==null?void 0:M.name),1)])])])]),s("div",ht,[s("section",_t,[s("p",bt,r((N=t.singleArtist)==null?void 0:N.description),1),gt,vt,s("div",yt,[(n(!0),l(h,null,_((I=t.singleArtist)==null?void 0:I.popular_songs,(e,a)=>(n(),l("div",{key:a,class:"song border text-center rounded-2xl py-[8px] px-[11px]"},r(e),1))),128))])]),s("section",kt,[wt,s("div",At,[(n(!0),l(h,null,_((Y=t.singleArtist)==null?void 0:Y.honors,(e,a)=>{var d;return n(),l("div",{key:a},[p(r(e)+" ",1),((d=t.singleArtist.honors)==null?void 0:d.length)-1!==a?(n(),l("span",St,[Ct,p("-"),Dt])):b("",!0)])}),128))])])]),s("div",null,[x(L,{class:"flex justify-center mb-[30px]"},{subTitle:i(()=>[p("UPCOMING")]),mainTitle:i(()=>[p("即將舉辦")]),_:1}),(($=t.singleArtist)==null?void 0:$.upcoming_concerts.length)>0?(n(!0),l(h,{key:0},_((V=t.singleArtist)==null?void 0:V.upcoming_concerts,e=>{var a;return n(),l("div",{key:e.id,class:"concert-box border border-black-60 rounded-[25px] py-[10px] px-[9px] mb-6 flex justify-between items-center lg:w-[70%] lg:mx-auto"},[s("div",Tt,[s("div",Bt,[s("p",Ft,r(c(k)(e.holding_time).format("MM/DD")),1),s("p",jt,r(c(k)(e.holding_time).format("YYYY")),1)]),s("div",null,[x(v,{to:`/concerts/${e==null?void 0:e.id}`,class:"text-[14px] sm:text-[17px] md:text-[21px]"},{default:i(()=>[p(r(e==null?void 0:e.title),1)]),_:2},1032,["to"]),s("p",Mt,r((a=e==null?void 0:e.venue)==null?void 0:a.title),1)])]),x(c(C),null,{default:i(()=>[x(c(A),null,{default:i(()=>{var d;return[s("button",{class:"mb-auto",onClick:f=>t.changeSaveConcertsMode(e.id)},[(d=t.saveState)!=null&&d.some(f=>f.id===(e==null?void 0:e.id))?(n(),u(y,{key:0,icon:"fa-solid fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"})):(n(),u(y,{key:1,icon:"fa-regular fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"}))],8,Nt)]}),_:2},1024),t.AccessToken===void 0?(n(),u(c(S),{key:0},{default:i(()=>[p(" 登入開啟收藏功能 ")]),_:1})):b("",!0)]),_:2},1024)])}),128)):(n(),l("div",It,"目前沒有資料 ~ ~ ~"))]),s("div",null,[x(L,{class:"flex justify-center mb-[30px]"},{subTitle:i(()=>[p("HISTORY")]),mainTitle:i(()=>[p("已結束")]),_:1}),((z=t.singleArtist)==null?void 0:z.historical_concerts.length)>0?(n(!0),l(h,{key:0},_((O=t.singleArtist)==null?void 0:O.historical_concerts,e=>{var a;return n(),l("div",{key:e.id,class:"concert-box border border-black-60 rounded-[25px] py-[10px] px-[9px] mb-6 flex justify-between items-center lg:w-[70%] lg:mx-auto"},[s("div",Yt,[s("div",$t,[s("p",Vt,r(c(k)(e.holding_time).format("MM/DD")),1),s("p",zt,r(c(k)(e.holding_time).format("YYYY")),1)]),s("div",null,[x(v,{to:`/concerts/${e.id}`,class:"text-[14px] sm:text-[17px] md:text-[21px]"},{default:i(()=>[p(r(e==null?void 0:e.title),1)]),_:2},1032,["to"]),s("p",Ot,r((a=e==null?void 0:e.venue)==null?void 0:a.title),1)])]),x(c(C),null,{default:i(()=>[x(c(A),null,{default:i(()=>{var d;return[s("button",{class:"mb-auto",onClick:f=>t.changeSaveConcertsMode(e.id)},[(d=t.saveState)!=null&&d.some(f=>f.id===(e==null?void 0:e.id))?(n(),u(y,{key:0,icon:"fa-solid fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"})):(n(),u(y,{key:1,icon:"fa-regular fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"}))],8,Lt)]}),_:2},1024),t.AccessToken===void 0?(n(),u(c(S),{key:0},{default:i(()=>[p(" 請登入開啟收藏功能 ")]),_:1})):b("",!0)]),_:2},1024)])}),128)):(n(),l("div",Rt,"目前沒有資料 ~ ~ ~"))])])}}}),qt=E(Et,[["__scopeId","data-v-d3ba27cc"]]);export{qt as default};
