import{c as _,e as u,d as t,w as a,u as e,f as l,t as d,A as C,B as I,F as k,S as V,o as c,g as o,h as $,G as N,s as A,a as g,Y as S}from"./index-brEfUqJP.js";import{_ as U,a as R,b as M,c as E}from"./TableCaption-uwwYNJ9A.js";import{_ as F,a as G,b as Q,c as Y,d as q,e as O,f as z,g as H,h as b}from"./DialogFooter-xKbRKcxs.js";import{_ as y,a as D,b as L,c as x,d as j,f,e as B,g as J,h as T,i as h,j as K,l as P,m as W,n as X,k as v,o as Z}from"./SelectLabel-bMkFfbN5.js";const ee={class:"grid grid-cols-1 lg:grid-cols-5 gap-4 mb-8"},te={class:"col-span-2 lg:col-span-1"},ae={class:"flex col-span-2"},se=u("span",{class:"material-symbols-outlined absolute"}," search ",-1),le={class:"flex col-span-2 items-center justify-between"},ie={key:0,class:"material-symbols-outlined"},ne={key:1,class:"material-symbols-outlined"},ue=["for"],ce=u("span",{class:"material-symbols-outlined"},"delete",-1),oe={class:"flex justify-center py-12"},me=u("h2",null,"哇! 找不到資料~",-1),de=[me],re={class:"flex justify-center"},_e={data(){return{commentCheckList:[],selectReview:"未審閱",initial:!0,backupDatas:[],mockDatas:[{id:"1",report_num:0,comment:"距離非常近，可以握到手！",isReview:!1,venueId:{title:"台北國際會議中心TICC"},userId1:{email:"1@gmail.com"}},{id:"2",report_num:0,comment:"場地佈置太爛的吧，超大布條擋住視線1",isReview:!1,venueId:{title:"台北國際會議中心TICC"},userId1:{email:"2@gmail.com"}},{id:"3",report_num:1,comment:"有點遠，建議帶望遠鏡",isReview:!1,venueId:{title:"台北國際會議中心TICC"},userId1:{email:"3@gmail.com"}},{id:"4",report_num:0,comment:"前面有柱子擋住，根本看不太到舞台，傻眼",isReview:!1,venueId:{title:"新北工商展覽中心"},userId1:{email:"1@gmail.com"}},{id:"5",report_num:0,comment:"接得到舞台丟下來的禮物！超讚的！",isReview:!1,venueId:{title:"新北工商展覽中心"},userId1:{email:"4@gmail.com"}},{id:"6",report_num:31,comment:"我喜歡吃可麗餅",isReview:!1,venueId:{title:"新北工商展覽中心"},userId1:{email:"5@gmail.com"}},{id:"7",report_num:1,comment:"靠近右邊離音響好近，好大聲，不舒服",isReview:!1,venueId:{title:"台北流行音樂中心"},userId1:{email:"7@gmail.com"}},{id:"8",report_num:0,comment:"視野很好，而且是有座位的，很不錯",isReview:!1,venueId:{title:"台北流行音樂中心"},userId1:{email:"8@gmail.com"}},{id:"9",report_num:0,comment:"空間寬敞，也看得很清楚",isReview:!1,venueId:{title:"台北流行音樂中心"},userId1:{email:"9@gmail.com"}},{id:"10",report_num:0,comment:"空間寬敞，站在噴霧旁邊超衰的",isReview:!1,venueId:{title:"高雄流行音樂中心"},userId1:{email:"10@gmail.com"}},{id:"11",report_num:25,comment:"香雞排好香，想ㄘ",isReview:!1,venueId:{title:"高雄流行音樂中心"},userId1:{email:"11@gmail.com"}},{id:"12",report_num:0,comment:"很遠，要帶望遠鏡。而且很偏，看不是很清楚",isReview:!1,venueId:{title:"高雄流行音樂中心"},userId1:{email:"12@gmail.com"}},{id:"13",report_num:0,comment:"場地不大，前面好擠",isReview:!1,venueId:{title:"Legacy Taichung"},userId1:{email:"13@gmail.com"}},{id:"14",report_num:0,comment:"視野很不錯，離舞台好近好讚",isReview:!1,venueId:{title:"Legacy Taichung"},userId1:{email:"14@gmail.com"}},{id:"15",report_num:0,comment:"好遠，應援布條舞台應該看不太到QQ",isReview:!1,venueId:{title:"Legacy Taichung"},userId1:{email:"15@gmail.com"}}]}},methods:{checkReview(i){const s=this.mockDatas.find(m=>m.id===i);s.isReview=!0},checkAllReview(){for(const i of this.mockDatas)i.isReview=!0},chagneCheckList(i){const s=this.mockDatas.find(n=>n.id===i),m=this.commentCheckList.findIndex(n=>n.id===s.id);m===-1?this.commentCheckList.push(s):this.commentCheckList.splice(m,1)},allCheckList(){this.commentCheckList.length<this.mockDatas.length?this.commentCheckList=this.mockDatas:this.commentCheckList=[]},sortCommentByReportNum(){this.initial=!this.initial,this.initial?this.mockDatas.sort((i,s)=>i.report_num-s.report_num):this.mockDatas.sort((i,s)=>s.report_num-i.report_num)},matchComment(i){if(this.mockDatas=[...this.backupDatas],i.target.value==="")return;const s=this.mockDatas.filter(n=>new RegExp(i.target.value,"i").test(n.venueId.title)),m=this.mockDatas.filter(n=>n.userId1.email.match(i.target.value));this.mockDatas=[...s,...m]},deleteComment(i){console.log(i),this.alertMessage("success","評論已刪除")},warnUser(i){console.log(i),this.alertMessage("success",`對${i.email}使用者警告已送出`)},alertMessage(i,s){V.fire({icon:i,text:s})}},computed:{filterDatas(){return this.selectReview==="全部"?this.mockDatas:this.selectReview==="未審閱"?this.mockDatas.filter(i=>!i.isReview):this.mockDatas.filter(i=>i.isReview)}},mounted(){this.backupDatas=[...this.mockDatas]}},ge=Object.assign(_e,{__name:"AdminCommentsView",setup(i){return(s,m)=>(c(),_(k,null,[u("div",ee,[u("div",te,[t(e(B),{modelValue:s.selectReview,"onUpdate:modelValue":m[0]||(m[0]=n=>s.selectReview=n)},{default:a(()=>[t(e(y),null,{default:a(()=>[t(e(D),{placeholder:"未審閱"})]),_:1}),t(e(L),null,{default:a(()=>[t(e(x),null,{default:a(()=>[t(e(j),null,{default:a(()=>[l("評論審閱")]),_:1}),t(e(f),{value:"未審閱"},{default:a(()=>[l(" 未審閱 ")]),_:1}),t(e(f),{value:"已審閱"},{default:a(()=>[l(" 已審閱 ")]),_:1}),t(e(f),{value:"全部"},{default:a(()=>[l(" 全部 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),u("div",ae,[t(e(F),{type:"text",placeholder:"輸入會場、用戶名稱查詢...",onInput:s.matchComment,class:"bg-white rounded-r-none border h-10 px-2 w-full focus-visible:ring-offset-0"},null,8,["onInput"]),t(e(o),{class:"rounded-l-none"},{default:a(()=>[se]),_:1})]),u("div",le,[l(" 列表數量: "+d(s.filterDatas.length)+" ",1),u("div",null,[t(e(o),{class:"bg-lime-500",onClick:s.checkAllReview},{default:a(()=>[l("已審閱")]),_:1},8,["onClick"]),t(e(o),{class:"ml-4",variant:"destructive"},{default:a(()=>[l("刪除")]),_:1})])])]),u("div",null,d(s.commentCheckList),1),C(t(e(P),{class:"bg-white rounded-lg text-md mb-10"},{default:a(()=>[t(e(U),null,{default:a(()=>[l("評論管理控制面板")]),_:1}),t(e(J),null,{default:a(()=>[t(e(T),{class:"hover:bg-white",style:{color:"black !important"}},{default:a(()=>[t(e(h),null,{default:a(()=>[t(e(R),{onClick:s.allCheckList},null,8,["onClick"])]),_:1}),t(e(h),null,{default:a(()=>[t(e(o),{variant:"ghost",onClick:s.sortCommentByReportNum},{default:a(()=>[l("檢舉人數"),s.initial?(c(),_("span",ie," stat_1 ")):(c(),_("span",ne," stat_minus_1 "))]),_:1},8,["onClick"])]),_:1}),t(e(h),null,{default:a(()=>[l("評論內容")]),_:1}),t(e(h),null,{default:a(()=>[l("場地名稱")]),_:1}),t(e(h),null,{default:a(()=>[l("用戶名")]),_:1}),t(e(h))]),_:1})]),_:1}),t(e(K),{class:"text-gray-600"},{default:a(()=>[(c(!0),_(k,null,$(s.filterDatas,n=>(c(),g(e(T),{class:"py-8",key:n.id},{default:a(()=>[t(e(v),{class:"text-purple-primary"},{default:a(()=>[t(e(R),{id:n.id,onClick:r=>s.chagneCheckList(n.id),class:"checkboxList"},null,8,["id","onClick"]),u("label",{for:n.id,class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},null,8,ue)]),_:2},1024),t(e(v),{class:"text-purple-primary text-center"},{default:a(()=>[l(d(n.report_num),1)]),_:2},1024),t(e(v),null,{default:a(()=>[l(d(n.comment),1)]),_:2},1024),t(e(v),null,{default:a(()=>[l(d(n.venueId.title),1)]),_:2},1024),t(e(v),null,{default:a(()=>[l(d(n.userId1.email),1)]),_:2},1024),t(e(v),{class:"space-x-4 flex"},{default:a(()=>[n.isReview?(c(),g(e(o),{key:1,class:"bg-lime-500"},{default:a(()=>[l("已審閱")]),_:1})):(c(),g(e(o),{key:0,class:"bg-gray-200",onClick:r=>s.checkReview(n.id)},{default:a(()=>[l("未審閱")]),_:2},1032,["onClick"])),t(e(G),null,{default:a(()=>[t(e(Q),null,{default:a(()=>[t(e(o),{variant:"destructive"},{default:a(()=>[ce]),_:1})]),_:1}),t(e(Y),null,{default:a(()=>[t(e(q),null,{default:a(()=>[t(e(O),{class:"text-center"},{default:a(()=>[l("是否要警告使用者？")]),_:1}),t(e(z),null,{default:a(()=>[t(e(B),null,{default:a(()=>[t(e(y),null,{default:a(()=>[t(e(D),{placeholder:"警告原因"})]),_:1}),t(e(L),null,{default:a(()=>[t(e(x),null,{default:a(()=>[t(e(j),null,{default:a(()=>[l("警告原因")]),_:1}),t(e(f),{value:"不實評論"},{default:a(()=>[l(" 不實評論 ")]),_:1}),t(e(f),{value:"惡意評論"},{default:a(()=>[l(" 惡意評論 ")]),_:1}),t(e(f),{value:"腥羶色內容"},{default:a(()=>[l(" 腥羶色內容 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(e(H),null,{default:a(()=>[t(e(b),null,{default:a(()=>[t(e(o),{class:"bg-lime-500",onClick:r=>s.deleteComment(n.id)},{default:a(()=>[l("不警告")]),_:2},1032,["onClick"])]),_:2},1024),t(e(b),null,{default:a(()=>[t(e(o),{variant:"destructive",onClick:r=>s.warnUser(n.userId1)},{default:a(()=>[l("送出警告")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},512),[[I,s.filterDatas.length!==0]]),C(u("div",oe,de,512),[[I,!s.filterDatas.length]]),u("div",re,[t(e(A),{total:100,"sibling-count":1,"show-edges":"","default-page":1},{default:a(({page:n})=>[t(e(N),{class:"flex items-center gap-1"},{default:a(({items:r})=>[t(e(M)),t(e(W)),(c(!0),_(k,null,$(r,(p,w)=>(c(),_(k,null,[p.type==="page"?(c(),g(e(S),{key:w,value:p.value,"as-child":""},{default:a(()=>[t(e(o),{class:"w-10 h-10 p-0",variant:p.value===n?"default":"outline"},{default:a(()=>[l(d(p.value),1)]),_:2},1032,["variant"])]),_:2},1032,["value"])):(c(),g(e(Z),{key:p.type,index:w},null,8,["index"]))],64))),256)),t(e(X)),t(e(E))]),_:2},1024)]),_:1})])],64))}});export{ge as default};
