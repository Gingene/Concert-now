import{ae as $,af as A,c as u,b as s,w as a,a as o,a7 as v,u as t,F as p,r as g,ag as C,o as n,y as c,B as m,h as d,t as _,i as x,D as I,ah as S,ai as R,aj as z,d as b}from"./index-Hxe7G9cU.js";import{a as j,b as T,_ as N}from"./CardTitle-n9oh-X1z.js";import{_ as V}from"./CardDescription-v3_3r130.js";import{_ as F}from"./CardFooter-uy06zsKX.js";import{_ as U,a as q,b as L,c as D,d as E}from"./PaginationPrev-r90gHy_i.js";import{_ as O,a as P,b as J}from"./HoverCardContent-j2vky4Qk.js";import{_ as Z}from"./BannerComponent-XXq_h2SN.js";import{u as B}from"./concerts-VvDpMqOQ.js";import"./more-horizontal-5Ed6fRQl.js";import"./chevron-right-kLHwGARO.js";import"./moment-WSJ9un1t.js";const G={class:"container relative pt-10"},H={class:"space-y-6 lg:space-y-14 pb-20 lg:pb-32 border-b-2 border-black-60"},K={class:"space-y-4 space-x-4 space-x-reverse -m-1 p-1"},M={class:"space-y-4 space-x-4 space-x-reverse -m-1 p-1"},Q={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6"},W=["src","alt"],X={class:"text-tiny lg:text-sm"},Y={class:"absolute pt-2 pb-4 text-black-60 text-tiny"},ee=["onClick"],te=o("span",{class:"text-sm"},"查看更多",-1),se={data(){return{bannerInputPlaceholder:"請輸入演唱會名稱",timeRanges:["本日","本週","本月"],countryRanges:["台灣","日本","韓國","歐美","其他"],timeButtonIsActive:"stateAll",countryButtonIsActive:"stateAll"}},inject:["http","path"],methods:{...$(B,["getConcerts","saveUnSavedConcert","callSaveAction"]),...$(C,["getUserSavedAndFollowed"])},computed:{...A(B,["concerts","pagination"]),...A(C,["AccessToken","savedConcerts"]),isSaved(){return[...this.savedConcerts]}},mounted(){this.getConcerts(),this.AccessToken!==void 0&&this.getUserSavedAndFollowed()}},fe=Object.assign(se,{__name:"ConcertsView",setup(ae){return(l,f)=>{const k=b("router-link"),h=b("font-awesome-icon"),w=b("RouterLink");return n(),u("section",G,[s(Z,{"prop-placeholder":l.bannerInputPlaceholder},{mainTitle:a(()=>[c("CONCERTS")]),_:1},8,["prop-placeholder"]),o("main",H,[o("div",null,[o("div",K,[s(t(m),{variant:"tiffany-outline",size:"base",class:v(["me-4",{active:l.timeButtonIsActive==="stateAll"}]),onClick:f[0]||(f[0]=e=>{l.getConcerts("time","all"),l.timeButtonIsActive="stateAll"})},{default:a(()=>[c(" 全部 ")]),_:1},8,["class"]),(n(!0),u(p,null,g(l.timeRanges,(e,i)=>(n(),d(t(m),{key:e,variant:"tiffany-outline",size:"base",class:v({active:l.timeButtonIsActive===`state${i}`}),onClick:r=>{l.getConcerts("time",e),l.timeButtonIsActive=`state${i}`}},{default:a(()=>[c(_(e),1)]),_:2},1032,["class","onClick"]))),128))]),o("div",M,[s(t(m),{variant:"pink-outline",size:"base",class:v(["me-4",{active:l.countryButtonIsActive==="stateAll"}]),onClick:f[1]||(f[1]=e=>{l.getConcerts("country","all"),l.countryButtonIsActive="stateAll"})},{default:a(()=>[c(" 全部 ")]),_:1},8,["class"]),(n(!0),u(p,null,g(l.countryRanges,(e,i)=>(n(),d(t(m),{key:e,variant:"pink-outline",size:"base",class:v({active:l.countryButtonIsActive===`state${i}`}),onClick:r=>{l.getConcerts("country",e),l.countryButtonIsActive=`state${i}`}},{default:a(()=>[c(_(e),1)]),_:2},1032,["class","onClick"]))),128))])]),o("ul",Q,[(n(!0),u(p,null,g(l.concerts,e=>(n(),u("li",{key:e.id},[s(t(N),{class:"border-black-60"},{default:a(()=>[s(t(j),{class:"rounded-t-2xl space-y-0 p-0"},{default:a(()=>[s(k,{to:`/concerts/${e.id}`},{default:a(()=>[o("img",{src:e.cover_urls.square,alt:e.title,class:"aspect-square rounded-2xl object-cover min-w-full"},null,8,W)]),_:2},1032,["to"]),s(t(V),{class:"h-[10rem] md:h-[13rem] lg:h-[12rem] xl:h-[13rem] border-x-2 pt-6 px-6 border-black-60 flex justify-between align-top"},{default:a(()=>{var i;return[o("div",null,[o("p",X,_(e.holding_time.substring(0,10)),1),s(k,{to:`/concerts/${e.id}`},{default:a(()=>[s(t(T),{class:"pt-1 text-base lg:text-lg text-white"},{default:a(()=>[c(_(e.title),1)]),_:2},1024)]),_:2},1032,["to"]),o("p",Y,_((i=e.venue)==null?void 0:i.title),1)]),s(t(O),null,{default:a(()=>[s(t(P),null,{default:a(()=>[o("button",{class:"mb-auto",onClick:r=>l.callSaveAction(e.id)},[l.isSaved.some(r=>r.id===e.id)?(n(),d(h,{key:0,icon:"fa-solid fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"})):(n(),d(h,{key:1,icon:"fa-regular fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"}))],8,ee)]),_:2},1024),l.AccessToken===void 0?(n(),d(t(J),{key:0,class:"mt-[-15rem] sm:mt-[-15rem]"},{default:a(()=>[c(" 登入開啟收藏功能 ")]),_:1})):x("",!0)]),_:2},1024)]}),_:2},1024)]),_:2},1024),s(t(F),{class:"text-end border-x-2 border-b-2 border-black-60 rounded-b-2xl"},{default:a(()=>[s(w,{to:`/concerts/${e.id}`},{default:a(()=>[s(t(m),{variant:"white-outline",size:"default"},{default:a(()=>[te,s(t(I),{class:"size-6 ms-2 lg:ms-4"})]),_:1})]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]))),128))]),s(t(z),{total:l.pagination.total_pages*10,"sibling-count":1,"show-edges":"","default-page":1},{default:a(({page:e})=>[s(t(S),{class:"flex items-center justify-center gap-1"},{default:a(({items:i})=>[s(t(U)),s(t(q)),(n(!0),u(p,null,g(i,(r,y)=>(n(),u(p,null,[r.type==="page"?(n(),d(t(R),{key:y,value:r.value,"as-child":""},{default:a(()=>[s(t(m),{class:"w-10 h-10 p-0",variant:r.value===e?"default":"outline"},{default:a(()=>[c(_(r.value),1)]),_:2},1032,["variant"])]),_:2},1032,["value"])):(n(),d(t(L),{key:r.type,index:y},null,8,["index"]))],64))),256)),s(t(D)),s(t(E))]),_:2},1024)]),_:1},8,["total"])])])}}});export{fe as default};
