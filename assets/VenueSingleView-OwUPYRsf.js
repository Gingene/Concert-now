import{i as M,aB as N,aC as B,aD as D,u as s,o as c,c as d,X as E,D as x,Q as P,_ as R,a9 as F,a8 as H,ap as G,y as O,z as Q,aE as J,a as t,E as W,t as r,b as l,w as o,F as m,r as f,C as u,g as k,as as X,B as g,at as K,au as Y,av as Z,aw as ee,h as w,ax as te,ay as se,az as le,G as ae,A as oe,I as ne,J as ie,d as re}from"./index-YXoIurfv.js";import{_ as V}from"./Label-NVXyNRcs.js";import{_ as $,a as S,b as I,c as z,d as T,e as C,f as A}from"./SelectLabel-v-ryAvYo.js";import{a as ce,b as de,_ as ue,c as pe}from"./AccordionTrigger-MBvca0sM.js";import{_ as me,a as fe,b as _e}from"./HoverCardContent-W7TN9JH_.js";import{T as q}from"./TitleComponent-7iuRQ2zt.js";import{a as ge,u as j}from"./venues-lmW5RfPj.js";import{M as he}from"./more-horizontal-wIMTy_8v.js";import"./check-I0_A8tlr.js";/**
 * @license lucide-vue-next v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=M("AlertCircleIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),xe={__name:"Textarea",props:{class:{type:null,required:!1},defaultValue:{type:[String,Number],required:!1},modelValue:{type:[String,Number],required:!1}},emits:["update:modelValue"],setup(i,{emit:e}){const n=i,b=N(n,"modelValue",e,{passive:!0,defaultValue:n.defaultValue});return(a,p)=>B((c(),d("textarea",{"onUpdate:modelValue":p[0]||(p[0]=_=>E(b)?b.value=_:null),class:x(s(P)("flex min-h-20 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n.class))},null,2)),[[D,s(b)]])}},v=i=>(ne("data-v-2434be0b"),i=i(),ie(),i),ve={class:"container pb-20 lg:pb-32 pt-[400px] md:pt-[600px] lg:pt-[850px] space-y-6 lg:space-y-10"},ye={class:"text-center"},ke={class:"text-2xl font-display lg:text-3xl 2xl:text-5xl font-black"},we={class:"space-y-6 lg:space-y-10"},Ce={class:"py-6 lg:hidden text-center"},Ve={class:"collapse-left py-6"},$e={class:"col-start-2 py-6"},Se={class:"collapse-right py-6"},Ie={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ze={class:"lg:order-2 py-10 sm:py-14 px-7 xs:px-9 sm:px-12 lg:px-14 rounded-[40px] bg-shadow-trans-text venue-section","data-aos":"zoom-in-up"},Te={href:"#",class:"font-bold text-center text-xl xs:text-[36px] sm:text-4xl 2xl:text-6xl pb-2"},Ae=v(()=>t("p",{class:"text-gray-500 text-base sm:text-xl lg:pt-5 font-lato text-center"},"_____ STAGE _____",-1)),je={class:"h-[200px] sm:h-[300px] w-[80%] xl:w-[60%] text-sm sm:text-base grid grid-flow-row auto-row-max gap-2 md:gap-4 mx-auto my-3 lg:my-5"},qe={class:"space-y-6 lg:space-y-10 box-shadow-light2 p-6 lg:p-10 rounded-btn2"},Ue={class:"flex justify-between pb-6 lg:pb-10"},Le={class:"text-center"},Me=v(()=>t("span",null,"留下評論",-1)),Ne=v(()=>t("p",{class:"text-sm text-black-60 pb-4"},"※ 座位區、演唱會與評論皆需填寫，若有缺漏會新增失敗。",-1)),Be={class:"relative flex items-center"},De={class:"flex items-center"},Ee={class:"relative flex items-center mb-4"},Pe={key:0},Re={key:1},Fe={class:"space-y-4"},He=v(()=>t("span",{class:"text-sm text-black-60"},"圖片至多可傳三張",-1)),Ge={class:"flex justify-center space-x-4"},Oe={key:0,id:"commentImage1",class:"size-[80px] lg:size-[150px]",src:"http://placehold.it/150",alt:"your image"},Qe={key:1,id:"commentImage2",class:"size-[80px] lg:size-[150px]",src:"http://placehold.it/150",alt:"your image"},Je={key:2,id:"commentImage3",class:"size-[80px] lg:size-[150px]",src:"http://placehold.it/150",alt:"your image"},We={class:"flex justify-center items-center"},Xe={class:"flex justify-center items-center space-x-2"},Ke={class:"col-span-2 sm:col-span-1"},Ye=["src","alt"],Ze={class:"col-span-8 sm:col-span-9 md:col-span-10 flex flex-col space-y-4"},et={class:"space-x-3"},tt={class:"text-black-40"},st={class:"text-sm md:text-base lg:flex lg:flex-wrap lg:justify-between"},lt={class:"mb-4 lg:mb-0"},at={key:0,class:"flex space-x-3 w-full lg:w-auto"},ot=["src"],nt={class:"text-tiny text-black-60"},it={class:"truncate mb-2"},rt={class:"col-span-2 md:col-span-1"},ct=v(()=>t("span",null,"檢舉該名使用者",-1)),dt={class:"marquee-type bg-tiffany"},ut={ref:"marquee",class:"flex text-[3.5rem] md:text-[4.5rem] lg:text-[6.5rem] font-black text-black tracking-widest whitespace-nowrap overflow-x-auto scrollbar-none mb-6 lg:mb-10 leading-[1]"},pt={class:"marquee space-x-4"},mt={class:"text-stroke-black font-display uppercase"},ft={class:"text-stroke-black font-display uppercase"},_t={class:"marquee space-x-4"},gt={class:"text-stroke-black font-display uppercase"},ht={class:"text-stroke-black font-display uppercase"},bt={class:"container"},xt={class:"mt-4 lg:mt-6"},vt={class:"mb-4 lg:mb-6"},yt=["src"],kt={class:"space-y-6 lg:space-y-10"},wt={class:"flex gap-4 font-black -mb-[18px] lg:-mb-[33px] pt-8 lg:pt-[42px]"},Ct={class:"text-lg sm:text-2xl lg:text-4xl"},Vt={class:"list-disc text-base px-6 space-y-4 lg:-mt-16 lg:w-3/4 hidden lg:block lg:opacity-0"},$t={class:"list-disc text-base px-6 lg:px-0 space-y-4 mt-6 lg:mt-4 lg:w-2/3 lg:absolute lg:top-0"},{setIsLoading:U}=F(),{toast:h}=H(),St={data(){return{commentSeatArea:"",concertId:"",commentContent:"",images:[],checkPolicy:!0,openCommentModal:!1,accordionItems:[]}},props:["id"],inject:["http","path"],methods:{hoverTitle(i){i.currentTarget.childNodes.forEach((e,n)=>{n!==1&&e.classList.remove("hidden","collapse-left","collapse-right"),n===0?e.classList.add("collapse-left","show"):n===2&&e.classList.add("collapse-right","show")})},removeHoverTitle(i){i.currentTarget.childNodes.forEach((e,n)=>{n!==1&&e.classList.remove("w-auto","collapse-left","collapse-right","show"),n===0?e.classList.add("collapse-left"):n===2&&e.classList.add("collapse-right")})},readURL(i){if(i.target.files&&i.target.files[0]){if(i.target.files.length>3){h({title:"圖片最多3張",description:""});return}for(let e=0;e<i.target.files.length;e++){const n=new FileReader;n.onload=function(y){document.querySelector("#commentImage"+(e+1)).setAttribute("src",y.target.result)},n.readAsDataURL(i.target.files[e])}this.images=[...i.target.files]}},handleFileButton(){document.querySelector("#commentPictures").click()},onSubmit(i){i.preventDefault(),this.postComment()},postComment(){if(this.concertId===""){h({title:"請選擇演唱會",description:""});return}if(this.commentSeatArea===""){h({title:"請選擇座位區",description:""});return}if(this.commentContent===""){h({title:"請輸入評論",description:""});return}if(!this.checkPolicy){h({title:"請先勾選同意評論規範",description:""});return}const i={concert_id:this.concertId,seat_area:this.commentSeatArea,comment:this.commentContent,images:this.images};this.images.length===0&&delete i.images,U(),G.post(`${this.path.venues}/${this.$route.params.id}/comment`,i).then(e=>{this.resetComment(),h({title:"已新增評論",description:""}),this.getVenue(this.$route.params.id),this.openCommentModal=!1}).catch(e=>{console.log(e)}).finally(()=>{U()})},resetComment(){this.concertId="",this.commentSeatArea="",this.commentContent="",this.images=[]},showCommentPolicy(){h({title:"評論規範",description:"(1)請勿留言不實評論 (2)請物留言惡意評論 (3)請勿留言腥羶色內容。請注意警告五次將被永久停權。"})},openModal(i){this.openCommentModal=i,i===!1&&this.resetComment()},handleMarQuee(){this.$refs.marquee.childNodes.forEach(e=>{e.textContent.length<=90&&e.textContent.length>60?e.style.animationDuration="80s":e.textContent.length<=120&&e.textContent.length>90&&(e.style.animationDuration="90s")})},...O(j,["getVenue","reportUser"])},computed:{...Q(j,["venue","pagination","filterSeatComment","transportation"]),...J(j,["seatArea"])},watch:{id(i){this.getVenue(i)},concertId(i){}},mounted(){this.getVenue(this.id),ge.init()},updated(){document.querySelectorAll(".accordion-button").forEach(e=>{var n;((n=e==null?void 0:e.dataset)==null?void 0:n.state)==="open"&&(e==null||e.click())})}},It=Object.assign(St,{__name:"VenueSingleView",setup(i){return(e,n)=>{var b;const y=re("font-awesome-icon");return c(),d(m,null,[t("div",{class:"w-full h-[400px] md:h-[600px] lg:h-[850px] bg-no-repeat bg-cover absolute top-0 -z-10 bg-center 2xl:bg-bottom shadow",style:W(`background-image: url(${(b=e.venue.picture)==null?void 0:b.horizontal})`)},null,4),t("section",ve,[t("div",ye,[t("h2",ke,r(e.venue.title),1)]),t("main",we,[t("div",Ce,r(e.venue.address),1),t("div",{class:"hidden lg:grid grid-cols-3 text-lg text-center",onMouseover:n[0]||(n[0]=(...a)=>e.hoverTitle&&e.hoverTitle(...a)),onMouseleave:n[1]||(n[1]=(...a)=>e.removeHoverTitle&&e.removeHoverTitle(...a))},[t("div",Ve,r(e.venue.seat_amount)+" 席次",1),t("div",$e,r(e.venue.eng_title),1),t("div",Se,r(e.venue.address),1)],32),l(q,{class:"flex justify-center"},{subTitle:o(()=>[u(" VENUES ")]),mainTitle:o(()=>[u(" 場地體驗 ")]),_:1}),t("div",Ie,[t("article",ze,[t("h2",Te,r(e.venue.title),1),Ae,t("div",je,[(c(!0),d(m,null,f(e.venue.seat_areas,(a,p)=>(c(),d("div",{key:`${p+123}`,class:x(["text-[12px] md:text-base lg:text-xl gradient-border flex justify-center items-center transition-transform",a===e.seatArea?"active":""])},[t("p",null,r(a),1)],2))),128))])]),t("div",qe,[t("div",Ue,[l(s(A),{modelValue:e.seatArea,"onUpdate:modelValue":n[2]||(n[2]=a=>e.seatArea=a)},{default:o(()=>[l(s($),{class:"w-1/3 border-0 text-primary bg-pink box-shadow-pink-blur box-shadow-pink-blur-hover focus-visible:outline-0 h-10 p-4 md:py-4 md:px-6 lg:py-6 lg:px-8 rounded-btn1"},{default:o(()=>[l(s(S),{placeholder:"座位區"})]),_:1}),l(s(I),null,{default:o(()=>[l(s(z),null,{default:o(()=>[l(s(T),null,{default:o(()=>[u("座位區")]),_:1}),l(s(C),{value:"all"},{default:o(()=>[u(" 全部座位區 ")]),_:1}),(c(!0),d(m,null,f(e.venue.seat_areas,a=>(c(),k(s(C),{value:a,key:a},{default:o(()=>[u(r(a),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),t("div",Le,[l(s(le),{open:e.openCommentModal,"onUpdate:open":e.openModal},{default:o(()=>[l(s(X),{"as-child":""},{default:o(()=>[l(s(g),{variant:"ghost",class:"space-x-4 md:text-lg lg:text-xl"},{default:o(()=>[Me,l(y,{icon:"fa-solid fa-plus"})]),_:1})]),_:1}),l(s(K),{class:"max-w-sm md:max-w-xl"},{default:o(()=>[l(s(Y),{class:x(["mb-6",{"w-[90%]":e.concertId,"md:w-full":e.concertId}])},{default:o(()=>[l(s(Z),null,{default:o(()=>[u("留下評論")]),_:1}),l(s(ee),null,{default:o(()=>[Ne]),_:1})]),_:1},8,["class"]),t("form",{onSubmit:n[7]||(n[7]=(...a)=>e.onSubmit&&e.onSubmit(...a)),class:x(["space-y-6 lg:space-y-10",{"w-[90%]":e.concertId,"md:w-full":e.concertId}]),ref:"modalForm"},[t("div",Be,[l(s(V),{for:"seat-select",class:"absolute text-white bg-black-85 border-black-85 border rounded-md pl-6 pr-20 -z-10 py-2 px-3"},{default:o(()=>[u("座位區")]),_:1}),l(s(A),{modelValue:e.commentSeatArea,"onUpdate:modelValue":n[3]||(n[3]=a=>e.commentSeatArea=a),id:"seat-select"},{default:o(()=>[l(s($),{class:"ml-[7rem] border-white"},{default:o(()=>[l(s(S),{placeholder:"選取座位區"})]),_:1}),l(s(I),null,{default:o(()=>[l(s(z),null,{default:o(()=>[l(s(T),null,{default:o(()=>[u("選取座位區")]),_:1}),(c(!0),d(m,null,f(e.venue.seat_areas,a=>(c(),k(s(C),{value:a,key:a},{default:o(()=>[u(r(a),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("div",De,[l(s(V),{for:"concert-select",class:"absolute text-white bg-black-85 border-black-85 border rounded-md pl-6 pr-20 -z-10 py-2 px-3"},{default:o(()=>[u("演唱會")]),_:1}),l(s(A),{id:"concert-select",modelValue:e.concertId,"onUpdate:modelValue":n[4]||(n[4]=a=>e.concertId=a)},{default:o(()=>[l(s($),{class:x(["ml-[7rem] border-white",{"w-3/5":e.concertId,"md:w-full":e.concertId}])},{default:o(()=>[l(s(S),{placeholder:"選取演唱會"})]),_:1},8,["class"]),l(s(I),null,{default:o(()=>[l(s(z),null,{default:o(()=>[l(s(T),null,{default:o(()=>[u("選取演唱會")]),_:1}),(c(!0),d(m,null,f(e.venue.concerts,a=>(c(),k(s(C),{value:a.id.toString(),key:a.id},{default:o(()=>[u(r(a.title),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("div",null,[t("div",Ee,[l(s(V),{for:"commentPictures",class:"absolute text-white bg-black-85 border-black-85 border rounded-md pl-6 pr-20 -z-10 py-2 px-3"},{default:o(()=>[u("評論圖片")]),_:1}),t("input",{id:"commentPictures",multiple:"",class:"hidden",type:"file",accept:"image/png, image/jpeg",onChange:n[5]||(n[5]=(...a)=>e.readURL&&e.readURL(...a))},null,32),l(s(g),{type:"button",class:"ml-[7rem] border-white border w-full rounded-md justify-start text-sm px-3",onClick:e.handleFileButton},{default:o(()=>[e.images.length?(c(),d("span",Re,"已選擇"+r(e.images.length)+"個檔案",1)):(c(),d("span",Pe,"未選擇任何檔案"))]),_:1},8,["onClick"])]),t("div",Fe,[He,t("div",Ge,[e.images[0]?(c(),d("img",Oe)):w("",!0),e.images[1]?(c(),d("img",Qe)):w("",!0),e.images[2]?(c(),d("img",Je)):w("",!0)])])]),t("div",null,[l(s(xe),{modelValue:e.commentContent,"onUpdate:modelValue":n[6]||(n[6]=a=>e.commentContent=a),placeholder:"留下你的評論..."},null,8,["modelValue"])]),l(s(te),{class:"justify-center sm:justify-center flex-col sm:flex-col space-y-2"},{default:o(()=>[t("div",We,[l(s(g),{for:"commentPolicy",type:"button",class:"text-sm text-black-60 text-right cursor-pointer px-0",onClick:e.showCommentPolicy},{default:o(()=>[u("送出即代表您同意遵守評論規範")]),_:1},8,["onClick"])]),t("div",Xe,[l(s(se),{"as-child":""},{default:o(()=>[l(s(g),{type:"button",size:"base",class:"bg-black-80 hover:bg-black-80 px-14 md:px-14 lg:px-14"},{default:o(()=>[u("取消")]),_:1})]),_:1}),l(s(g),{variant:"tiffany-fill",size:"base",type:"submit",class:"px-14 md:px-14 lg:px-14"},{default:o(()=>[u("送出評論")]),_:1})])]),_:1})],34)]),_:1})]),_:1},8,["open","onUpdate:open"])])]),l(s(ae),{class:"lg:h-[350px]"},{default:o(()=>[(c(!0),d(m,null,f(e.filterSeatComment,(a,p)=>(c(),d("div",{key:a.id,class:x(["grid grid-cols-12 gap-x-4 border-b border-black-60 py-10 min-h-[150px] mt-6",{"border-t":p===0}])},[t("div",Ke,[t("img",{src:a.user.profile_image_url,alt:a.user.name,class:"rounded-full size-8 2xl:size-12"},null,8,Ye)]),t("div",Ze,[t("div",et,[t("span",null,r(a.user.name),1),t("span",tt,r(a.seat_area),1)]),t("div",st,[t("p",lt,r(a.comment),1),a.images.length?(c(),d("div",at,[(c(!0),d(m,null,f(a.images,(_,L)=>(c(),d("img",{key:L,src:_,alt:"",class:"size-20 object-cover rounded-xl"},null,8,ot))),128))])):w("",!0)]),t("div",nt,[t("p",it,r(a.concert.title),1),t("time",null,r(a.created_at),1)])]),t("div",rt,[l(s(me),{openDelay:0},{default:o(()=>[l(s(fe),{"as-child":""},{default:o(()=>[l(s(g),{variant:"ghost",class:"p-1"},{default:o(()=>[l(s(he))]),_:1})]),_:1}),l(s(_e),null,{default:o(()=>[l(s(g),{onClick:_=>e.reportUser(a.user.name),class:"justify-between w-full"},{default:o(()=>[ct,l(s(be))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])],2))),128))]),_:1})])])])]),t("div",null,[t("div",dt,[t("div",ut,[t("p",pt,[t("span",null,r(e.venue.title),1),t("span",mt,r(e.venue.eng_title),1),t("span",null,r(e.venue.title),1),t("span",ft,r(e.venue.eng_title),1)]),t("p",_t,[t("span",null,r(e.venue.title),1),t("span",gt,r(e.venue.eng_title),1),t("span",null,r(e.venue.title),1),t("span",ht,r(e.venue.eng_title),1)])],512)])]),t("section",bt,[l(q,{class:"overflow-x-hidden"},{subTitle:o(()=>[u(" TRANSPORT ")]),mainTitle:o(()=>[u(" 交通方式 ")]),_:1}),t("div",xt,[t("div",vt,[t("iframe",{src:e.venue.map_link,frameborder:"0",class:"w-full h-[375px] md:h-[600px]"},null,8,yt)]),t("div",kt,[l(s(pe),{type:"single",collapsible:""},{default:o(()=>[(c(!0),d(m,null,f(e.transportation,a=>(c(),k(s(ue),{class:"lg:relative border-b-4",key:a.type,value:a.value},{default:o(()=>[l(s(ce),{hideIcon:!0,value:a.value,class:"accordion-button hover:no-underline"},{default:o(()=>[t("div",wt,[l(s(oe),{class:"size-10 lg:size-16 pb-2 sm:pb-0 lg:pb-2"}),t("span",Ct,r(a.type),1)])]),_:2},1032,["value"]),l(s(de),{class:"lg:flex lg:justify-end"},{default:o(()=>[t("ul",Vt,[(c(!0),d(m,null,f(a.info,(p,_)=>(c(),d("li",{key:_},r(p),1))),128))]),t("ul",$t,[(c(!0),d(m,null,f(a.info,(p,_)=>(c(),d("li",{key:_},r(p),1))),128))])]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})])])])],64)}}}),Bt=R(It,[["__scopeId","data-v-2434be0b"]]);export{Bt as default};
