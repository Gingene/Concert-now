import{t as c,o as p,s as o,u,_ as l}from"./vee-validate-zod.esm-pBtjtqdx.js";import{K as d,L as _,e as f,y as h,M as g,N as S,o as q}from"./index-4xTLKw1w.js";import"./CardTitle-3fspd-n2.js";import"./CardDescription-v3v694CQ.js";import"./CardContent-SMU66xZj.js";import"./Label-mpY9N_wD.js";import"./PopoverContent-pcTDnJmV.js";const F={__name:"SingUpView",setup(y){const{toast:s}=d(),a=_(),n=c(p({name:o({required_error:"必填"}).min(3,{message:"名稱至少3個字"}).max(20,{message:"需要少於20個字"}),email:o({required_error:"必填"}).email("信箱格式不正確"),password:o({required_error:"必填"}).min(8,{message:"密碼至少為8碼"}),confirm:o({required_error:"必填"})}).refine(e=>e.password===e.confirm,{message:"密碼不相符",path:["confirm"]})),t=u({validationSchema:n}),i=e=>{g.post(S.register,e).then(r=>{s({title:"註冊成功！可以去登入了ヽ(●´∀`●)ﾉ"}),a.push({name:"login"})}).catch(()=>{s({title:"註冊失敗，請再次確認資料是否正確。"}),alert("註冊失敗！")})},m=t.handleSubmit(e=>{const r={...e};delete r.confirm,i(r),t.resetForm()});return(e,r)=>(q(),f(l,{defaultPage:"signup",onMethod:h(m)},null,8,["onMethod"]))}};export{F as default};
