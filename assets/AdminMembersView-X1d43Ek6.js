import{x as w,y,aS as M,c,a as m,b as l,z as e,w as t,aJ as C,b5 as x,f as r,g as A,F as p,a8 as b,o as i,a4 as S,G as n,r as h,t as o,aj as T,C as V,ak as j,al as B}from"./index-e8LvWOSn.js";import{_ as N,a as U,b as z,c as D,d as F,e as J,f as P}from"./SelectLabel-DCEW1r5t.js";import{_ as q,a as k,b as f,c as E,d as u,e as G}from"./TableRow-qTolGUBl.js";import{_ as L}from"./TableCaption-TiSXpUxs.js";import{_ as O,a as W,b as Z,c as H,d as I}from"./PaginationPrev-rP7L9YfD.js";import"./check-d5BWE3fq.js";import"./more-horizontal-TU5BF5Q8.js";const K={class:"flex flex-wrap gap-6 mb-8 relative"},Q={class:"w-full xs:w-[290px] relative"},R=m("span",{class:"material-symbols-outlined absolute top-1 right-2.5 cursor-pointer hidden lg:block"}," search ",-1),X={class:"w-full xs:w-[250px]"},Y={class:"flex items-center mr-2"},ee=["src"],ae={class:"ml-3"},le={class:"flex items-center"},te={key:0,class:"material-symbols-outlined mr-1"},se={key:1,class:"material-symbols-outlined mr-1 text-violet-800"},ne={methods:{...w(b,["getAdminMembers"])},computed:{...y(b,["adminMembers","allstatus"]),...M(b,["searchText","selectStatus","page","pageTotal"])},watch:{searchText:"getAdminMembers",selectStatus:"getAdminMembers"},mounted(){this.getAdminMembers()},unmounted(){this.selectStatus="",this.searchText=""}},pe=Object.assign(ne,{__name:"AdminMembersView",setup(ie){return(s,_)=>{var v;return i(),c(p,null,[m("div",null,[m("div",K,[m("div",Q,[l(e(S),{type:"text",placeholder:"請輸入信箱查詢",modelValue:s.searchText,"onUpdate:modelValue":_[0]||(_[0]=a=>s.searchText=a)},null,8,["modelValue"]),R]),m("div",X,[l(e(P),{modelValue:s.selectStatus,"onUpdate:modelValue":_[1]||(_[1]=a=>s.selectStatus=a)},{default:t(()=>[l(e(N),null,{default:t(()=>[l(e(U),{placeholder:"選擇會員狀態"})]),_:1}),l(e(z),null,{default:t(()=>[l(e(D),null,{default:t(()=>[l(e(F),{class:"tracking-wide"},{default:t(()=>[n("會員狀態")]),_:1}),(i(!0),c(p,null,h(s.allstatus,(a,g)=>(i(),r(e(J),{key:g,value:a},{default:t(()=>[n(o(a),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),l(e(L),{class:"block py-2 text-start"},{default:t(()=>[n(" 搜尋結果："+o(s.pageTotal)+" 筆資料 ",1)]),_:1}),C(l(e(G),{class:"bg-white rounded-lg text-md mb-10 whitespace-nowrap"},{default:t(()=>[l(e(q),null,{default:t(()=>[l(e(k),null,{default:t(()=>[l(e(f),{class:"font-semibold w-[200px]"},{default:t(()=>[n(" 名稱 ")]),_:1}),l(e(f),{class:"font-semibold"},{default:t(()=>[n("信箱")]),_:1}),l(e(f),{class:"font-semibold pl-6"},{default:t(()=>[n("會員狀態")]),_:1}),l(e(f),{class:"font-semibold"},{default:t(()=>[n(" 警告次數 ")]),_:1}),l(e(f),{class:"font-semibold"},{default:t(()=>[n(" 會員編號 ")]),_:1}),l(e(f),{class:"font-semibold"},{default:t(()=>[n(" 加入會員日期 ")]),_:1})]),_:1})]),_:1}),l(e(E),null,{default:t(()=>[(i(!0),c(p,null,h(s.adminMembers,a=>(i(),r(e(k),{key:a.id},{default:t(()=>[l(e(u),{class:"font-medium w-[200px]"},{default:t(()=>[m("div",Y,[m("img",{class:"size-[56px] border-2 rounded-full bg-white p-1",src:a==null?void 0:a.profile_image_url,alt:"使用者大頭貼"},null,8,ee),m("p",ae,o(a==null?void 0:a.name),1)])]),_:2},1024),l(e(u),null,{default:t(()=>[n(o(a==null?void 0:a.email),1)]),_:2},1024),l(e(u),null,{default:t(()=>[m("div",le,[a.status==="啟用中"?(i(),c("span",te," check_circle ")):(i(),c("span",se," warning ")),n(" "+o(a.status),1)])]),_:2},1024),l(e(u),{class:"pl-10"},{default:t(()=>[n(o(a==null?void 0:a.warning_list.length),1)]),_:2},1024),l(e(u),{class:"pl-10"},{default:t(()=>[n(o(a==null?void 0:a.id),1)]),_:2},1024),l(e(u),null,{default:t(()=>[n(o(a==null?void 0:a.created_at),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},512),[[x,((v=s.adminMembers)==null?void 0:v.length)!==0]]),s.pageTotal?(i(),r(e(B),{key:0,page:s.page,itemsPerPage:15,total:s.pageTotal,"sibling-count":1,"show-edges":"","default-page":1,disabled:s.pageTotal<=15,class:"flex justify-center py-6"},{default:t(({page:a})=>[l(e(j),{class:"flex items-center gap-1"},{default:t(({items:g})=>[l(e(O),{onClick:_[2]||(_[2]=d=>s.getAdminMembers("page",1))}),l(e(W),{onClick:d=>s.getAdminMembers("page",a-1)},null,8,["onClick"]),(i(!0),c(p,null,h(g,(d,$)=>(i(),c(p,null,[d.type==="page"?(i(),r(e(T),{key:$,value:d.value,"as-child":""},{default:t(()=>[l(e(V),{class:"w-10 h-10 p-0",variant:d.value===a?"default":"outline",onClick:de=>s.getAdminMembers("page",d.value)},{default:t(()=>[n(o(d.value),1)]),_:2},1032,["variant","onClick"])]),_:2},1032,["value"])):(i(),r(e(Z),{key:d.type,index:$},null,8,["index"]))],64))),256)),l(e(H),{onClick:d=>s.getAdminMembers("page",a+1)},null,8,["onClick"]),l(e(I),{onClick:d=>s.getAdminMembers("page",g.length)},null,8,["onClick"])]),_:2},1024)]),_:1},8,["page","total","disabled"])):A("",!0)],64)}}});export{pe as default};
