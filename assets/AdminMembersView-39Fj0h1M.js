import{M as D,a4 as x,c as u,a as i,b as s,y as t,w as l,aI as g,aZ as b,F as p,o as c,a1 as V,E as n,r as w,e as y,t as _}from"./index-WMY0rRpD.js";import{_ as E,a as S,b as A,c as I,d as k,e as M,f as T}from"./SelectLabel-o6pcu-PH.js";import{_ as P,a as $,b as m,c as j,d as f,e as B}from"./TableRow-1ZAMmCkV.js";import"./check-pJ4BWP2j.js";var C={VITE_APP_SERVICE_API:"https://concert-now.dewed.one",VITE_CLIENT_ID:"1025367409648-3obi0crdef5qos8cjpqnpm3l2se4j944.apps.googleusercontent.com",BASE_URL:"/Concert-now/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_SERVICE_API:v}=C,F=async o=>{const a=`${v}/api/admin/users?page=${o}`;try{return await D.get(a)}catch(r){throw console.error("[GetAdminMembers Failed]",r),new Error("error")}},R=async(o,a)=>{const r=`${v}/api/admin/users?q=${o}&status=&page=${a}`;try{return await D.get(r)}catch(d){throw console.error("[GetAdminMembers Failed]",d),new Error("error")}},N={class:"flex gap-6 mb-8 relative"},q={class:"w-[36%] lg:w-[290px] relative lg:pt-6"},L=i("span",{class:"material-symbols-outlined absolute top-7 right-2.5 cursor-pointer hidden lg:block"}," search ",-1),O={class:"w-[20%] lg:w-[250px] flex flex-col items-center lg:flex-row lg:justify-center lg:pt-5"},U=i("label",{for:"status",class:"pb-2 font-semibold lg:w-[50%]"}," 會員狀態 ",-1),G={class:"flex items-center"},K=["src"],z={class:"ml-3"},Z={class:"flex items-center"},H={key:0,class:"material-symbols-outlined mr-1"},J={key:1,class:"material-symbols-outlined mr-1 text-violet-800"},Q={class:"flex justify-center py-12"},W=i("h2",null,"哇! 找不到資料~",-1),X=[W],Y={data(){return{searchText:"",selectStatus:"",selectTime:"",usersData:null,allstatus:[{id:1,type:"全部"},{id:2,type:"啟用中"},{id:3,type:"停權中"}],jointimes:[{id:1,time:"2023/01-2023/02"},{id:2,time:"2023/02-2023/03"},{id:3,time:"2023/03-2023/04"},{id:4,time:"2023/04-2023/05"},{id:5,time:"2023/05-2023/06"}]}},computed:{filteredData(){var a;const o=this.selectStatus;return o==="全部"?this.usersData:(a=this.usersData)==null?void 0:a.filter(r=>{let d=!0;return o&&o.length>0&&(d=r.status===o),d})}},methods:{async getAdminMembersData(o=1){try{const a=await F(o);this.usersData=a.data.data}catch(a){console.error(a)}},searchInput:x(async function(o=1){try{const a=await R(this.searchText,this.selectStatus,o);this.usersData=a.data.data}catch(a){console.error(a)}},300)},mounted(){this.getAdminMembersData()}},le=Object.assign(Y,{__name:"AdminMembersView",setup(o){return(a,r)=>{var d,h;return c(),u(p,null,[i("div",null,[i("div",N,[i("div",q,[s(t(V),{type:"text",placeholder:"請輸入信箱查詢",modelValue:a.searchText,"onUpdate:modelValue":r[0]||(r[0]=e=>a.searchText=e),modelModifiers:{trim:!0},onKeyup:a.searchInput},null,8,["modelValue","onKeyup"]),L]),i("div",O,[s(t(T),{modelValue:a.selectStatus,"onUpdate:modelValue":r[1]||(r[1]=e=>a.selectStatus=e)},{default:l(()=>[U,s(t(E),null,{default:l(()=>[s(t(S),{placeholder:"全部"})]),_:1}),s(t(A),null,{default:l(()=>[s(t(I),null,{default:l(()=>[s(t(k),{class:"tracking-wide"},{default:l(()=>[n("會員狀態")]),_:1}),(c(!0),u(p,null,w(a.allstatus,e=>(c(),y(t(M),{key:e.id,value:e.type},{default:l(()=>[n(_(e.type),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),g(s(t(B),{class:"w-[700px] lg:w-full overflow-x-auto bg-white rounded-lg text-md mb-10"},{default:l(()=>[s(t(P),null,{default:l(()=>[s(t($),null,{default:l(()=>[s(t(m),{class:"font-semibold w-[200px]"},{default:l(()=>[n(" 名稱 ")]),_:1}),s(t(m),{class:"font-semibold"},{default:l(()=>[n("信箱")]),_:1}),s(t(m),{class:"font-semibold pl-6"},{default:l(()=>[n("會員狀態")]),_:1}),s(t(m),{class:"font-semibold"},{default:l(()=>[n(" 警告次數 ")]),_:1}),s(t(m),{class:"font-semibold"},{default:l(()=>[n(" 會員編號 ")]),_:1}),s(t(m),{class:"font-semibold"},{default:l(()=>[n(" 加入會員日期 ")]),_:1})]),_:1})]),_:1}),s(t(j),null,{default:l(()=>[(c(!0),u(p,null,w(a.filteredData,e=>(c(),y(t($),{key:e.id},{default:l(()=>[s(t(f),{class:"font-medium w-[200px]"},{default:l(()=>[i("div",G,[i("img",{class:"size-[56px] border-2 rounded-full bg-white p-1",src:e==null?void 0:e.profile_image_url,alt:"使用者大頭貼"},null,8,K),i("p",z,_(e==null?void 0:e.name),1)])]),_:2},1024),s(t(f),null,{default:l(()=>[n(_(e==null?void 0:e.email),1)]),_:2},1024),s(t(f),null,{default:l(()=>[i("div",Z,[e.status==="啟用中"?(c(),u("span",H," check_circle ")):(c(),u("span",J," warning ")),n(" "+_(e.status),1)])]),_:2},1024),s(t(f),{class:"pl-10"},{default:l(()=>[n(_(e==null?void 0:e.warning_list.length),1)]),_:2},1024),s(t(f),{class:"pl-10"},{default:l(()=>[n(_(e==null?void 0:e.id),1)]),_:2},1024),s(t(f),null,{default:l(()=>[n(_(e==null?void 0:e.created_at),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},512),[[b,((d=a.filteredData)==null?void 0:d.length)!==0]]),g(i("div",Q,X,512),[[b,!((h=a.filteredData)!=null&&h.length)]])],64)}}});export{le as default};
