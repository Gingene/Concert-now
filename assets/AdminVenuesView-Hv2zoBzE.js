import{x as ee,y as te,c as f,a as l,b as t,z as e,w as a,f as b,o as u,a4 as p,G as o,F as $,r as w,t as k,aA as C,au as T,C as _,b2 as ae,av as q,aw as j,ax as E,U as h,aK as V,b3 as v,g as U,aL as se,ay as R,az as z,aa as I,ab as O,ac as L,ad as G,af as P,ag as B,ah as F,ai as N}from"./index--T_9Bc3L.js";import{_ as le}from"./Checkbox-Pc5bz6Mu.js";import{_ as m}from"./Label-GliVTgJw.js";import{a as D,b as x,_ as ne,d as S,c as oe,e as ie}from"./TableRow-eKUOX6NI.js";import{_ as K,a as M,b as H,c as J,d as Q,e as W,f as X}from"./SelectLabel-asxRFgDm.js";import{_ as de}from"./DialogContent-yfcedbnD.js";import{u as Y}from"./venues-oVyKqHJG.js";import{g as re,e as g,h as ue}from"./vee-validate.esm-t06SB26j.js";import{A as Z}from"./vee-validate-rules.esm-fBATMIv7.js";import"./check-IIU36dM5.js";const me={class:"flex gap-6 mb-8 relative"},pe={class:"w-[36%] lg:w-[290px] relative lg:pt-6"},ce=l("span",{class:"material-symbols-outlined absolute top-7 right-2.5 cursor-pointer hidden lg:block"}," search ",-1),fe={class:"w-[15%] lg:w-[200px] flex flex-col items-end lg:flex-row lg:justify-center lg:pt-5"},_e={class:"lg:pt-5 mt-auto"},ge={class:"grid grid-cols-2 place-items-start gap-6"},Ve={class:"grid grid-cols-1 gap-3"},he={class:"grid grid-cols-4 items-center gap-x-3"},ve={class:"errorText"},ye={class:"grid grid-cols-4 items-center gap-x-3"},be={class:"errorText"},ke={class:"grid grid-cols-4 items-center gap-x-3"},Ue={class:"errorText"},$e={class:"grid grid-cols-4 items-center gap-x-3"},we={class:"errorText"},xe={class:"grid grid-cols-4 items-start gap-x-3"},Se={class:"col-span-3 grid grid-cols-6 gap-3"},Ae={class:"col-span-2 flex justify-start px-1"},Ce=l("span",{class:"material-symbols-outlined hover:scale-110"},"add_circle",-1),Te=l("span",{class:"material-symbols-outlined hover:scale-110"},"edit",-1),qe={class:"rounded-full bg-secondary px-3 py-1 text-sm"},je=l("span",{class:"material-symbols-outlined"},"do_not_disturb_on",-1),Ee={class:"errorText"},Re={class:"grid grid-cols-4 items-center gap-x-3"},ze={class:"errorText"},Ie={class:"grid grid-cols-4 items-center gap-x-3"},Oe=l("br",null,null,-1),Le={class:"errorText"},Ge={class:"grid grid-cols-1 gap-3"},Pe={class:"grid grid-cols-4 items-center gap-x-3"},Be=["src"],Fe={class:"grid grid-cols-4 items-center gap-x-3"},Ne=["src"],De={class:"grid grid-cols-4 items-center gap-x-3"},Ke=["src"],Me={class:"flex flex-col item-start gap-x-3"},He={class:"flex justify-start items-center py-2"},Je=l("p",{class:"text-sm border-b-2 border-primary p-2 me-4"},"交通方式",-1),Qe=l("span",{class:"material-symbols-outlined me-2"},"add_circle",-1),We=l("span",null,"新增欄位",-1),Xe={class:"errorText",style:{"padding-left":"0px !important"}},Ye=["onUpdate:modelValue"],Ze={class:"errorText",style:{"padding-left":"0px !important"}},et={key:0,class:"my-3"},tt={class:"lg:pt-5 mt-auto"},at={key:0,class:"text-primary tracking-wider text-lg"},st=l("label",{for:"terms",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},null,-1),lt=l("span",{class:"material-symbols-outlined"},"edit",-1),nt={class:"grid grid-cols-2 place-items-start gap-4"},ot={class:"grid gap-4 py-4"},it={class:"grid grid-cols-4 items-center gap-4"},dt={class:"grid grid-cols-4 items-center gap-4"},rt={class:"grid grid-cols-4 items-center gap-4"},ut={class:"grid grid-cols-4 items-center gap-4"},mt={class:"grid grid-cols-4 items-center gap-4"},pt={class:"grid gap-4 py-4"},ct={class:"grid grid-cols-4 items-center gap-4"},ft=l("span",{class:"material-symbols-outlined"},"delete",-1);Object.keys(Z).forEach(c=>{re(c,Z[c])});const _t={data(){return{searchText:"",cityRanges:["全部","台北市","新北市","台中市","高雄市"],tempVenue:{seat_areas:[],transportation:[{type:"",info:""}]},tempSeatArea:"",canEditSeats:!1,imageUrl:[],inputGroup:[0]}},inject:["http","path","adminPath"],methods:{readImg(c,s){s==="horizontal"?(this.tempVenue.picture_horizontal=c.target.files[0],this.imageUrl[0]=URL.createObjectURL(this.tempVenue.picture_horizontal)):s==="square"?(this.tempVenue.picture_square=c.target.files[0],this.imageUrl[1]=URL.createObjectURL(this.tempVenue.picture_square)):s==="seat"&&(this.tempVenue.seat_picture=c.target.files[0],this.imageUrl[2]=URL.createObjectURL(this.tempVenue.seat_picture))},formCheck(){},resetAddVenue(c){c||(this.imageUrl=[],this.inputGroup=[0],this.tempSeatArea="",this.canEditSeats=!1,this.tempVenue={seat_areas:[],transportation:[{type:"",info:""}]})},addSeatArea(c){this.tempVenue.seat_areas.push(c),this.tempSeatArea=""},editSeatOptions(){this.canEditSeats?this.canEditSeats=!1:this.canEditSeats=!0},removeSeat(c){this.tempVenue.seat_areas.splice(c,1),this.tempVenue.seat_areas.length===0&&(this.canEditSeats=!1)},addInputGroup(){this.tempVenue.transportation.push({type:"",info:""})},...ee(Y,["getAdminVenues","searchAdminVenues"])},computed:{...te(Y,["adminVenues","adminCity","adminSearchText","adminCityOptions"])},mounted(){this.getAdminVenues()}},xt=Object.assign(_t,{__name:"AdminVenuesView",setup(c){return(s,i)=>(u(),f("main",null,[l("nav",me,[l("div",pe,[t(e(p),{type:"text",placeholder:"輸入場地名稱",modelValue:s.searchText,"onUpdate:modelValue":i[0]||(i[0]=n=>s.searchText=n),onKeyup:i[1]||(i[1]=n=>s.searchAdminVenues(s.searchText,s.adminCity))},null,8,["modelValue"]),ce]),l("div",fe,[t(e(X),null,{default:a(()=>[t(e(K),null,{default:a(()=>[t(e(M),{placeholder:"地區"})]),_:1}),t(e(H),null,{default:a(()=>[t(e(J),null,{default:a(()=>[t(e(Q),{class:"tracking-wide"},{default:a(()=>[o("地區")]),_:1}),(u(!0),f($,null,w(s.cityRanges,n=>(u(),b(e(W),{key:n,value:n,onClick:d=>n==="全部"?s.searchAdminVenues(s.adminSearchText):s.searchAdminVenues(s.adminSearchText,n)},{default:a(()=>[o(k(n),1)]),_:2},1032,["value","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),l("div",_e,[t(e(ue),null,{default:a(()=>[t(e(C),{"onUpdate:open":s.resetAddVenue},{default:a(()=>[t(e(T),{"as-child":""},{default:a(()=>[t(e(_),{variant:"outline",class:"bg-primary text-white hover:bg-[#6366f1] hover:text-white"},{default:a(()=>[o(" 新增場地 ")]),_:1})]),_:1}),t(e(ae),{class:"sm:max-w-[850px]"},{default:a(()=>[t(e(q),null,{default:a(()=>[t(e(j),{class:"text-center"},{default:a(()=>[o("新增場地")]),_:1}),t(e(E))]),_:1}),l("section",ge,[l("section",Ve,[l("div",he,[t(e(m),{for:"title",class:"text-left"},{default:a(()=>[o(" 中文名稱 ")]),_:1}),t(e(g),{name:"title",rules:"required",modelValue:s.tempVenue.title,"onUpdate:modelValue":i[3]||(i[3]=n=>s.tempVenue.title=n)},{default:a(({errors:n,field:d})=>[t(e(p),h({type:"text",class:"col-span-3",modelValue:s.tempVenue.title,"onUpdate:modelValue":i[2]||(i[2]=r=>s.tempVenue.title=r)},d,{value:s.tempVenue.title}),null,16,["modelValue","value"]),V(l("span",ve,"必填欄位",512),[[v,n[0]]])]),_:1},8,["modelValue"])]),l("div",ye,[t(e(m),{for:"eng_title",class:"text-left"},{default:a(()=>[o(" 英文名稱 ")]),_:1}),t(e(g),{name:"eng_title",rules:"required",modelValue:s.tempVenue.eng_title,"onUpdate:modelValue":i[5]||(i[5]=n=>s.tempVenue.eng_title=n)},{default:a(({errors:n,field:d})=>[t(e(p),h({type:"text",class:"col-span-3",modelValue:s.tempVenue.eng_title,"onUpdate:modelValue":i[4]||(i[4]=r=>s.tempVenue.eng_title=r)},d,{value:s.tempVenue.eng_title}),null,16,["modelValue","value"]),V(l("span",be,"必填欄位",512),[[v,n[0]]])]),_:1},8,["modelValue"])]),l("div",ke,[t(e(m),{for:"address",class:"text-left"},{default:a(()=>[o(" 地址 ")]),_:1}),t(e(g),{name:"address",rules:"required",modelValue:s.tempVenue.address,"onUpdate:modelValue":i[7]||(i[7]=n=>s.tempVenue.address=n)},{default:a(({errors:n,field:d})=>[t(e(p),h({type:"text",class:"col-span-3",modelValue:s.tempVenue.address,"onUpdate:modelValue":i[6]||(i[6]=r=>s.tempVenue.address=r)},d,{value:s.tempVenue.address}),null,16,["modelValue","value"]),V(l("span",Ue,"必填欄位",512),[[v,n[0]]])]),_:1},8,["modelValue"])]),l("div",$e,[t(e(m),{for:"city",class:"text-left"},{default:a(()=>[o(" 地區 ")]),_:1}),t(e(g),{name:"city",rules:"required",modelValue:s.tempVenue.city,"onUpdate:modelValue":i[9]||(i[9]=n=>s.tempVenue.city=n),class:"col-span-3"},{default:a(({errors:n,field:d})=>[t(e(X),h(d,{modelValue:s.tempVenue.city,"onUpdate:modelValue":i[8]||(i[8]=r=>s.tempVenue.city=r)}),{default:a(()=>[t(e(K),{class:"w-full col-span-3"},{default:a(()=>[t(e(M),{placeholder:"地區"})]),_:1}),t(e(H),null,{default:a(()=>[t(e(J),null,{default:a(()=>[t(e(Q),{class:"tracking-wide"},{default:a(()=>[o("地區")]),_:1}),(u(!0),f($,null,w(s.adminCityOptions,r=>(u(),b(e(W),{key:r,value:r},{default:a(()=>[o(k(r),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:2},1040,["modelValue"]),V(l("span",we,"必填欄位",512),[[v,n[0]]])]),_:1},8,["modelValue"])]),l("div",xe,[t(e(m),{for:"seat_areas",class:"text-left py-2"},{default:a(()=>[o(" 座位區分類 ")]),_:1}),l("div",Se,[t(e(g),{name:"seat_areas",rules:"required",modelValue:s.tempVenue.seat_areas,"onUpdate:modelValue":i[12]||(i[12]=n=>s.tempVenue.seat_areas=n)},{default:a(({errors:n,field:d})=>[t(e(p),{modelValue:s.tempSeatArea,"onUpdate:modelValue":i[10]||(i[10]=r=>s.tempSeatArea=r),disabled:s.canEditSeats,type:"text",class:"col-span-4"},null,8,["modelValue","disabled"]),l("div",Ae,[t(e(_),{variant:"none",disabled:!s.tempSeatArea,class:"w-10 hover:text-[#6366f1]",onClick:i[11]||(i[11]=r=>s.addSeatArea(s.tempSeatArea))},{default:a(()=>[Ce]),_:1},8,["disabled"]),s.tempVenue.seat_areas.length!==0?(u(),b(e(_),{key:0,variant:"none",class:"w-10 hover:text-[#6366f1]",onClick:s.editSeatOptions},{default:a(()=>[Te]),_:1},8,["onClick"])):U("",!0)]),l("div",h({class:"col-span-6 flex flex-wrap gap-x-1 gap-y-3"},d),[(u(!0),f($,null,w(s.tempVenue.seat_areas,(r,y)=>(u(),f("div",{key:y,class:"relative me-4"},[l("p",qe,k(r),1),s.canEditSeats?(u(),b(e(_),{key:0,variant:"none",class:"w-10 h-10 absolute -top-3 -right-5 motion-safe:animate-bounce",onClick:A=>s.removeSeat(y)},{default:a(()=>[je]),_:2},1032,["onClick"])):U("",!0)]))),128))],16),V(l("span",Ee,"必填欄位",512),[[v,n[0]]])]),_:1},8,["modelValue"])])]),l("div",Re,[t(e(m),{for:"seat_amount",class:"text-left"},{default:a(()=>[o(" 座位數量 ")]),_:1}),t(e(g),{name:"seat_amount",rules:"required",modelValue:s.tempVenue.seat_amount,"onUpdate:modelValue":i[14]||(i[14]=n=>s.tempVenue.seat_amount=n)},{default:a(({errors:n,field:d})=>[t(e(p),h({type:"number",class:"col-span-3",modelValue:s.tempVenue.seat_amount,"onUpdate:modelValue":i[13]||(i[13]=r=>s.tempVenue.seat_amount=r)},d,{value:s.tempVenue.seat_amount}),null,16,["modelValue","value"]),V(l("span",ze,"必填欄位",512),[[v,n[0]]])]),_:1},8,["modelValue"])]),l("div",Ie,[t(e(m),{for:"map_link",class:"text-left"},{default:a(()=>[o(" Google "),Oe,o(" 地圖連結 ")]),_:1}),t(e(g),{name:"map_link",rules:"required",modelValue:s.tempVenue.map_link,"onUpdate:modelValue":i[16]||(i[16]=n=>s.tempVenue.map_link=n)},{default:a(({errors:n,field:d})=>[t(e(p),h({type:"text",class:"col-span-3",modelValue:s.tempVenue.map_link,"onUpdate:modelValue":i[15]||(i[15]=r=>s.tempVenue.map_link=r)},d,{value:s.tempVenue.map_link}),null,16,["modelValue","value"]),V(l("span",Le,"必填欄位",512),[[v,n[0]]])]),_:1},8,["modelValue"])])]),l("section",Ge,[l("div",Pe,[t(e(m),{for:"picture_horizontal",class:"text-left"},{default:a(()=>[o(" 圖片 - 橫圖 ")]),_:1}),t(e(g),{name:"picture_horizontal"},{default:a(()=>[t(e(p),{type:"file",id:"picture_horizontal",class:"col-span-3 hover:bg-accent",onChange:i[17]||(i[17]=n=>s.readImg(n,"horizontal"))})]),_:1}),s.imageUrl[0]?(u(),f("img",{key:0,src:s.imageUrl[0],alt:"Preview Image",class:"max-w-[150px] max-h-[150px]"},null,8,Be)):U("",!0)]),l("div",Fe,[t(e(m),{for:"picture_square",class:"text-left"},{default:a(()=>[o(" 圖片 - 方圖 ")]),_:1}),t(e(g),{name:"picture_square"},{default:a(()=>[t(e(p),{type:"file",id:"picture_square",class:"col-span-3 hover:bg-accent",onChange:i[18]||(i[18]=n=>s.readImg(n,"square"))})]),_:1}),s.imageUrl[1]?(u(),f("img",{key:0,src:s.imageUrl[1],alt:"Preview Image",class:"max-w-[150px] max-h-[150px]"},null,8,Ne)):U("",!0)]),l("div",De,[t(e(m),{for:"seat_picture",class:"text-left"},{default:a(()=>[o(" 座位圖 ")]),_:1}),t(e(g),{name:"seat_picture"},{default:a(()=>[t(e(p),{type:"file",id:"seat_picture",class:"col-span-3 hover:bg-accent",onChange:i[19]||(i[19]=n=>s.readImg(n,"seat"))})]),_:1}),s.imageUrl[2]?(u(),f("img",{key:0,src:s.imageUrl[2],alt:"Preview Image",class:"max-w-[150px] max-h-[150px]"},null,8,Ke)):U("",!0)]),l("div",Me,[l("div",He,[Je,t(e(_),{variant:"none",class:"text-sm rounded-[10px] hover:scale-105 hover:text-[#6366f1]",onClick:s.addInputGroup},{default:a(()=>[Qe,We]),_:1},8,["onClick"])]),(u(!0),f($,null,w(s.tempVenue.transportation,(n,d)=>(u(),f("div",{key:d,class:"flex flex-col items-start gap-2 pt-3"},[t(e(m),{for:`transportation_type_${d}`,class:"text-left"},{default:a(()=>[o("類型")]),_:2},1032,["for"]),t(e(g),{name:`transportation_type_${d}`,rules:"required",class:"grid",modelValue:s.tempVenue.transportation[d].type,"onUpdate:modelValue":r=>s.tempVenue.transportation[d].type=r},{default:a(({errors:r,field:y})=>[t(e(p),h({type:"text",modelValue:s.tempVenue.transportation[d].type,"onUpdate:modelValue":A=>s.tempVenue.transportation[d].type=A},y),null,16,["modelValue","onUpdate:modelValue"]),V(l("span",Xe,"必填欄位",512),[[v,r[0]]])]),_:2},1032,["name","modelValue","onUpdate:modelValue"]),t(e(m),{for:`transportation_info_${d}`,class:"text-left"},{default:a(()=>[o("內容")]),_:2},1032,["for"]),t(e(g),{name:`transportation_info_${d}`,rules:"required",modelValue:s.tempVenue.transportation[d].info,"onUpdate:modelValue":r=>s.tempVenue.transportation[d].info=r},{default:a(({errors:r,field:y})=>[V(l("textarea",h({type:"text",rows:"3",cols:"48",class:"border border-primary-foreground focus-visible:outline-black focus-visible:rounded-[10px] p-3 text-sm","onUpdate:modelValue":A=>s.tempVenue.transportation[d].info=A},y),`\r
                        `,16,Ye),[[se,s.tempVenue.transportation[d].info]]),V(l("span",Ze,"必填欄位",512),[[v,r[0]]])]),_:2},1032,["name","modelValue","onUpdate:modelValue"]),d+1!==s.inputGroup.length?(u(),f("span",et,"/")):U("",!0)]))),128))])])]),t(e(R),null,{default:a(()=>[t(e(z),null,{default:a(()=>[t(e(_),{variant:"outline",class:"px-6"},{default:a(()=>[o("取消")]),_:1})]),_:1}),t(e(_),{type:"button",onClick:i[20]||(i[20]=n=>s.formCheck())},{default:a(()=>[o("新增")]),_:1})]),_:1})]),_:1})]),_:1},8,["onUpdate:open"])]),_:1})]),l("div",tt,[t(e(N),null,{default:a(()=>[t(e(I),{"as-child":""},{default:a(()=>[t(e(_),{variant:"outline",class:"bg-primary text-white hover:bg-[#6366f1] hover:text-white"},{default:a(()=>[o(" 刪除資料 ")]),_:1})]),_:1}),t(e(O),null,{default:a(()=>[t(e(L),null,{default:a(()=>[t(e(G),null,{default:a(()=>[o("確定要刪除資料?")]),_:1})]),_:1}),t(e(P),null,{default:a(()=>[t(e(B),{class:"bg-black-60"},{default:a(()=>[o("取消")]),_:1}),t(e(F),{class:"text-black-100 bg-tiffany"},{default:a(()=>[o("確定")]),_:1})]),_:1})]),_:1})]),_:1})])]),s.adminVenues.length===0?(u(),f("p",at," oops! 搜尋不到相關資料 ╮(′～‵〞)╭ ")):(u(),b(e(ie),{key:1,class:"bg-white rounded-lg text-md mb-10"},{default:a(()=>[t(e(ne),null,{default:a(()=>[t(e(D),{class:"hover:bg-white text-nowrap",style:{color:"black !important"}},{default:a(()=>[t(e(x)),t(e(x),null,{default:a(()=>[o("名稱")]),_:1}),t(e(x),null,{default:a(()=>[o("地區")]),_:1}),t(e(x),null,{default:a(()=>[o("座位區分類")]),_:1}),t(e(x))]),_:1})]),_:1}),t(e(oe),{class:"text-gray-600"},{default:a(()=>[(u(!0),f($,null,w(s.adminVenues,n=>(u(),b(e(D),{key:n.id},{default:a(()=>[t(e(S),{class:"text-purple-primary"},{default:a(()=>[t(e(le),{id:"terms"}),st]),_:1}),t(e(S),{class:"text-purple-primary"},{default:a(()=>[o(k(n.title),1)]),_:2},1024),t(e(S),null,{default:a(()=>[o(k(n.city),1)]),_:2},1024),t(e(S),null,{default:a(()=>{var d;return[o(k((d=n.seat_areas)==null?void 0:d.join("、")),1)]}),_:2},1024),t(e(S),{class:"text-right"},{default:a(()=>[t(e(C),null,{default:a(()=>[t(e(T),{"as-child":""},{default:a(()=>[t(e(_),{variant:"none",class:"hover:text-[#6366f1]"},{default:a(()=>[lt]),_:1})]),_:1}),t(e(de),{class:"sm:max-w-[850px]"},{default:a(()=>[t(e(q),null,{default:a(()=>[t(e(j),{class:"text-center"},{default:a(()=>[o("編輯演唱會")]),_:1}),t(e(E),null,{default:a(()=>[o("請編輯演唱會")]),_:1})]),_:1}),l("div",nt,[l("div",ot,[l("div",it,[t(e(m),{for:"title",class:"text-left"},{default:a(()=>[o(" 演唱會標題 ")]),_:1}),t(e(p),{type:"text",id:"title",class:"col-span-3"})]),l("div",dt,[t(e(m),{for:"city",class:"text-left"},{default:a(()=>[o(" 表演者名稱 ")]),_:1}),t(e(p),{id:"artist",class:"col-span-3"})]),l("div",rt,[t(e(m),{for:"date",class:"text-left"},{default:a(()=>[o(" 演唱會日期 ")]),_:1}),t(e(p),{id:"date",class:"col-span-3"})]),l("div",ut,[t(e(m),{for:"location",class:"text-left"},{default:a(()=>[o(" 演唱會地點 ")]),_:1}),t(e(p),{id:"location",class:"col-span-3"})]),l("div",mt,[t(e(m),{for:"address",class:"text-left"},{default:a(()=>[o(" 演唱會地址 ")]),_:1}),t(e(p),{id:"address",class:"col-span-3"})])]),l("div",pt,[l("div",ct,[t(e(m),{for:"pictures",class:"text-left"},{default:a(()=>[o(" 演唱會圖片 ")]),_:1}),t(e(p),{type:"file",id:"pictures",class:"col-span-3 hover:bg-accent"})])])]),t(e(R),null,{default:a(()=>[t(e(z),null,{default:a(()=>[t(e(_),{variant:"outline",class:"px-6"},{default:a(()=>[o("取消")]),_:1})]),_:1}),t(e(_),{type:"submit"},{default:a(()=>[o("儲存資料")]),_:1})]),_:1})]),_:1})]),_:1}),t(e(N),null,{default:a(()=>[t(e(I),{"as-child":""},{default:a(()=>[t(e(_),{variant:"none",class:"hover:text-[#6366f1]"},{default:a(()=>[ft]),_:1})]),_:1}),t(e(O),null,{default:a(()=>[t(e(L),null,{default:a(()=>[t(e(G),null,{default:a(()=>[o("確定要刪除該筆資料?")]),_:1})]),_:1}),t(e(P),null,{default:a(()=>[t(e(B),null,{default:a(()=>[o("取消")]),_:1}),t(e(F),null,{default:a(()=>[o("確定")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1024))),128))]),_:1})]),_:1}))]))}});export{xt as default};
