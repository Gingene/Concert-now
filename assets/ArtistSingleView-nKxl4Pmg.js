import{T as O}from"./TitleComponent-W5cyMXGt.js";import{a as y,b as k,_ as w}from"./HoverCardContent-hWpV24hP.js";import{_ as E,a9 as U,z as G,y as J,ah as P,ai as W,aj as q,ak as K,c as r,a as s,F as f,r as h,b as x,w as n,u as d,t as i,ac as Q,o as a,C as X,g as p,E as c,h as A,I as Z,J as tt,d as L}from"./index-VAeGz4pi.js";import{u as et,a as st}from"./useDarkAlert-b0-vtthN.js";import{h as b}from"./moment-WSJ9un1t.js";const g=o=>(Z("data-v-93e717f8"),o=o(),tt(),o),ot={class:"container space-y-[20px] md:space-y-[58px] lg:space-y-[117px] pt-16 pb-[128px] lg:pb-[192px]"},at={class:"artist-intro mb-10 md:mb-[6.5rem] lg:mb-40"},nt={class:"flex justify-between mb-5"},lt={class:"flex"},rt={class:"w-[85%] lg:w-[63%] mx-auto xl:relative"},it=["src","alt"],dt={class:"flex justify-center xl:absolute bottom-[-13%] right-[-12%]"},ct={class:"relative"},xt={class:"bg-artistName absolute top-[-1rem] left-[1rem] text-stroke-light z-[-1]"},mt={class:"bg-artistName"},pt={class:"md:flex md:justify-between md:items-center lg:w-[70%] lg:mx-auto"},ut={class:"mb-[150px] md:mb-0 md:w-[45%]"},_t={class:"break-all text-justify pb-10 md:pb-6 md:text-[12px] lg:text-[13px]"},ft=g(()=>s("hr",{class:"pb-10 md:pb-6"},null,-1)),ht=g(()=>s("p",{class:"hidden font-semibold pb-4"},"HITS",-1)),gt={class:"gap-3 flex flex-row md:flex-col flex-wrap items-center md:items-end"},vt={class:"artist-honors-relative md:w-[50%]"},bt=g(()=>s("p",{class:"honors text-stroke-light bg-artistName"},"HONORS",-1)),yt={class:"bg-shadow-trans-text artist-honors w-[90%] md:w-[100%] ml-auto text-center break-keep py-[50px] px-[10px] md:py-[60px] rounded-[31px] z-[-1]"},kt=g(()=>s("br",null,null,-1)),wt=g(()=>s("br",null,null,-1)),At={class:"flex items-center"},Ct={class:"concert-box-time mr-3.5 md:mr-[45px] xl:mr-[120px]"},St={class:"text-[12px] sm:text-[15px] md:text-[19px]"},Dt={class:"text-[14px] sm:text-[18px] md:text-[22px]"},Tt={class:"text-[13px] sm:text-[16px] md:text-[18px] text-gray-300"},jt=["onClick"],Nt={key:1,class:"concert-box border rounded-[25px] py-[10px] px-[9px] flex justify-center items-center lg:w-[70%] lg:mx-auto"},Bt={class:"flex items-center"},It={class:"concert-box-time mr-3.5 md:mr-[45px] xl:mr-[120px]"},Yt={class:"text-[12px] sm:text-[15px] md:text-[19px]"},$t={class:"text-[14px] sm:text-[18px] md:text-[22px]"},Ft={class:"text-[13px] sm:text-[16px] md:text-[18px] text-gray-300"},Mt=["onClick"],Vt={key:1,class:"concert-box border rounded-[25px] py-[10px] px-[9px] flex justify-center items-center lg:w-[70%] lg:mx-auto"},{setIsLoading:R}=U(),{swalWithStylingButtons:H}=et(),zt={data(){return{checkData:null,singleArtist:null,savedConcertsData:null}},computed:{...G(Q,["AccessToken"]),saveState(){return this.savedConcertsData}},methods:{...J(st,["postFollowConcetsData","deleteFollowConcetsData"]),async getSingleArtistData(o){try{R();const t=await P(o);this.singleArtist=t.data.data}catch(t){console.log(t)}finally{R()}},toggleFollowArtist(o,t){if(!this.AccessToken){H.fire({title:"登入後才能用追蹤功能喔！",showCancelButton:!0,confirmButtonText:"前往登入"}).then(m=>{m.isConfirmed&&(window.location.href="login#/login")});return}if(o)this.deleteFollowConcetsData(t).then(()=>this.getSingleArtistData(t));else{this.postFollowConcetsData(t).then(()=>this.getSingleArtistData(t));return}},changeSaveConcertsMode(o){var t;if(this.AccessToken===void 0){H.fire({title:"登入後才能用收藏功能喔！",showCancelButton:!0,confirmButtonText:"前往登入"}).then(m=>{m.isConfirmed&&(window.location.href="login#/login")});return}(t=this.savedConcertsData)!=null&&t.some(m=>m.id===o)?this.deleteSaveConcertsData(o).then(()=>this.getSavedConcertsData()):this.postSaveConcertsData(o).then(()=>this.getSavedConcertsData())},async getSavedConcertsData(){try{const o=await W();this.savedConcertsData=o.data.data.saved_concerts}catch(o){console.log(o)}},async postSaveConcertsData(o){try{const t=await q(o);console.log(t)}catch(t){console.log(t)}},async deleteSaveConcertsData(o){try{const t=await K(o);console.log(t)}catch(t){console.log(t)}},updateData(o){this.getSingleArtistData(o)}},mounted(){this.getSingleArtistData(Number(this.$route.params.id)),this.AccessToken&&this.getSavedConcertsData()}},Ot=Object.assign(zt,{__name:"ArtistSingleView",setup(o){return(t,m)=>{var S,D,T,j,N,B,I,Y,$,F,M,V,z;const C=L("RouterLink"),v=L("font-awesome-icon");return a(),r("div",ot,[s("section",at,[s("div",nt,[s("div",lt,[(a(!0),r(f,null,h((S=t.singleArtist)==null?void 0:S.keywords,(e,l)=>(a(),r("p",{class:"mr-3",key:l},i(e)+" /",1))),128))]),x(d(w),null,{default:n(()=>[x(d(y),null,{default:n(()=>{var e,l;return[(a(),r("button",{key:(e=t.singleArtist)==null?void 0:e.id,class:X(["basic text-base",(l=t.singleArtist)!=null&&l.is_followed?"tiffany-follow":"tiffany-outline"]),onClick:m[0]||(m[0]=u=>t.toggleFollowArtist(t.singleArtist.is_followed,t.singleArtist.id))}," follow ",2))]}),_:1}),t.AccessToken===void 0?(a(),p(d(k),{key:0},{default:n(()=>[c(" 請登入開啟追蹤功能 ")]),_:1})):A("",!0)]),_:1})]),s("div",rt,[s("img",{class:"rounded-xl mb-5",src:(T=(D=t.singleArtist)==null?void 0:D.cover_urls)==null?void 0:T.horizontal,alt:(j=t.singleArtist)==null?void 0:j.name},null,8,it),s("div",dt,[s("div",ct,[s("div",xt,i((N=t.singleArtist)==null?void 0:N.name),1),s("div",mt,i((B=t.singleArtist)==null?void 0:B.name),1)])])])]),s("div",pt,[s("section",ut,[s("p",_t,i((I=t.singleArtist)==null?void 0:I.description),1),ft,ht,s("div",gt,[(a(!0),r(f,null,h((Y=t.singleArtist)==null?void 0:Y.popular_songs,(e,l)=>(a(),r("div",{key:l,class:"song border text-center rounded-2xl py-[8px] px-[11px]"},i(e),1))),128))])]),s("section",vt,[bt,s("p",yt,[(a(!0),r(f,null,h(($=t.singleArtist)==null?void 0:$.honors,(e,l)=>(a(),r("span",{key:l},[c(i(e)+" ",1),kt,c("-"),wt]))),128))])])]),s("div",null,[x(O,{class:"flex justify-center mb-[30px]"},{subTitle:n(()=>[c("UPCOMING")]),mainTitle:n(()=>[c("即將舉辦")]),_:1}),((F=t.singleArtist)==null?void 0:F.upcoming_concerts.length)>0?(a(!0),r(f,{key:0},h((M=t.singleArtist)==null?void 0:M.upcoming_concerts,e=>{var l;return a(),r("div",{key:e.id,class:"concert-box border rounded-[25px] py-[10px] px-[9px] mb-6 flex justify-between items-center lg:w-[70%] lg:mx-auto"},[s("div",At,[s("div",Ct,[s("p",St,i(d(b)(e.holding_time).format("MM/DD")),1),s("p",Dt,i(d(b)(e.holding_time).format("YYYY")),1)]),s("div",null,[x(C,{to:`/concerts/${e==null?void 0:e.id}`,class:"text-[14px] sm:text-[17px] md:text-[21px]"},{default:n(()=>[c(i(e==null?void 0:e.title),1)]),_:2},1032,["to"]),s("p",Tt,i((l=e==null?void 0:e.venue)==null?void 0:l.title),1)])]),x(d(w),null,{default:n(()=>[x(d(y),null,{default:n(()=>{var u;return[s("button",{class:"mb-auto",onClick:_=>t.changeSaveConcertsMode(e.id)},[(u=t.saveState)!=null&&u.some(_=>_.id===(e==null?void 0:e.id))?(a(),p(v,{key:0,icon:"fa-solid fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"})):(a(),p(v,{key:1,icon:"fa-regular fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"}))],8,jt)]}),_:2},1024),t.AccessToken===void 0?(a(),p(d(k),{key:0},{default:n(()=>[c(" 登入開啟收藏功能 ")]),_:1})):A("",!0)]),_:2},1024)])}),128)):(a(),r("div",Nt,"目前沒有資料 ~ ~ ~"))]),s("div",null,[x(O,{class:"flex justify-center mb-[30px]"},{subTitle:n(()=>[c("HISTORY")]),mainTitle:n(()=>[c("已結束")]),_:1}),((V=t.singleArtist)==null?void 0:V.historical_concerts.length)>0?(a(!0),r(f,{key:0},h((z=t.singleArtist)==null?void 0:z.historical_concerts,e=>{var l;return a(),r("div",{key:e.id,class:"concert-box border rounded-[25px] py-[10px] px-[9px] flex justify-between items-center lg:w-[70%] lg:mx-auto"},[s("div",Bt,[s("div",It,[s("p",Yt,i(d(b)(e.holding_time).format("MM/DD")),1),s("p",$t,i(d(b)(e.holding_time).format("YYYY")),1)]),s("div",null,[x(C,{to:`/concerts/${e.id}`,class:"text-[14px] sm:text-[17px] md:text-[21px]"},{default:n(()=>[c(i(e==null?void 0:e.title),1)]),_:2},1032,["to"]),s("p",Ft,i((l=e==null?void 0:e.venue)==null?void 0:l.title),1)])]),x(d(w),null,{default:n(()=>[x(d(y),null,{default:n(()=>{var u;return[s("button",{class:"mb-auto",onClick:_=>t.changeSaveConcertsMode(e.id)},[(u=t.saveState)!=null&&u.some(_=>_.id===(e==null?void 0:e.id))?(a(),p(v,{key:0,icon:"fa-solid fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"})):(a(),p(v,{key:1,icon:"fa-regular fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"}))],8,Mt)]}),_:2},1024),t.AccessToken===void 0?(a(),p(d(k),{key:0},{default:n(()=>[c(" 請登入開啟收藏功能 ")]),_:1})):A("",!0)]),_:2},1024)])}),128)):(a(),r("div",Vt,"目前沒有資料 ~ ~ ~"))])])}}}),Gt=E(Ot,[["__scopeId","data-v-93e717f8"]]);export{Gt as default};
