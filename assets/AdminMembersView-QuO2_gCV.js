import{a7 as v,c as u,a as n,b as a,y as t,w as s,aL as b,b0 as y,F as p,o,a4 as x,E as i,r as g,e as w,t as c}from"./index-IDDDb3vt.js";import{_ as D,a as k,b as V,c as S,d as M,e as T,f as A}from"./SelectLabel-7fgXYwrB.js";import{_ as B,a as $,b as _,c as j,d as m,e as F}from"./TableRow-IE1bF-PS.js";import{_ as N}from"./TableCaption-ejOv9u_y.js";import{a as E,b as I}from"./all-W-nqU7lG.js";import"./check-tlApPUp7.js";const K={class:"flex flex-wrap gap-6 mb-8 relative"},L={class:"w-full xs:w-[290px] relative"},U=n("span",{class:"material-symbols-outlined absolute top-1 right-2.5 cursor-pointer hidden lg:block"}," search ",-1),z={class:"w-full xs:w-[250px]"},C={class:"flex items-center mr-2"},O=["src"],q={class:"ml-3"},G={class:"flex items-center"},H={key:0,class:"material-symbols-outlined mr-1"},J={key:1,class:"material-symbols-outlined mr-1 text-violet-800"},P={class:"flex justify-center py-12"},Q=n("h2",null,"哇! 找不到資料~",-1),R=[Q],W={data(){return{searchText:"",selectStatus:"",selectTime:"",usersData:null,allstatus:[{id:1,type:"全部"},{id:2,type:"啟用中"},{id:3,type:"停權中"}],jointimes:[{id:1,time:"2023/01-2023/02"},{id:2,time:"2023/02-2023/03"},{id:3,time:"2023/03-2023/04"},{id:4,time:"2023/04-2023/05"},{id:5,time:"2023/05-2023/06"}]}},computed:{filteredData(){var l;const d=this.selectStatus;return d==="全部"?this.usersData:(l=this.usersData)==null?void 0:l.filter(r=>{let f=!0;return d!=null&&d.length>0&&(f=r.status===d),f})}},methods:{async getAdminMembersData(d=1){try{const l=await E(d);this.usersData=l.data.data}catch(l){console.error(l)}},searchInput:v(async function(d=1){try{const l=await I(this.searchText,d);this.usersData=l.data.data}catch(l){console.error(l)}},300)},mounted(){this.getAdminMembersData()}},se=Object.assign(W,{__name:"AdminMembersView",setup(d){return(l,r)=>{var f,h;return o(),u(p,null,[n("div",null,[n("div",K,[n("div",L,[a(t(x),{type:"text",placeholder:"請輸入信箱查詢",modelValue:l.searchText,"onUpdate:modelValue":r[0]||(r[0]=e=>l.searchText=e),modelModifiers:{trim:!0},onKeyup:l.searchInput},null,8,["modelValue","onKeyup"]),U]),n("div",z,[a(t(A),{modelValue:l.selectStatus,"onUpdate:modelValue":r[1]||(r[1]=e=>l.selectStatus=e)},{default:s(()=>[a(t(D),null,{default:s(()=>[a(t(k),{placeholder:"選擇會員狀態"})]),_:1}),a(t(V),null,{default:s(()=>[a(t(S),null,{default:s(()=>[a(t(M),{class:"tracking-wide"},{default:s(()=>[i("會員狀態")]),_:1}),(o(!0),u(p,null,g(l.allstatus,e=>(o(),w(t(T),{key:e.id,value:e.type},{default:s(()=>[i(c(e.type),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),b(a(t(F),{class:"bg-white rounded-lg text-md mb-10 whitespace-nowrap"},{default:s(()=>[a(t(N),null,{default:s(()=>[i("會員管理")]),_:1}),a(t(B),null,{default:s(()=>[a(t($),null,{default:s(()=>[a(t(_),{class:"font-semibold w-[200px]"},{default:s(()=>[i(" 名稱 ")]),_:1}),a(t(_),{class:"font-semibold"},{default:s(()=>[i("信箱")]),_:1}),a(t(_),{class:"font-semibold pl-6"},{default:s(()=>[i("會員狀態")]),_:1}),a(t(_),{class:"font-semibold"},{default:s(()=>[i(" 警告次數 ")]),_:1}),a(t(_),{class:"font-semibold"},{default:s(()=>[i(" 會員編號 ")]),_:1}),a(t(_),{class:"font-semibold"},{default:s(()=>[i(" 加入會員日期 ")]),_:1})]),_:1})]),_:1}),a(t(j),null,{default:s(()=>[(o(!0),u(p,null,g(l.filteredData,e=>(o(),w(t($),{key:e.id},{default:s(()=>[a(t(m),{class:"font-medium w-[200px]"},{default:s(()=>[n("div",C,[n("img",{class:"size-[56px] border-2 rounded-full bg-white p-1",src:e==null?void 0:e.profile_image_url,alt:"使用者大頭貼"},null,8,O),n("p",q,c(e==null?void 0:e.name),1)])]),_:2},1024),a(t(m),null,{default:s(()=>[i(c(e==null?void 0:e.email),1)]),_:2},1024),a(t(m),null,{default:s(()=>[n("div",G,[e.status==="啟用中"?(o(),u("span",H," check_circle ")):(o(),u("span",J," warning ")),i(" "+c(e.status),1)])]),_:2},1024),a(t(m),{class:"pl-10"},{default:s(()=>[i(c(e==null?void 0:e.warning_list.length),1)]),_:2},1024),a(t(m),{class:"pl-10"},{default:s(()=>[i(c(e==null?void 0:e.id),1)]),_:2},1024),a(t(m),null,{default:s(()=>[i(c(e==null?void 0:e.created_at),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},512),[[y,((f=l.filteredData)==null?void 0:f.length)!==0]]),b(n("div",P,R,512),[[y,!((h=l.filteredData)!=null&&h.length)]])],64)}}});export{se as default};
