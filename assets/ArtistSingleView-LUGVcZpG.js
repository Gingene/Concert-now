import{T as L}from"./TitleComponent-TbaKNQUH.js";import{a as w,b as A,_ as S}from"./HoverCardContent-qbQEBlYz.js";import{as as W,_ as E,ab as U,K as G,z as J,y as K,at as P,au as q,av as Q,aw as X,c as l,a as s,F as _,r as h,b as m,w as r,u as c,t as i,ae as Z,o as a,E as p,h as g,C as tt,g as u,I as et,J as st,d as R}from"./index-YQxMthNK.js";import{h as y}from"./moment-WSJ9un1t.js";import{u as ot}from"./artists-Mu0_Owvk.js";function at(){return{swalWithStylingButtons:W.mixin({customClass:{popup:"px-6 py-10 rounded-md bg-black-90 text-white text-nowrap",confirmButton:"mt-4 mr-2 whitespace-nowrap focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 border-[3px] border-tiffany bg-tiffany text-primary p-2 md:py-2 md:px-4 lg:py-2 lg:px-6 rounded-btn1",cancelButton:"mt-4 ml-2 whitespace-nowrap focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 border-[3px] border-black-80 bg-black-80 text-primary text-white p-2 md:py-2 md:px-4 lg:py-2 lg:px-6 rounded-btn1"},buttonsStyling:!1})}}const b=o=>(et("data-v-6aecd73c"),o=o(),st(),o),nt={class:"container space-y-[20px] md:space-y-[58px] lg:space-y-[117px] pt-16 pb-[128px] lg:pb-[192px]"},lt={class:"artist-intro mb-10 md:mb-[6.5rem] lg:mb-40"},rt={class:"flex justify-between mb-5"},it={class:"flex"},dt={key:0},ct={class:"w-[85%] lg:w-[63%] mx-auto xl:relative"},pt=["src","alt"],mt={class:"flex justify-center xl:absolute bottom-[-13%] right-[-12%]"},xt={class:"relative"},ut={class:"bg-artistName font-lato absolute top-[-1rem] left-[1rem] text-stroke-light z-[-1]"},ft={class:"bg-artistName font-lato"},_t={class:"md:flex md:justify-between md:items-center lg:w-[70%] lg:mx-auto"},ht={class:"mb-[150px] md:mb-0 md:w-[45%]"},gt={class:"break-all text-justify pb-10 md:pb-6 md:text-[12px] lg:text-[13px]"},bt=b(()=>s("hr",{class:"pb-10 md:pb-6"},null,-1)),vt=b(()=>s("p",{class:"hidden font-semibold pb-4"},"HITS",-1)),yt={class:"gap-3 flex flex-row md:flex-col flex-wrap items-center md:items-end"},kt={class:"artist-honors-relative md:w-[50%]"},wt=b(()=>s("p",{class:"honors text-stroke-light bg-artistName"},"HONORS",-1)),At={class:"bg-shadow-trans-text artist-honors w-[90%] md:w-[100%] ml-auto text-center break-keep py-[50px] px-[10px] md:py-[60px] rounded-[31px] z-[-1]"},St={key:0},Ct=b(()=>s("br",null,null,-1)),Dt=b(()=>s("br",null,null,-1)),Tt={class:"flex items-center"},Bt={class:"concert-box-time text-black-20 mr-3.5 md:mr-[45px] xl:mr-[120px]"},Mt={class:"text-[12px] sm:text-[15px] md:text-[19px]"},jt={class:"text-[14px] sm:text-[18px] md:text-[22px]"},Ft={class:"text-[13px] sm:text-[16px] md:text-[18px] text-black-60"},Nt=["onClick"],It={key:1,class:"concert-box border border-black-60 rounded-[25px] py-[10px] px-[9px] flex justify-center items-center lg:w-[70%] lg:mx-auto"},Yt={class:"flex items-center"},$t={class:"concert-box-time text-black-20 mr-3.5 md:mr-[45px] xl:mr-[120px]"},Vt={class:"text-[12px] sm:text-[15px] md:text-[19px]"},zt={class:"text-[14px] sm:text-[18px] md:text-[22px]"},Ot={class:"text-[12px] sm:text-[15px] md:text-[16px] text-black-60"},Lt=["onClick"],Rt={key:1,class:"concert-box border border-black-60 rounded-[25px] py-[10px] px-[9px] flex justify-center items-center lg:w-[70%] lg:mx-auto"},{setIsLoading:k}=U(),{toast:Ht}=G(),{swalWithStylingButtons:H}=at(),Wt={data(){return{checkData:null,singleArtist:null,savedConcertsData:null}},props:["id"],computed:{...J(Z,["AccessToken"]),saveState(){return this.savedConcertsData}},watch:{id(o){k(),this.getSingleArtistData(o),setTimeout(()=>{k()},300)}},methods:{...K(ot,["postFollowConcetsData","deleteFollowConcetsData"]),async getSingleArtistData(o){try{const t=await P(o);this.singleArtist=t.data.data}catch(t){console.error(t)}},toggleFollowArtist(o,t){if(!this.AccessToken){H.fire({title:"登入後才能用追蹤功能喔！",showCancelButton:!0,confirmButtonText:"前往登入"}).then(x=>{x.isConfirmed&&(window.location.href="login#/login")});return}o?(this.deleteFollowConcetsData(t).then(()=>this.getSingleArtistData(t)),this.toastMsg("刪除追蹤成功")):(this.postFollowConcetsData(t).then(()=>this.getSingleArtistData(t)),this.toastMsg("追蹤成功"))},changeSaveConcertsMode(o){var t;if(this.AccessToken===void 0){H.fire({title:"登入後才能用收藏功能喔！",showCancelButton:!0,confirmButtonText:"前往登入"}).then(x=>{x.isConfirmed&&(window.location.href="login#/login")});return}(t=this.savedConcertsData)!=null&&t.some(x=>x.id===o)?(this.deleteSaveConcertsData(o).then(()=>this.getSavedConcertsData()),this.toastMsg("已取消收藏")):(this.postSaveConcertsData(o).then(()=>this.getSavedConcertsData()),this.toastMsg("已加入收藏"))},async getSavedConcertsData(){try{const o=await q();this.savedConcertsData=o.data.data.saved_concerts}catch(o){console.error(o)}},async postSaveConcertsData(o){try{await Q(o)}catch(t){console.error(t)}},async deleteSaveConcertsData(o){try{await X(o)}catch(t){console.error(t)}},updateData(o){this.getSingleArtistData(o)},toastMsg(o){Ht({title:o,description:""})}},mounted(){k(),this.getSingleArtistData(Number(this.$route.params.id)),setTimeout(()=>{k()},300),this.AccessToken&&this.getSavedConcertsData()}},Et=Object.assign(Wt,{__name:"ArtistSingleView",setup(o){return(t,x)=>{var D,T,B,M,j,F,N,I,Y,$,V,z,O;const C=R("RouterLink"),v=R("font-awesome-icon");return a(),l("div",nt,[s("section",lt,[s("div",rt,[s("div",it,[(a(!0),l(_,null,h((D=t.singleArtist)==null?void 0:D.keywords,(e,n)=>{var d;return a(),l("p",{class:"mr-1",key:n},[p(i(e)+" ",1),((d=t.singleArtist.keywords)==null?void 0:d.length)-1!==n?(a(),l("span",dt,"/")):g("",!0)])}),128))]),m(c(S),null,{default:r(()=>[m(c(w),null,{default:r(()=>{var e,n,d;return[(a(),l("button",{key:(e=t.singleArtist)==null?void 0:e.id,class:tt(["basic-follow text-base",(n=t.singleArtist)!=null&&n.is_followed?"tiffany-follow":"tiffany-outline"]),onClick:x[0]||(x[0]=f=>t.toggleFollowArtist(t.singleArtist.is_followed,t.singleArtist.id))},i((d=t.singleArtist)!=null&&d.is_followed?"Following":"Follow"),3))]}),_:1}),t.AccessToken===void 0?(a(),u(c(A),{key:0},{default:r(()=>[p(" 請登入開啟追蹤功能 ")]),_:1})):g("",!0)]),_:1})]),s("div",ct,[s("img",{class:"rounded-xl mb-5",src:(B=(T=t.singleArtist)==null?void 0:T.cover_urls)==null?void 0:B.horizontal,alt:(M=t.singleArtist)==null?void 0:M.name},null,8,pt),s("div",mt,[s("div",xt,[s("div",ut,i((j=t.singleArtist)==null?void 0:j.name),1),s("div",ft,i((F=t.singleArtist)==null?void 0:F.name),1)])])])]),s("div",_t,[s("section",ht,[s("p",gt,i((N=t.singleArtist)==null?void 0:N.description),1),bt,vt,s("div",yt,[(a(!0),l(_,null,h((I=t.singleArtist)==null?void 0:I.popular_songs,(e,n)=>(a(),l("div",{key:n,class:"song border text-center rounded-2xl py-[8px] px-[11px]"},i(e),1))),128))])]),s("section",kt,[wt,s("div",At,[(a(!0),l(_,null,h((Y=t.singleArtist)==null?void 0:Y.honors,(e,n)=>{var d;return a(),l("div",{key:n},[p(i(e)+" ",1),((d=t.singleArtist.honors)==null?void 0:d.length)-1!==n?(a(),l("span",St,[Ct,p("-"),Dt])):g("",!0)])}),128))])])]),s("div",null,[m(L,{class:"flex justify-center mb-[30px]"},{subTitle:r(()=>[p("UPCOMING")]),mainTitle:r(()=>[p("即將舉辦")]),_:1}),(($=t.singleArtist)==null?void 0:$.upcoming_concerts.length)>0?(a(!0),l(_,{key:0},h((V=t.singleArtist)==null?void 0:V.upcoming_concerts,e=>{var n;return a(),l("div",{key:e.id,class:"concert-box border border-black-60 rounded-[25px] py-[10px] px-[9px] mb-6 flex justify-between items-center lg:w-[70%] lg:mx-auto"},[s("div",Tt,[s("div",Bt,[s("p",Mt,i(c(y)(e.holding_time).format("MM/DD")),1),s("p",jt,i(c(y)(e.holding_time).format("YYYY")),1)]),s("div",null,[m(C,{to:`/concerts/${e==null?void 0:e.id}`,class:"text-[14px] sm:text-[17px] md:text-[21px]"},{default:r(()=>[p(i(e==null?void 0:e.title),1)]),_:2},1032,["to"]),s("p",Ft,i((n=e==null?void 0:e.venue)==null?void 0:n.title),1)])]),m(c(S),null,{default:r(()=>[m(c(w),null,{default:r(()=>{var d;return[s("button",{class:"mb-auto",onClick:f=>t.changeSaveConcertsMode(e.id)},[(d=t.saveState)!=null&&d.some(f=>f.id===(e==null?void 0:e.id))?(a(),u(v,{key:0,icon:"fa-solid fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"})):(a(),u(v,{key:1,icon:"fa-regular fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"}))],8,Nt)]}),_:2},1024),t.AccessToken===void 0?(a(),u(c(A),{key:0},{default:r(()=>[p(" 登入開啟收藏功能 ")]),_:1})):g("",!0)]),_:2},1024)])}),128)):(a(),l("div",It,"目前沒有資料 ~ ~ ~"))]),s("div",null,[m(L,{class:"flex justify-center mb-[30px]"},{subTitle:r(()=>[p("HISTORY")]),mainTitle:r(()=>[p("已結束")]),_:1}),((z=t.singleArtist)==null?void 0:z.historical_concerts.length)>0?(a(!0),l(_,{key:0},h((O=t.singleArtist)==null?void 0:O.historical_concerts,e=>{var n;return a(),l("div",{key:e.id,class:"concert-box border border-black-60 rounded-[25px] py-[10px] px-[9px] mb-6 flex justify-between items-center lg:w-[70%] lg:mx-auto"},[s("div",Yt,[s("div",$t,[s("p",Vt,i(c(y)(e.holding_time).format("MM/DD")),1),s("p",zt,i(c(y)(e.holding_time).format("YYYY")),1)]),s("div",null,[m(C,{to:`/concerts/${e.id}`,class:"text-[14px] sm:text-[17px] md:text-[21px]"},{default:r(()=>[p(i(e==null?void 0:e.title),1)]),_:2},1032,["to"]),s("p",Ot,i((n=e==null?void 0:e.venue)==null?void 0:n.title),1)])]),m(c(S),null,{default:r(()=>[m(c(w),null,{default:r(()=>{var d;return[s("button",{class:"mb-auto",onClick:f=>t.changeSaveConcertsMode(e.id)},[(d=t.saveState)!=null&&d.some(f=>f.id===(e==null?void 0:e.id))?(a(),u(v,{key:0,icon:"fa-solid fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"})):(a(),u(v,{key:1,icon:"fa-regular fa-bookmark",class:"text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]"}))],8,Lt)]}),_:2},1024),t.AccessToken===void 0?(a(),u(c(A),{key:0},{default:r(()=>[p(" 請登入開啟收藏功能 ")]),_:1})):g("",!0)]),_:2},1024)])}),128)):(a(),l("div",Rt,"目前沒有資料 ~ ~ ~"))])])}}}),qt=E(Et,[["__scopeId","data-v-6aecd73c"]]);export{qt as default};
