import{_ as p}from"./LoginComponent-GohA7f2M.js";import{t as u,o as l,s,u as d}from"./vee-validate-zod.esm-yOI6jfzS.js";import{K as h,L as _,g as f,u as g,M as S,N as k,o as T}from"./index-M_ZmZLFt.js";import"./CardTitle-In8OOqEt.js";import"./CardDescription-C453EJYU.js";import"./CardContent-oYOk6brh.js";import"./HoverCardContent-7VB8Vl9w.js";import"./Label-ns5ciN8W.js";const N={__name:"LoginView",setup(y){const{toast:e}=h(),r=_(),n=u(l({email:s({required_error:"必填"}),password:s({required_error:"必填"})})),a=d({validationSchema:n}),c=t=>{S.post(k.login,t).then(o=>{const{data:m}=o.data;document.cookie=`AccessToken=${m.access_token}; path=/`,localStorage.setItem("user",JSON.stringify(o.data.data.user)),e({title:"登入成功"}),r.push("/member")}).catch(()=>{e({title:"登入失敗，請再次確認資料是否正確。"})})},i=a.handleSubmit(t=>{c(t),a.resetForm()});return(t,o)=>(T(),f(p,{defaultPage:"login",onMethod:g(i)},null,8,["onMethod"]))}};export{N as default};
