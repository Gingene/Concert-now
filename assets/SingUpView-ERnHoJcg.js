import{t as p,o as c,s as o,_ as u}from"./vee-validate-zod.esm-04ZrAE0Q.js";import{u as l}from"./vee-validate.esm-KdHjZ2hV.js";import{K as d,L as f,e as _,y as h,M as g,N as S,o as q}from"./index-WMY0rRpD.js";import"./CardTitle-vb2P3sRR.js";import"./CardDescription-Y0oxAcAZ.js";import"./CardContent-E82ZjIep.js";import"./Label-86Zifn4W.js";import"./PopoverContent-3rARKOCT.js";const j={__name:"SingUpView",setup(y){const{toast:t}=d(),a=f(),m=p(c({name:o({required_error:"必填"}).min(3,{message:"名稱至少3個字"}).max(20,{message:"需要少於20個字"}),email:o({required_error:"必填"}).email("信箱格式不正確"),password:o({required_error:"必填"}).min(8,{message:"密碼至少為8碼"}),confirm:o({required_error:"必填"})}).refine(e=>e.password===e.confirm,{message:"密碼不相符",path:["confirm"]})),s=l({validationSchema:m}),n=e=>{g.post(S.register,e).then(r=>{t({title:"註冊成功！可以去登入了ヽ(●´∀`●)ﾉ"}),a.push({name:"login"})}).catch(()=>{t({title:"註冊失敗，請再次確認資料是否正確。"}),alert("註冊失敗！")})},i=s.handleSubmit(e=>{const r={...e};delete r.confirm,n(r),s.resetForm()});return(e,r)=>(q(),_(u,{defaultPage:"signup",onMethod:h(i)},null,8,["onMethod"]))}};export{j as default};
