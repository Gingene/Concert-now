import{T as W}from"./TitleComponent-3zh2LLPA.js";import{_ as X,a2 as Z,K as tt,x as et,v as st,aj as at,ak as ot,al as lt,am as nt,c as i,a,F as g,r as b,b as s,w as o,y as n,C as rt,t as c,f as u,a5 as it,o as r,E as d,a7 as w,a8 as S,a9 as C,aa as D,ab as T,ac as $,ad as F,ae as j,af as M,e as f,I as dt,J as ct,d as N}from"./index-EVngkGWf.js";import{h as y}from"./moment-WSJ9un1t.js";import{u as xt}from"./artists-H2COW9JR.js";const v=l=>(dt("data-v-3230b72f"),l=l(),ct(),l),mt={class:"container space-y-[20px] md:space-y-[58px] lg:space-y-[117px] pt-16 pb-[128px] lg:pb-[192px]"},_t={class:"artist-intro mb-10 md:mb-[6.5rem] lg:mb-40"},pt={class:"flex justify-between mb-5"},ut={class:"flex"},ft={key:0},ht={key:0,class:"basic-follow tiffany-outline text-base"},kt={class:"w-[85%] lg:w-[63%] mx-auto xl:relative"},gt=["src","alt"],bt={class:"flex justify-center xl:absolute bottom-[-13%] right-[-12%]"},vt={class:"relative"},yt={class:"bg-artistName font-lato absolute top-[-1rem] left-[1rem] text-stroke-light z-[-1]"},At={class:"bg-artistName font-lato"},wt={class:"md:flex md:justify-between md:items-center lg:w-[70%] lg:mx-auto"},St={class:"mb-[150px] md:mb-0 md:w-[45%]"},Ct={class:"break-all text-justify pb-10 md:pb-6 md:text-[12px] lg:text-[13px]"},Dt=v(()=>a("hr",{class:"pb-10 md:pb-6"},null,-1)),Tt=v(()=>a("p",{class:"hidden font-semibold pb-4"},"HITS",-1)),$t={class:"gap-3 flex flex-row md:flex-col flex-wrap items-center md:items-end"},Ft={class:"artist-honors-relative md:w-[50%]"},jt=v(()=>a("p",{class:"honors text-stroke-light bg-artistName"},"HONORS",-1)),Mt={class:"bg-shadow-trans-text artist-honors w-[90%] md:w-[100%] ml-auto text-center break-keep py-[50px] px-[10px] md:py-[60px] rounded-[31px] z-[-1]"},Nt={key:0},It=v(()=>a("br",null,null,-1)),Yt=v(()=>a("br",null,null,-1)),Vt={class:"flex items-center"},Ot={class:"text-black-20 mr-3.5 md:mr-[45px] xl:mr-[60px]"},zt={class:"text-[12px] sm:text-[15px] md:text-[19px]"},Bt={class:"text-[14px] sm:text-[18px] md:text-[22px]"},Lt={class:"text-[13px] sm:text-[16px] md:text-[18px] text-black-60"},Rt=["onClick"],Ht={key:0},Et={key:1,class:"border border-black-60 rounded-[25px] py-[10px] px-[9px] flex justify-center items-center lg:w-[70%] lg:mx-auto text-[14px] sm:text-[17px] md:text-[21px]"},Ut={class:"flex items-center"},Gt={class:"text-black-20 mr-3.5 md:mr-[45px] xl:mr-[60px]"},Jt={class:"text-[12px] sm:text-[15px] md:text-[19px]"},Kt={class:"text-[14px] sm:text-[18px] md:text-[22px]"},Pt={class:"text-[12px] sm:text-[15px] md:text-[16px] text-black-60"},qt=["onClick"],Qt={key:0},Wt={key:1,class:"border border-black-60 rounded-[25px] px-[9px] py-[10px] flex justify-center items-center lg:w-[70%] lg:mx-auto text-[14px] sm:text-[17px] md:text-[21px]"},{setIsLoading:A}=Z(),{toast:Xt}=tt(),Zt={data(){return{checkData:null,singleArtist:null,savedConcertsData:null}},props:["id"],computed:{...et(it,["AccessToken"]),saveState(){return this.savedConcertsData}},watch:{id(l){A(),this.getSingleArtistData(l),setTimeout(()=>{A()},300)}},methods:{...st(xt,["postFollowConcetsData","deleteFollowConcetsData"]),async getSingleArtistData(l){try{const t=await at(l);this.singleArtist=t.data.data}catch(t){console.error(t)}},toggleFollowSingleArtist(l,t){l?this.handleFollowAction(t,"刪除","刪除追蹤成功"):this.handleFollowAction(t,"新增","追蹤成功")},changeSaveConcertsMode(l){if(!this.AccessToken||!Array.isArray(this.savedConcertsData))return;this.savedConcertsData.find(_=>_.id===l)?this.handleSaveAction(l,"刪除","已取消收藏"):this.handleSaveAction(l,"新增","已加入收藏")},async getSavedConcertsData(){try{const l=await ot();this.savedConcertsData=l.data.data.saved_concerts}catch(l){console.error(l)}},async postSaveConcertsData(l){try{await lt(l)}catch(t){console.error(t)}},async deleteSaveConcertsData(l){try{await nt(l)}catch(t){console.error(t)}},handleFollowAction(l,t,_){(t==="新增"?this.postFollowConcetsData:this.deleteFollowConcetsData)(l).then(()=>this.getSingleArtistData(l)).then(()=>{setTimeout(()=>this.toastMsg(_),300)})},handleSaveAction(l,t,_){(t==="新增"?this.postSaveConcertsData:this.deleteSaveConcertsData)(l).then(()=>this.getSavedConcertsData()).then(()=>{setTimeout(()=>this.toastMsg(_),300)})},toastMsg(l){Xt({title:l,description:""})},updateData(l){this.getSingleArtistData(l)}},mounted(){A(),this.getSingleArtistData(Number(this.$route.params.id)),setTimeout(()=>{A()},300),this.AccessToken&&this.getSavedConcertsData()}},te=Object.assign(Zt,{__name:"ArtistSingleView",setup(l){return(t,_)=>{var Y,V,O,z,B,L,R,H,E,U,G,J,K,P,q,Q;const h=N("router-link"),I=N("RouterLink"),p=N("font-awesome-icon");return r(),i("main",mt,[a("section",_t,[a("div",pt,[a("div",ut,[(r(!0),i(g,null,b((Y=t.singleArtist)==null?void 0:Y.keywords,(e,x)=>{var m;return r(),i("p",{class:"mr-1",key:x},[d(c(e)+" ",1),((m=t.singleArtist.keywords)==null?void 0:m.length)-1!==x?(r(),i("span",ft,"/")):u("",!0)])}),128))]),s(n(M),null,{default:o(()=>[s(n(w),{class:"flex"},{default:o(()=>[t.AccessToken?u("",!0):(r(),i("button",ht,"Follow"))]),_:1}),s(n(S),null,{default:o(()=>[s(n(C),null,{default:o(()=>[s(n(D),null,{default:o(()=>[d("請登入後追蹤")]),_:1}),s(n(T))]),_:1}),s(n($),null,{default:o(()=>[s(n(F),null,{default:o(()=>[d("取消")]),_:1}),s(n(j),{asChild:""},{default:o(()=>[s(h,{to:"/login"},{default:o(()=>[d(" 前往登入 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t.AccessToken?(r(),i("button",{key:(V=t.singleArtist)==null?void 0:V.id,class:rt(["basic-follow text-base",(O=t.singleArtist)!=null&&O.is_followed?"tiffany-follow":"tiffany-outline"]),onClick:_[0]||(_[0]=e=>t.toggleFollowSingleArtist(t.singleArtist.is_followed,t.singleArtist.id))},c((z=t.singleArtist)!=null&&z.is_followed?"Following":"Follow"),3)):u("",!0)]),a("div",kt,[a("img",{class:"rounded-xl mb-5",src:(L=(B=t.singleArtist)==null?void 0:B.cover_urls)==null?void 0:L.horizontal,alt:(R=t.singleArtist)==null?void 0:R.name},null,8,gt),a("div",bt,[a("div",vt,[a("div",yt,c((H=t.singleArtist)==null?void 0:H.name),1),a("div",At,c((E=t.singleArtist)==null?void 0:E.name),1)])])])]),a("div",wt,[a("section",St,[a("p",Ct,c((U=t.singleArtist)==null?void 0:U.description),1),Dt,Tt,a("div",$t,[(r(!0),i(g,null,b((G=t.singleArtist)==null?void 0:G.popular_songs,(e,x)=>(r(),i("div",{key:x,class:"text-[11px] border text-center rounded-2xl py-[8px] px-[11px]"},c(e),1))),128))])]),a("section",Ft,[jt,a("div",Mt,[(r(!0),i(g,null,b((J=t.singleArtist)==null?void 0:J.honors,(e,x)=>{var m;return r(),i("div",{key:x},[d(c(e)+" ",1),((m=t.singleArtist.honors)==null?void 0:m.length)-1!==x?(r(),i("span",Nt,[It,d("-"),Yt])):u("",!0)])}),128))])])]),a("section",null,[s(W,{class:"flex justify-center mb-[30px]"},{subTitle:o(()=>[d("UPCOMING")]),mainTitle:o(()=>[d("即將舉辦")]),_:1}),((K=t.singleArtist)==null?void 0:K.upcoming_concerts.length)>0?(r(!0),i(g,{key:0},b((P=t.singleArtist)==null?void 0:P.upcoming_concerts,e=>{var x,m;return r(),i("div",{key:e.id,class:"border border-black-60 rounded-[25px] py-[10px] px-[9px] xs:px-[26px] mb-6 flex justify-between items-center lg:w-[70%] lg:mx-auto"},[a("div",Vt,[a("div",Ot,[a("p",zt,c(n(y)(e.holding_time).format("MM/DD")),1),a("p",Bt,c(n(y)(e.holding_time).format("YYYY")),1)]),a("div",null,[s(I,{to:`/concerts/${e==null?void 0:e.id}`,class:"text-[14px] sm:text-[17px] md:text-[21px]"},{default:o(()=>[d(c(e==null?void 0:e.title),1)]),_:2},1032,["to"]),a("p",Lt,c((x=e==null?void 0:e.venue)==null?void 0:x.title),1)])]),t.AccessToken?(r(),i("button",{key:0,onClick:k=>t.changeSaveConcertsMode(e.id)},[(m=t.saveState)!=null&&m.some(k=>k.id===(e==null?void 0:e.id))?(r(),f(p,{key:0,class:"text-xl md:text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]",icon:"fa-solid fa-bookmark"})):(r(),f(p,{key:1,class:"text-xl md:text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]",icon:"fa-regular fa-bookmark"}))],8,Rt)):(r(),f(n(M),{key:1},{default:o(()=>[s(n(w),{class:"flex"},{default:o(()=>[t.AccessToken===void 0?(r(),i("button",Ht,[s(p,{class:"text-xl md:text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]",icon:"fa-regular fa-bookmark"})])):u("",!0)]),_:1}),s(n(S),null,{default:o(()=>[s(n(C),null,{default:o(()=>[s(n(D),null,{default:o(()=>[d("登入才能收藏 ᓫ(°⌑°)ǃ")]),_:1}),s(n(T))]),_:1}),s(n($),null,{default:o(()=>[s(n(F),null,{default:o(()=>[d("取消")]),_:1}),s(n(j),{asChild:""},{default:o(()=>[s(h,{to:"/login"},{default:o(()=>[d(" 前往登入 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))])}),128)):(r(),i("div",Et," 抱歉! 目前沒有資料 "))]),a("section",null,[s(W,{class:"flex justify-center mb-[30px]"},{subTitle:o(()=>[d("HISTORY")]),mainTitle:o(()=>[d("已結束")]),_:1}),((q=t.singleArtist)==null?void 0:q.historical_concerts.length)>0?(r(!0),i(g,{key:0},b((Q=t.singleArtist)==null?void 0:Q.historical_concerts,e=>{var x,m;return r(),i("div",{key:e.id,class:"border border-black-60 rounded-[25px] py-[10px] px-[9px] xs:px-[26px] mb-6 flex justify-between items-center lg:w-[70%] lg:mx-auto"},[a("div",Ut,[a("div",Gt,[a("p",Jt,c(n(y)(e.holding_time).format("MM/DD")),1),a("p",Kt,c(n(y)(e.holding_time).format("YYYY")),1)]),a("div",null,[s(I,{to:`/concerts/${e.id}`,class:"text-[14px] sm:text-[17px] md:text-[21px]"},{default:o(()=>[d(c(e==null?void 0:e.title),1)]),_:2},1032,["to"]),a("p",Pt,c((x=e==null?void 0:e.venue)==null?void 0:x.title),1)])]),t.AccessToken?(r(),i("button",{key:0,onClick:k=>t.changeSaveConcertsMode(e.id)},[(m=t.saveState)!=null&&m.some(k=>k.id===(e==null?void 0:e.id))?(r(),f(p,{key:0,class:"text-xl md:text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]",icon:"fa-solid fa-bookmark"})):(r(),f(p,{key:1,class:"text-xl md:text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]",icon:"fa-regular fa-bookmark"}))],8,qt)):(r(),f(n(M),{key:1},{default:o(()=>[s(n(w),{class:"flex"},{default:o(()=>[t.AccessToken===void 0?(r(),i("button",Qt,[s(p,{class:"text-xl md:text-3xl ml-4 text-[var(--pink)] hover:translate-y-[-.25rem]",icon:"fa-regular fa-bookmark"})])):u("",!0)]),_:1}),s(n(S),null,{default:o(()=>[s(n(C),null,{default:o(()=>[s(n(D),null,{default:o(()=>[d("登入才能收藏 ᓫ(°⌑°)ǃ")]),_:1}),s(n(T))]),_:1}),s(n($),null,{default:o(()=>[s(n(F),null,{default:o(()=>[d("取消")]),_:1}),s(n(j),{asChild:""},{default:o(()=>[s(h,{to:"/login"},{default:o(()=>[d(" 前往登入 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))])}),128)):(r(),i("div",Wt," 抱歉! 目前沒有資料 "))])])}}}),le=X(te,[["__scopeId","data-v-3230b72f"]]);export{le as default};
