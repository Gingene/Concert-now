import{o as un,c as Yn,j as Pa,O as Ca,u as tt,v as La,e as cn,d as et,w as nt,P as TA,f as Dt,F as mf,B as d0,N as AA,L as PA,a as vf,C as Aa,Y as CA,g as LA}from"./index-dLv6FbVa.js";import{e as g0,_ as p0,a as y0,b as _0,c as m0,d as v0,f as cr,l as MA,g as $A,h as x0,i as bs,j as EA,k as Ss}from"./SelectLabel-siURMYq9.js";import{_ as kA,a as RA,b as VA}from"./PaginationPrev-VQXf2Xfl.js";import"./createLucideIcon-Wabha9vT.js";const rn={__name:"Card",props:{class:{type:String,default:""}},setup(m){const Rt=m;return(Vt,It)=>(un(),Yn("div",{class:Ca(tt(La)("rounded-lg bg-card text-card-foreground",Rt.class))},[Pa(Vt.$slots,"default")],2))}},an={__name:"CardHeader",props:{class:{type:String,default:""}},setup(m){const Rt=m;return(Vt,It)=>(un(),Yn("div",{class:Ca(tt(La)("flex flex-col space-y-1.5 p-6",Rt.class))},[Pa(Vt.$slots,"default")],2))}},on={__name:"CardTitle",props:{class:{type:String,default:""}},setup(m){const Rt=m;return(Vt,It)=>(un(),Yn("h3",{class:Ca(tt(La)("text-2xl font-semibold leading-none tracking-tighter",Rt.class))},[Pa(Vt.$slots,"default")],2))}},sn={__name:"CardContent",props:{class:{type:String,default:""}},setup(m){const Rt=m;return(Vt,It)=>(un(),Yn("div",{class:Ca(tt(La)("p-6 pt-0",Rt.class))},[Pa(Vt.$slots,"default")],2))}},GA={__name:"CardFooter",props:{class:{type:String,default:""}},setup(m){const Rt=m;return(Vt,It)=>(un(),Yn("div",{class:Ca(tt(La)("p-6 pt-0",Rt.class))},[Pa(Vt.$slots,"default")],2))}};/* @license C3.js v0.7.18 | (c) C3 Team and other contributors | http://c3js.org/ */(function(m,Rt){typeof exports=="object"&&typeof module<"u"?module.exports=Rt():typeof define=="function"&&define.amd?define(Rt):(m=m||self,m.c3=Rt())})(void 0,function(){function m(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(i){return typeof i}:m=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},m(n)}function Rt(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function Vt(n,i,s){return i in n?Object.defineProperty(n,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[i]=s,n}function It(n){return Xe(n)||vn(n)||Be(n)||Ts()}function Xe(n){if(Array.isArray(n))return fr(n)}function vn(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function Be(n,i){if(n){if(typeof n=="string")return fr(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return fr(n,i)}}function fr(n,i){(i==null||i>n.length)&&(i=n.length);for(var s=0,c=new Array(i);s<i;s++)c[s]=n[s];return c}function Ts(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(n){var i=this;i.d3=window.d3?window.d3:typeof require<"u"?require("d3"):void 0,i.api=n,i.config=i.getDefaultConfig(),i.data={},i.cache={},i.axes={}}function at(n){this.internal=new T(this),this.internal.loadConfig(n),this.internal.beforeInit(n),this.internal.init(),this.internal.afterInit(n),function i(s,c,g){Object.keys(s).forEach(function(v){c[v]=s[v].bind(g),Object.keys(s[v]).length>0&&i(s[v],c[v],g)})}(at.prototype,this,this)}var Ci=function(i){return Math.ceil(i)+.5},We=function(i){return Math.ceil(i/10)*10},ii=function(i){return i[1]-i[0]},qt=function(i,s,c){return te(i[s])?i[s]:c},Li=function(i){var s=qe(i),c=[i.pathSegList.getItem(0),i.pathSegList.getItem(1)],g=c[0].x,v=Math.min(c[0].y,c[1].y);return{x:g,y:v,width:s.width,height:s.height}},qe=function(i){try{return i.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},As=function(i,s){var c=!1;return Object.keys(i).forEach(function(g){i[g]===s&&(c=!0)}),c},Mi=function(i){return Array.isArray(i)},te=function(i){return typeof i<"u"},lr=function(i){return typeof i>"u"||i===null||oe(i)&&i.length===0||m(i)==="object"&&Object.keys(i).length===0},zt=function(i){return typeof i=="function"},$i=function(i){return typeof i=="number"},oe=function(i){return typeof i=="string"},xe=function(i){return typeof i>"u"},Et=function(i){return i||i===0},he=function(i){return!lr(i)},De=function(i){return typeof i=="string"?i.replace(/</g,"&lt;").replace(/>/g,"&gt;"):i},hr=function(i){var s;return Array.isArray(i)?(s=[]).concat.apply(s,It(i)):[]},Ps=function(i,s){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=s.x-c,v=s.x+s.width+c,w=s.y+s.height+c,A=s.y-c;return g<i[0]&&i[0]<v&&A<i[1]&&i[1]<w},ri=function(i){typeof i>"u"&&(i=window.navigator.userAgent);var s=i.indexOf("MSIE ");return s>0?parseInt(i.substring(s+5,i.indexOf(".",s)),10):(s=i.indexOf("Trident/"),s>0?(s=i.indexOf("rv:"),parseInt(i.substring(s+3,i.indexOf(".",s)),10)):!1)},Ma=function(i){var s=ri();return typeof i>"u"?!!s:i===s};function Kt(n,i){var s=this;s.component=n,s.params=i||{},s.d3=n.d3,s.scale=s.d3.scaleLinear(),s.range,s.orient="bottom",s.innerTickSize=6,s.outerTickSize=this.params.withOuterTick?6:0,s.tickPadding=3,s.tickValues=null,s.tickFormat,s.tickArguments,s.tickOffset=0,s.tickCulling=!0,s.tickCentered,s.tickTextCharSize,s.tickTextRotate=s.params.tickTextRotate,s.tickLength,s.axis=s.generateAxis()}Kt.prototype.axisX=function(n,i,s){n.attr("transform",function(c){return"translate("+Math.ceil(i(c)+s)+", 0)"})},Kt.prototype.axisY=function(n,i){n.attr("transform",function(s){return"translate(0,"+Math.ceil(i(s))+")"})},Kt.prototype.scaleExtent=function(n){var i=n[0],s=n[n.length-1];return i<s?[i,s]:[s,i]},Kt.prototype.generateTicks=function(n){var i=this,s,c,g=[];if(n.ticks)return n.ticks.apply(n,i.tickArguments);for(c=n.domain(),s=Math.ceil(c[0]);s<c[1];s++)g.push(s);return g.length>0&&g[0]>0&&g.unshift(g[0]-(g[1]-g[0])),g},Kt.prototype.copyScale=function(){var n=this,i=n.scale.copy(),s;return n.params.isCategory&&(s=n.scale.domain(),i.domain([s[0],s[1]-1])),i},Kt.prototype.textFormatted=function(n){var i=this,s=i.tickFormat?i.tickFormat(n):n;return typeof s<"u"?s:""},Kt.prototype.updateRange=function(){var n=this;return n.range=n.scale.rangeExtent?n.scale.rangeExtent():n.scaleExtent(n.scale.range()),n.range},Kt.prototype.updateTickTextCharSize=function(n){var i=this;if(i.tickTextCharSize)return i.tickTextCharSize;var s={h:11.5,w:5.5};return n.select("text").text(function(c){return i.textFormatted(c)}).each(function(c){var g=qe(this),v=i.textFormatted(c),w=g.height,A=v?g.width/v.length:void 0;w&&A&&(s.h=w,s.w=A)}).text(""),i.tickTextCharSize=s,s},Kt.prototype.isVertical=function(){return this.orient==="left"||this.orient==="right"},Kt.prototype.tspanData=function(n,i,s){var c=this,g=c.params.tickMultiline?c.splitTickText(n,s):[].concat(c.textFormatted(n));return c.params.tickMultiline&&c.params.tickMultilineMax>0&&(g=c.ellipsify(g,c.params.tickMultilineMax)),g.map(function(v){return{index:i,splitted:v,length:g.length}})},Kt.prototype.splitTickText=function(n,i){var s=this,c=s.textFormatted(n),g=s.params.tickWidth,v,w,A,$=[];if(Object.prototype.toString.call(c)==="[object Array]")return c;(!g||g<=0)&&(g=s.isVertical()?95:s.params.isCategory?Math.ceil(i(1)-i(0))-12:110);function C(O,G){w=void 0;for(var Y=1;Y<G.length;Y++)if(G.charAt(Y)===" "&&(w=Y),v=G.substr(0,Y+1),A=s.tickTextCharSize.w*v.length,g<A)return C(O.concat(G.substr(0,w||Y)),G.slice(w?w+1:Y));return O.concat(G)}return C($,c+"")},Kt.prototype.ellipsify=function(n,i){if(n.length<=i)return n;for(var s=n.slice(0,i),c=3,g=i-1;g>=0;g--){var v=s[g].length;if(s[g]=s[g].substr(0,v-c).padEnd(v,"."),c-=v,c<=0)break}return s},Kt.prototype.updateTickLength=function(){var n=this;n.tickLength=Math.max(n.innerTickSize,0)+n.tickPadding},Kt.prototype.lineY2=function(n){var i=this,s=i.scale(n)+(i.tickCentered?0:i.tickOffset);return i.range[0]<s&&s<i.range[1]?i.innerTickSize:0},Kt.prototype.textY=function(){var n=this,i=n.tickTextRotate;return i?11.5-2.5*(i/15)*(i>0?1:-1):n.tickLength},Kt.prototype.textTransform=function(){var n=this,i=n.tickTextRotate;return i?"rotate("+i+")":""},Kt.prototype.textTextAnchor=function(){var n=this,i=n.tickTextRotate;return i?i>0?"start":"end":"middle"},Kt.prototype.tspanDx=function(){var n=this,i=n.tickTextRotate;return i?8*Math.sin(Math.PI*(i/180)):0},Kt.prototype.tspanDy=function(n,i){var s=this,c=s.tickTextCharSize.h;return i===0&&(s.isVertical()?c=-((n.length-1)*(s.tickTextCharSize.h/2)-3):c=".71em"),c},Kt.prototype.generateAxis=function(){var n=this,i=n.d3,s=n.params;function c(g,v){var w;return g.each(function(){var A=c.g=i.select(this),$=this.__chart__||n.scale,C=this.__chart__=n.copyScale(),O=n.tickValues?n.tickValues:n.generateTicks(C),G=A.selectAll(".tick").data(O,C),Y=G.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),D=G.exit().remove(),U=G.merge(Y),q,K,ot;s.isCategory?(n.tickOffset=Math.ceil((C(1)-C(0))/2),K=n.tickCentered?0:n.tickOffset,ot=n.tickCentered?n.tickOffset:0):n.tickOffset=K=0,n.updateRange(),n.updateTickLength(),n.updateTickTextCharSize(A.select(".tick"));var xt=U.select("line").merge(Y.append("line")),kt=U.select("text").merge(Y.append("text")),Ct=U.selectAll("text").selectAll("tspan").data(function(ut,lt){return n.tspanData(ut,lt,C)}),Ft=Ct.enter().append("tspan"),At=Ft.merge(Ct).text(function(ut){return ut.splitted});Ct.exit().remove();var yt=A.selectAll(".domain").data([0]),Lt=yt.enter().append("path").merge(yt).attr("class","domain");switch(n.orient){case"bottom":{q=n.axisX,xt.attr("x1",K).attr("x2",K).attr("y2",function(ut,lt){return n.lineY2(ut,lt)}),kt.attr("x",0).attr("y",function(ut,lt){return n.textY(ut,lt)}).attr("transform",function(ut,lt){return n.textTransform(ut,lt)}).style("text-anchor",function(ut,lt){return n.textTextAnchor(ut,lt)}),At.attr("x",0).attr("dy",function(ut,lt){return n.tspanDy(ut,lt)}).attr("dx",function(ut,lt){return n.tspanDx(ut,lt)}),Lt.attr("d","M"+n.range[0]+","+n.outerTickSize+"V0H"+n.range[1]+"V"+n.outerTickSize);break}case"top":{q=n.axisX,xt.attr("x1",K).attr("x2",K).attr("y2",function(ut,lt){return-1*n.lineY2(ut,lt)}),kt.attr("x",0).attr("y",function(ut,lt){return-1*n.textY(ut,lt)-(s.isCategory?2:n.tickLength-2)}).attr("transform",function(ut,lt){return n.textTransform(ut,lt)}).style("text-anchor",function(ut,lt){return n.textTextAnchor(ut,lt)}),At.attr("x",0).attr("dy",function(ut,lt){return n.tspanDy(ut,lt)}).attr("dx",function(ut,lt){return n.tspanDx(ut,lt)}),Lt.attr("d","M"+n.range[0]+","+-n.outerTickSize+"V0H"+n.range[1]+"V"+-n.outerTickSize);break}case"left":{q=n.axisY,xt.attr("x2",-n.innerTickSize).attr("y1",ot).attr("y2",ot),kt.attr("x",-n.tickLength).attr("y",n.tickOffset).style("text-anchor","end"),At.attr("x",-n.tickLength).attr("dy",function(ut,lt){return n.tspanDy(ut,lt)}),Lt.attr("d","M"+-n.outerTickSize+","+n.range[0]+"H0V"+n.range[1]+"H"+-n.outerTickSize);break}case"right":{q=n.axisY,xt.attr("x2",n.innerTickSize).attr("y1",ot).attr("y2",ot),kt.attr("x",n.tickLength).attr("y",n.tickOffset).style("text-anchor","start"),At.attr("x",n.tickLength).attr("dy",function(ut,lt){return n.tspanDy(ut,lt)}),Lt.attr("d","M"+n.outerTickSize+","+n.range[0]+"H0V"+n.range[1]+"H"+n.outerTickSize);break}}if(C.rangeBand){var Ht=C,mt=Ht.rangeBand()/2;$=C=function(lt){return Ht(lt)+mt}}else $.rangeBand?$=C:D.call(q,C,n.tickOffset);Y.call(q,$,n.tickOffset),w=(v?U.transition(v):U).style("opacity",1).call(q,C,n.tickOffset)}),w}return c.scale=function(g){return arguments.length?(n.scale=g,c):n.scale},c.orient=function(g){return arguments.length?(n.orient=g in{top:1,right:1,bottom:1,left:1}?g+"":"bottom",c):n.orient},c.tickFormat=function(g){return arguments.length?(n.tickFormat=g,c):n.tickFormat},c.tickCentered=function(g){return arguments.length?(n.tickCentered=g,c):n.tickCentered},c.tickOffset=function(){return n.tickOffset},c.tickInterval=function(){var g,v;return s.isCategory?g=n.tickOffset*2:(v=c.g.select("path.domain").node().getTotalLength()-n.outerTickSize*2,g=v/c.g.selectAll("line").size()),g===1/0?0:g},c.ticks=function(){return arguments.length?(n.tickArguments=arguments,c):n.tickArguments},c.tickCulling=function(g){return arguments.length?(n.tickCulling=g,c):n.tickCulling},c.tickValues=function(g){if(typeof g=="function")n.tickValues=function(){return g(n.scale.domain())};else{if(!arguments.length)return n.tickValues;n.tickValues=g}return c},c};var k={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},vt=function n(i){Rt(this,n),this.owner=i,this.d3=i.d3,this.internal=Kt};vt.prototype.init=function(){var i=this.owner,s=i.config,c=i.main;i.axes.x=c.append("g").attr("class",k.axis+" "+k.axisX).attr("clip-path",s.axis_x_inner?"":i.clipPathForXAxis).attr("transform",i.getTranslate("x")).style("visibility",s.axis_x_show?"visible":"hidden"),i.axes.x.append("text").attr("class",k.axisXLabel).attr("transform",s.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),i.axes.y=c.append("g").attr("class",k.axis+" "+k.axisY).attr("clip-path",s.axis_y_inner?"":i.clipPathForYAxis).attr("transform",i.getTranslate("y")).style("visibility",s.axis_y_show?"visible":"hidden"),i.axes.y.append("text").attr("class",k.axisYLabel).attr("transform",s.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),i.axes.y2=c.append("g").attr("class",k.axis+" "+k.axisY2).attr("transform",i.getTranslate("y2")).style("visibility",s.axis_y2_show?"visible":"hidden"),i.axes.y2.append("text").attr("class",k.axisY2Label).attr("transform",s.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},vt.prototype.getXAxis=function(i,s,c,g,v,w,A){var $=this.owner,C=$.config,O={isCategory:$.isCategorized(),withOuterTick:v,tickMultiline:C.axis_x_tick_multiline,tickMultilineMax:C.axis_x_tick_multiline?Number(C.axis_x_tick_multilineMax):0,tickWidth:C.axis_x_tick_width,tickTextRotate:A?0:C.axis_x_tick_rotate,withoutTransition:w},G=new this.internal(this,O).axis.scale(i).orient(s);return $.isTimeSeries()&&g&&typeof g!="function"&&(g=g.map(function(Y){return $.parseDate(Y)})),G.tickFormat(c).tickValues(g),$.isCategorized()&&(G.tickCentered(C.axis_x_tick_centered),lr(C.axis_x_tick_culling)&&(C.axis_x_tick_culling=!1)),G},vt.prototype.updateXAxisTickValues=function(i,s){var c=this.owner,g=c.config,v;return(g.axis_x_tick_fit||g.axis_x_tick_count)&&(v=this.generateTickValues(c.mapTargetsToUniqueXs(i),g.axis_x_tick_count,c.isTimeSeries())),s?s.tickValues(v):(c.xAxis.tickValues(v),c.subXAxis.tickValues(v)),v},vt.prototype.getYAxis=function(i,s,c,g,v,w,A){var $=this.owner,C=$.config,O=C["axis_".concat(i,"_tick_format")];!O&&$.isAxisNormalized(i)&&(O=function(D){return"".concat(D,"%")});var G=new this.internal(this,{withOuterTick:v,withoutTransition:w,tickTextRotate:A?0:C.axis_y_tick_rotate}).axis.scale(s).orient(c);return O&&G.tickFormat(O),$.isTimeSeriesY()?G.ticks(C.axis_y_tick_time_type,C.axis_y_tick_time_interval):G.tickValues(g),G},vt.prototype.getId=function(i){var s=this.owner.config;return i in s.data_axes?s.data_axes[i]:"y"},vt.prototype.getXAxisTickFormat=function(){var i=this.owner,s=i.config,c=i.isTimeSeries()?i.defaultAxisTimeFormat:i.isCategorized()?i.categoryName:function(g){return g};return s.axis_x_tick_format&&(zt(s.axis_x_tick_format)?c=s.axis_x_tick_format:i.isTimeSeries()&&(c=function(v){return v?i.axisTimeFormat(s.axis_x_tick_format)(v):""})),zt(c)?function(g){return c.call(i,g)}:c},vt.prototype.getTickValues=function(i,s){return i||(s?s.tickValues():void 0)},vt.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},vt.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},vt.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},vt.prototype.getLabelOptionByAxisId=function(i){var s=this.owner,c=s.config,g;return i==="y"?g=c.axis_y_label:i==="y2"?g=c.axis_y2_label:i==="x"&&(g=c.axis_x_label),g},vt.prototype.getLabelText=function(i){var s=this.getLabelOptionByAxisId(i);return oe(s)?s:s?s.text:null},vt.prototype.setLabelText=function(i,s){var c=this.owner,g=c.config,v=this.getLabelOptionByAxisId(i);oe(v)?i==="y"?g.axis_y_label=s:i==="y2"?g.axis_y2_label=s:i==="x"&&(g.axis_x_label=s):v&&(v.text=s)},vt.prototype.getLabelPosition=function(i,s){var c=this.getLabelOptionByAxisId(i),g=c&&m(c)==="object"&&c.position?c.position:s;return{isInner:g.indexOf("inner")>=0,isOuter:g.indexOf("outer")>=0,isLeft:g.indexOf("left")>=0,isCenter:g.indexOf("center")>=0,isRight:g.indexOf("right")>=0,isTop:g.indexOf("top")>=0,isMiddle:g.indexOf("middle")>=0,isBottom:g.indexOf("bottom")>=0}},vt.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},vt.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},vt.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},vt.prototype.getLabelPositionById=function(i){return i==="y2"?this.getY2AxisLabelPosition():i==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},vt.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},vt.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},vt.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},vt.prototype.xForAxisLabel=function(i,s){var c=this.owner;return i?s.isLeft?0:s.isCenter?c.width/2:c.width:s.isBottom?-c.height:s.isMiddle?-c.height/2:0},vt.prototype.dxForAxisLabel=function(i,s){return i?s.isLeft?"0.5em":s.isRight?"-0.5em":"0":s.isTop?"-0.5em":s.isBottom?"0.5em":"0"},vt.prototype.textAnchorForAxisLabel=function(i,s){return i?s.isLeft?"start":s.isCenter?"middle":"end":s.isBottom?"start":s.isMiddle?"middle":"end"},vt.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},vt.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},vt.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},vt.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},vt.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},vt.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},vt.prototype.dyForXAxisLabel=function(){var i=this.owner,s=i.config,c=this.getXAxisLabelPosition();return s.axis_rotated?c.isInner?"1.2em":-25-(i.config.axis_x_inner?0:this.getMaxTickWidth("x")):c.isInner?"-0.5em":i.getHorizontalAxisHeight("x")-10},vt.prototype.dyForYAxisLabel=function(){var i=this.owner,s=this.getYAxisLabelPosition();return i.config.axis_rotated?s.isInner?"-0.5em":"3em":s.isInner?"1.2em":-10-(i.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},vt.prototype.dyForY2AxisLabel=function(){var i=this.owner,s=this.getY2AxisLabelPosition();return i.config.axis_rotated?s.isInner?"1.2em":"-2.2em":s.isInner?"-0.5em":15+(i.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},vt.prototype.textAnchorForXAxisLabel=function(){var i=this.owner;return this.textAnchorForAxisLabel(!i.config.axis_rotated,this.getXAxisLabelPosition())},vt.prototype.textAnchorForYAxisLabel=function(){var i=this.owner;return this.textAnchorForAxisLabel(i.config.axis_rotated,this.getYAxisLabelPosition())},vt.prototype.textAnchorForY2AxisLabel=function(){var i=this.owner;return this.textAnchorForAxisLabel(i.config.axis_rotated,this.getY2AxisLabelPosition())},vt.prototype.getMaxTickWidth=function(i,s){var c=this.owner,g=0,v,w,A,$,C;return s&&c.currentMaxTickWidths[i]||(c.svg&&(v=c.filterTargetsToShow(c.data.targets),i==="y"?(w=c.y.copy().domain(c.getYDomain(v,"y")),A=this.getYAxis(i,w,c.yOrient,c.yAxisTickValues,!1,!0,!0)):i==="y2"?(w=c.y2.copy().domain(c.getYDomain(v,"y2")),A=this.getYAxis(i,w,c.y2Orient,c.y2AxisTickValues,!1,!0,!0)):(w=c.x.copy().domain(c.getXDomain(v)),A=this.getXAxis(w,c.xOrient,c.xAxisTickFormat,c.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(v,A)),$=c.d3.select("body").append("div").classed("c3",!0),C=$.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),C.append("g").call(A).each(function(){c.d3.select(this).selectAll("text").each(function(){var O=qe(this);g<O.width&&(g=O.width)}),$.remove()})),c.currentMaxTickWidths[i]=g<=0?c.currentMaxTickWidths[i]:g),c.currentMaxTickWidths[i]},vt.prototype.updateLabels=function(i){var s=this.owner,c=s.main.select("."+k.axisX+" ."+k.axisXLabel),g=s.main.select("."+k.axisY+" ."+k.axisYLabel),v=s.main.select("."+k.axisY2+" ."+k.axisY2Label);(i?c.transition():c).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(i?g.transition():g).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(i?v.transition():v).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},vt.prototype.getPadding=function(i,s,c,g){var v=typeof i=="number"?i:i[s];return Et(v)?i.unit==="ratio"?i[s]*g:this.convertPixelsToAxisPadding(v,g):c},vt.prototype.convertPixelsToAxisPadding=function(i,s){var c=this.owner,g=c.config.axis_rotated?c.width:c.height;return s*(i/g)},vt.prototype.generateTickValues=function(i,s,c){var g=i,v,w,A,$,C,O,G;if(s){if(v=zt(s)?s():s,v===1)g=[i[0]];else if(v===2)g=[i[0],i[i.length-1]];else if(v>2){for($=v-2,w=i[0],A=i[i.length-1],C=(A-w)/($+1),g=[w],O=0;O<$;O++)G=+w+C*(O+1),g.push(c?new Date(G):G);g.push(A)}}return c||(g=g.sort(function(Y,D){return Y-D})),g},vt.prototype.generateTransitions=function(i){var s=this.owner,c=s.axes;return{axisX:i?c.x.transition().duration(i):c.x,axisY:i?c.y.transition().duration(i):c.y,axisY2:i?c.y2.transition().duration(i):c.y2,axisSubX:i?c.subx.transition().duration(i):c.subx}},vt.prototype.redraw=function(i,s){var c=this.owner,g=i?c.d3.transition().duration(i):null;c.axes.x.style("opacity",s?0:1).call(c.xAxis,g),c.axes.y.style("opacity",s?0:1).call(c.yAxis,g),c.axes.y2.style("opacity",s?0:1).call(c.y2Axis,g),c.axes.subx.style("opacity",s?0:1).call(c.subXAxis,g)};var Cs={version:"0.7.18",chart:{fn:at.prototype,internal:{fn:T.prototype,axis:{fn:vt.prototype,internal:{fn:Kt.prototype}}}},generate:function(i){return new at(i)}};T.prototype.beforeInit=function(){},T.prototype.afterInit=function(){},T.prototype.init=function(){var n=this,i=n.config;if(n.initParams(),i.data_url)n.convertUrlToData(i.data_url,i.data_mimeType,i.data_headers,i.data_keys,n.initWithData);else if(i.data_json)n.initWithData(n.convertJsonToData(i.data_json,i.data_keys));else if(i.data_rows)n.initWithData(n.convertRowsToData(i.data_rows));else if(i.data_columns)n.initWithData(n.convertColumnsToData(i.data_columns));else throw Error("url or json or rows or columns is required.")},T.prototype.initParams=function(){var n=this,i=n.d3,s=n.config;n.clipId="c3-"+new Date().valueOf()+"-clip",n.clipIdForXAxis=n.clipId+"-xaxis",n.clipIdForYAxis=n.clipId+"-yaxis",n.clipIdForGrid=n.clipId+"-grid",n.clipIdForSubchart=n.clipId+"-subchart",n.clipPath=n.getClipPath(n.clipId),n.clipPathForXAxis=n.getClipPath(n.clipIdForXAxis),n.clipPathForYAxis=n.getClipPath(n.clipIdForYAxis),n.clipPathForGrid=n.getClipPath(n.clipIdForGrid),n.clipPathForSubchart=n.getClipPath(n.clipIdForSubchart),n.dragStart=null,n.dragging=!1,n.flowing=!1,n.cancelClick=!1,n.mouseover=void 0,n.transiting=!1,n.color=n.generateColor(),n.levelColor=n.generateLevelColor(),n.dataTimeParse=(s.data_xLocaltime?i.timeParse:i.utcParse)(n.config.data_xFormat),n.axisTimeFormat=s.axis_x_localtime?i.timeFormat:i.utcFormat,n.defaultAxisTimeFormat=function(c){return c.getMilliseconds()?i.timeFormat(".%L")(c):c.getSeconds()?i.timeFormat(":%S")(c):c.getMinutes()?i.timeFormat("%I:%M")(c):c.getHours()?i.timeFormat("%I %p")(c):c.getDay()&&c.getDate()!==1||c.getDate()!==1||c.getMonth()?i.timeFormat("%-m/%-d")(c):i.timeFormat("%Y/%-m/%-d")(c)},n.hiddenTargetIds=[],n.hiddenLegendIds=[],n.focusedTargetIds=[],n.defocusedTargetIds=[],n.xOrient=s.axis_rotated?s.axis_x_inner?"right":"left":s.axis_x_inner?"top":"bottom",n.yOrient=s.axis_rotated?s.axis_y_inner?"top":"bottom":s.axis_y_inner?"right":"left",n.y2Orient=s.axis_rotated?s.axis_y2_inner?"bottom":"top":s.axis_y2_inner?"left":"right",n.subXOrient=s.axis_rotated?"left":"bottom",n.isLegendRight=s.legend_position==="right",n.isLegendInset=s.legend_position==="inset",n.isLegendTop=s.legend_inset_anchor==="top-left"||s.legend_inset_anchor==="top-right",n.isLegendLeft=s.legend_inset_anchor==="top-left"||s.legend_inset_anchor==="bottom-left",n.legendStep=0,n.legendItemWidth=0,n.legendItemHeight=0,n.currentMaxTickWidths={x:0,y:0,y2:0},n.rotated_padding_left=30,n.rotated_padding_right=s.axis_rotated&&!s.axis_x_show?0:30,n.rotated_padding_top=5,n.withoutFadeIn={},n.intervalForObserveInserted=void 0,n.axes.subx=i.selectAll([])},T.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},T.prototype.initWithData=function(n){var i=this,s=i.d3,c=i.config,g,v,w=!0;i.axis=new vt(i),c.bindto?typeof c.bindto.node=="function"?i.selectChart=c.bindto:i.selectChart=s.select(c.bindto):i.selectChart=s.selectAll([]),i.selectChart.empty()&&(i.selectChart=s.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),w=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(n),c.data_filter&&(i.data.targets=i.data.targets.filter(c.data_filter)),c.data_hide&&i.addHiddenTargetIds(c.data_hide===!0?i.mapToIds(i.data.targets):c.data_hide),c.legend_hide&&i.addHiddenLegendIds(c.legend_hide===!0?i.mapToIds(i.data.targets):c.legend_hide),i.isStanfordGraphType()&&i.initStanfordData(),i.updateSizes(),i.updateScales(),i.x.domain(s.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return c.onmouseover.call(i)}).on("mouseleave",function(){return c.onmouseout.call(i)}),i.config.svg_classname&&i.svg.attr("class",i.config.svg_classname),g=i.svg.append("defs"),i.clipChart=i.appendClip(g,i.clipId),i.clipXAxis=i.appendClip(g,i.clipIdForXAxis),i.clipYAxis=i.appendClip(g,i.clipIdForYAxis),i.clipGrid=i.appendClip(g,i.clipIdForGrid),i.clipSubchart=i.appendClip(g,i.clipIdForSubchart),i.updateSvgSize(),v=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initPie&&i.initPie(),i.initDragZoom&&i.initDragZoom(),c.subchart_show&&i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),i.initTitle&&i.initTitle(),i.initZoom&&i.initZoom(),i.isStanfordGraphType()&&i.drawColorScale(),c.subchart_show&&i.initSubchartBrush&&i.initSubchartBrush(),v.append("text").attr("class",k.text+" "+k.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),v.append("g").attr("clip-path",i.clipPath).attr("class",k.chart),c.grid_lines_front&&i.initGridLines(),i.initStanfordElements(),i.initEventRect(),i.initChartElements(),i.axis.init(),i.updateTargets(i.data.targets),c.axis_x_selection&&i.brush.selectionAsValue(i.getDefaultSelection()),w&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),i.bindResize(),i.bindWindowFocus(),i.api.element=i.selectChart.node()},T.prototype.smoothLines=function(n,i){var s=this;i==="grid"&&n.each(function(){var c=s.d3.select(this),g=c.attr("x1"),v=c.attr("x2"),w=c.attr("y1"),A=c.attr("y2");c.attr({x1:Math.ceil(g),x2:Math.ceil(v),y1:Math.ceil(w),y2:Math.ceil(A)})})},T.prototype.updateSizes=function(){var n=this,i=n.config,s=n.legend?n.getLegendHeight():0,c=n.legend?n.getLegendWidth():0,g=n.isLegendRight||n.isLegendInset?0:s,v=n.hasArcType(),w=i.axis_rotated||v?0:n.getHorizontalAxisHeight("x"),A=i.subchart_show&&!v?i.subchart_size_height+w:0;n.currentWidth=n.getCurrentWidth(),n.currentHeight=n.getCurrentHeight(),n.margin=i.axis_rotated?{top:n.getHorizontalAxisHeight("y2")+n.getCurrentPaddingTop(),right:v?0:n.getCurrentPaddingRight(),bottom:n.getHorizontalAxisHeight("y")+g+n.getCurrentPaddingBottom(),left:A+(v?0:n.getCurrentPaddingLeft())}:{top:4+n.getCurrentPaddingTop(),right:v?0:n.getCurrentPaddingRight(),bottom:w+A+g+n.getCurrentPaddingBottom(),left:v?0:n.getCurrentPaddingLeft()},n.margin2=i.axis_rotated?{top:n.margin.top,right:NaN,bottom:20+g,left:n.rotated_padding_left}:{top:n.currentHeight-A-g,right:NaN,bottom:w+g,left:n.margin.left},n.margin3={top:0,right:NaN,bottom:0,left:0},n.updateSizeForLegend&&n.updateSizeForLegend(s,c),n.width=n.currentWidth-n.margin.left-n.margin.right,n.height=n.currentHeight-n.margin.top-n.margin.bottom,n.width<0&&(n.width=0),n.height<0&&(n.height=0),n.width2=i.axis_rotated?n.margin.left-n.rotated_padding_left-n.rotated_padding_right:n.width,n.height2=i.axis_rotated?n.height:n.currentHeight-n.margin2.top-n.margin2.bottom,n.width2<0&&(n.width2=0),n.height2<0&&(n.height2=0),n.arcWidth=n.width-(n.isLegendRight?c+10:0),n.arcHeight=n.height-(n.isLegendRight?0:10),n.hasType("gauge")&&!i.gauge_fullCircle&&(n.arcHeight+=n.height-n.getGaugeLabelHeight()),n.updateRadius&&n.updateRadius(),n.isLegendRight&&v&&(n.margin3.left=n.arcWidth/2+n.radiusExpanded*1.1)},T.prototype.updateTargets=function(n){var i=this,s=i.config;i.updateTargetsForText(n),i.updateTargetsForBar(n),i.updateTargetsForLine(n),i.hasArcType()&&i.updateTargetsForArc&&i.updateTargetsForArc(n),s.subchart_show&&i.updateTargetsForSubchart&&i.updateTargetsForSubchart(n),i.showTargets()},T.prototype.showTargets=function(){var n=this;n.svg.selectAll("."+k.target).filter(function(i){return n.isTargetToShow(i.id)}).transition().duration(n.config.transition_duration).style("opacity",1)},T.prototype.redraw=function(n,i){var s=this,c=s.main,g=s.d3,v=s.config,w=s.getShapeIndices(s.isAreaType),A=s.getShapeIndices(s.isBarType),$=s.getShapeIndices(s.isLineType),C,O,G,Y,D,U,q,K,ot,xt,kt,Ct,Ft,At=s.hasArcType(),yt,Lt,Ht,mt,ut,lt,Jt,we,be,se,de,ce,Qt=s.filterTargetsToShow(s.data.targets),it,ht,jt,En,dr=s.xv.bind(s),fn,Qe;if(n=n||{},C=qt(n,"withY",!0),O=qt(n,"withSubchart",!0),G=qt(n,"withTransition",!0),U=qt(n,"withTransform",!1),q=qt(n,"withUpdateXDomain",!1),K=qt(n,"withUpdateOrgXDomain",!1),ot=qt(n,"withTrimXDomain",!0),Ft=qt(n,"withUpdateXAxis",q),xt=qt(n,"withLegend",!1),kt=qt(n,"withEventRect",!0),Ct=qt(n,"withDimension",!0),Y=qt(n,"withTransitionForExit",G),D=qt(n,"withTransitionForAxis",G),lt=G?v.transition_duration:0,Jt=Y?lt:0,we=D?lt:0,i=i||s.axis.generateTransitions(we),xt&&v.legend_show?s.updateLegend(s.mapToIds(s.data.targets),n,i):Ct&&s.updateDimension(!0),s.isCategorized()&&Qt.length===0&&s.x.domain([0,s.axes.x.selectAll(".tick").size()]),Qt.length?(s.updateXDomain(Qt,q,K,ot),v.axis_x_tick_values||(it=s.axis.updateXAxisTickValues(Qt))):(s.xAxis.tickValues([]),s.subXAxis.tickValues([])),v.zoom_rescale&&!n.flow&&(En=s.x.orgDomain()),s.y.domain(s.getYDomain(Qt,"y",En)),s.y2.domain(s.getYDomain(Qt,"y2",En)),!v.axis_y_tick_values&&v.axis_y_tick_count&&s.yAxis.tickValues(s.axis.generateTickValues(s.y.domain(),v.axis_y_tick_count)),!v.axis_y2_tick_values&&v.axis_y2_tick_count&&s.y2Axis.tickValues(s.axis.generateTickValues(s.y2.domain(),v.axis_y2_tick_count)),s.axis.redraw(we,At),s.axis.updateLabels(G),(q||Ft)&&Qt.length)if(v.axis_x_tick_culling&&it){for(ht=1;ht<it.length;ht++)if(it.length/ht<v.axis_x_tick_culling_max){jt=ht;break}s.svg.selectAll("."+k.axisX+" .tick text").each(function(ye){var xn=it.indexOf(ye);xn>=0&&g.select(this).style("display",xn%jt?"none":"block")})}else s.svg.selectAll("."+k.axisX+" .tick text").style("display","block");yt=s.generateDrawArea?s.generateDrawArea(w,!1):void 0,Lt=s.generateDrawBar?s.generateDrawBar(A):void 0,Ht=s.generateDrawLine?s.generateDrawLine($,!1):void 0,mt=s.generateXYForText(w,A,$,!0),ut=s.generateXYForText(w,A,$,!1),s.updateCircleY(),fn=(s.config.axis_rotated?s.circleY:s.circleX).bind(s),Qe=(s.config.axis_rotated?s.circleX:s.circleY).bind(s),C&&(s.subY.domain(s.getYDomain(Qt,"y")),s.subY2.domain(s.getYDomain(Qt,"y2"))),s.updateXgridFocus(),c.select("text."+k.text+"."+k.empty).attr("x",s.width/2).attr("y",s.height/2).text(v.data_empty_label_text).transition().style("opacity",Qt.length?0:1),kt&&s.redrawEventRect(),s.updateGrid(lt),s.updateStanfordElements(lt),s.updateRegion(lt),s.updateBar(Jt),s.updateLine(Jt),s.updateArea(Jt),s.updateCircle(fn,Qe),s.hasDataLabel()&&s.updateText(mt,ut,Jt),s.redrawTitle&&s.redrawTitle(),s.redrawArc&&s.redrawArc(lt,Jt,U),v.subchart_show&&s.redrawSubchart&&s.redrawSubchart(O,i,lt,Jt,w,A,$),s.isStanfordGraphType()&&s.drawColorScale(),c.selectAll("."+k.selectedCircles).filter(s.isBarType.bind(s)).selectAll("circle").remove(),n.flow&&(de=s.generateFlow({targets:Qt,flow:n.flow,duration:n.flow.duration,drawBar:Lt,drawLine:Ht,drawArea:yt,cx:fn,cy:Qe,xv:dr,xForText:mt,yForText:ut})),lt&&s.isTabVisible()?(ce=g.transition().duration(lt),be=[],[s.redrawBar(Lt,!0,ce),s.redrawLine(Ht,!0,ce),s.redrawArea(yt,!0,ce),s.redrawCircle(fn,Qe,!0,ce),s.redrawText(mt,ut,n.flow,!0,ce),s.redrawRegion(!0,ce),s.redrawGrid(!0,ce)].forEach(function(ye){ye.forEach(function(xn){be.push(xn)})}),se=s.generateWait(),be.forEach(function(ye){se.add(ye)}),se(function(){de&&de(),v.onrendered&&v.onrendered.call(s)})):(s.redrawBar(Lt),s.redrawLine(Ht),s.redrawArea(yt),s.redrawCircle(fn,Qe),s.redrawText(mt,ut,n.flow),s.redrawRegion(),s.redrawGrid(),de&&de(),v.onrendered&&v.onrendered.call(s)),s.mapToIds(s.data.targets).forEach(function(ye){s.withoutFadeIn[ye]=!0})},T.prototype.updateAndRedraw=function(n){var i=this,s=i.config,c;n=n||{},n.withTransition=qt(n,"withTransition",!0),n.withTransform=qt(n,"withTransform",!1),n.withLegend=qt(n,"withLegend",!1),n.withUpdateXDomain=qt(n,"withUpdateXDomain",!0),n.withUpdateOrgXDomain=qt(n,"withUpdateOrgXDomain",!0),n.withTransitionForExit=!1,n.withTransitionForTransform=qt(n,"withTransitionForTransform",n.withTransition),i.updateSizes(),n.withLegend&&s.legend_show||(c=i.axis.generateTransitions(n.withTransitionForAxis?s.transition_duration:0),i.updateScales(),i.updateSvgSize(),i.transformAll(n.withTransitionForTransform,c)),i.redraw(n,c)},T.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},T.prototype.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"},T.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},T.prototype.isCustomX=function(){var n=this,i=n.config;return!n.isTimeSeries()&&(i.data_x||he(i.data_xs))},T.prototype.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"},T.prototype.getTranslate=function(n){var i=this,s=i.config,c,g;return n==="main"?(c=Ci(i.margin.left),g=Ci(i.margin.top)):n==="context"?(c=Ci(i.margin2.left),g=Ci(i.margin2.top)):n==="legend"?(c=i.margin3.left,g=i.margin3.top):n==="x"?(c=0,g=s.axis_rotated?0:i.height):n==="y"?(c=0,g=s.axis_rotated?i.height:0):n==="y2"?(c=s.axis_rotated?0:i.width,g=s.axis_rotated?1:0):n==="subx"?(c=0,g=s.axis_rotated?0:i.height2):n==="arc"&&(c=i.arcWidth/2,g=i.arcHeight/2-(i.hasType("gauge")?6:0)),"translate("+c+","+g+")"},T.prototype.initialOpacity=function(n){return n.value!==null&&this.withoutFadeIn[n.id]?1:0},T.prototype.initialOpacityForCircle=function(n){return n.value!==null&&this.withoutFadeIn[n.id]?this.opacityForCircle(n):0},T.prototype.opacityForCircle=function(n){var i=zt(this.config.point_show)?this.config.point_show(n):this.config.point_show,s=i||this.isStanfordType(n)?1:0;return Et(n.value)?this.isScatterType(n)?.5:s:0},T.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},T.prototype.xx=function(n){return n?this.x(n.x):null},T.prototype.xvCustom=function(n,i){var s=this,c=i?n[i]:n.value;return s.isTimeSeries()?c=s.parseDate(n.value):s.isCategorized()&&typeof n.value=="string"&&(c=s.config.axis_x_categories.indexOf(n.value)),Math.ceil(s.x(c))},T.prototype.yvCustom=function(n,i){var s=this,c=n.axis&&n.axis==="y2"?s.y2:s.y,g=i?n[i]:n.value;return Math.ceil(c(g))},T.prototype.xv=function(n){var i=this,s=n.value;return i.isTimeSeries()?s=i.parseDate(n.value):i.isCategorized()&&typeof n.value=="string"&&(s=i.config.axis_x_categories.indexOf(n.value)),Math.ceil(i.x(s))},T.prototype.yv=function(n){var i=this,s=n.axis&&n.axis==="y2"?i.y2:i.y;return Math.ceil(s(n.value))},T.prototype.subxx=function(n){return n?this.subX(n.x):null},T.prototype.transformMain=function(n,i){var s=this,c,g,v;i&&i.axisX?c=i.axisX:(c=s.main.select("."+k.axisX),n&&(c=c.transition())),i&&i.axisY?g=i.axisY:(g=s.main.select("."+k.axisY),n&&(g=g.transition())),i&&i.axisY2?v=i.axisY2:(v=s.main.select("."+k.axisY2),n&&(v=v.transition())),(n?s.main.transition():s.main).attr("transform",s.getTranslate("main")),c.attr("transform",s.getTranslate("x")),g.attr("transform",s.getTranslate("y")),v.attr("transform",s.getTranslate("y2")),s.main.select("."+k.chartArcs).attr("transform",s.getTranslate("arc"))},T.prototype.transformAll=function(n,i){var s=this;s.transformMain(n,i),s.config.subchart_show&&s.transformContext(n,i),s.legend&&s.transformLegend(n)},T.prototype.updateSvgSize=function(){var n=this,i=n.svg.select(".".concat(k.brush," .overlay"));n.svg.attr("width",n.currentWidth).attr("height",n.currentHeight),n.svg.selectAll(["#"+n.clipId,"#"+n.clipIdForGrid]).select("rect").attr("width",n.width).attr("height",n.height),n.svg.select("#"+n.clipIdForXAxis).select("rect").attr("x",n.getXAxisClipX.bind(n)).attr("y",n.getXAxisClipY.bind(n)).attr("width",n.getXAxisClipWidth.bind(n)).attr("height",n.getXAxisClipHeight.bind(n)),n.svg.select("#"+n.clipIdForYAxis).select("rect").attr("x",n.getYAxisClipX.bind(n)).attr("y",n.getYAxisClipY.bind(n)).attr("width",n.getYAxisClipWidth.bind(n)).attr("height",n.getYAxisClipHeight.bind(n)),n.svg.select("#"+n.clipIdForSubchart).select("rect").attr("width",n.width).attr("height",i.size()&&i.attr("height")||0),n.selectChart.style("max-height",n.currentHeight+"px")},T.prototype.updateDimension=function(n){var i=this;n||(i.config.axis_rotated?(i.axes.x.call(i.xAxis),i.axes.subx.call(i.subXAxis)):(i.axes.y.call(i.yAxis),i.axes.y2.call(i.y2Axis))),i.updateSizes(),i.updateScales(),i.updateSvgSize(),i.transformAll(!1)},T.prototype.observeInserted=function(n){var i=this,s;if(typeof MutationObserver>"u"){window.console.error("MutationObserver not defined.");return}s=new MutationObserver(function(c){c.forEach(function(g){g.type==="childList"&&g.previousSibling&&(s.disconnect(),i.intervalForObserveInserted=window.setInterval(function(){n.node().parentNode&&(window.clearInterval(i.intervalForObserveInserted),i.updateDimension(),i.brush&&i.brush.update(),i.config.oninit.call(i),i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),n.transition().style("opacity",1))},10))})}),s.observe(n.node(),{attributes:!0,childList:!0,characterData:!0})},T.prototype.bindResize=function(){var n=this,i=n.config;if(n.resizeFunction=n.generateResize(),n.resizeFunction.add(function(){i.onresize.call(n)}),i.resize_auto&&n.resizeFunction.add(function(){n.resizeTimeout!==void 0&&window.clearTimeout(n.resizeTimeout),n.resizeTimeout=window.setTimeout(function(){delete n.resizeTimeout,n.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),n.brush&&n.brush.update()},100)}),n.resizeFunction.add(function(){i.onresized.call(n)}),n.resizeIfElementDisplayed=function(){n.api==null||!n.api.element.offsetParent||n.resizeFunction()},window.attachEvent)window.attachEvent("onresize",n.resizeIfElementDisplayed);else if(window.addEventListener)window.addEventListener("resize",n.resizeIfElementDisplayed,!1);else{var s=window.onresize;s?(!s.add||!s.remove)&&(s=n.generateResize(),s.add(window.onresize)):s=n.generateResize(),s.add(n.resizeFunction),window.onresize=function(){n.api.element.offsetParent&&s()}}},T.prototype.bindWindowFocus=function(){var n=this;this.windowFocusHandler||(this.windowFocusHandler=function(){n.redraw()},window.addEventListener("focus",this.windowFocusHandler))},T.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},T.prototype.generateResize=function(){var n=[];function i(){n.forEach(function(s){s()})}return i.add=function(s){n.push(s)},i.remove=function(s){for(var c=0;c<n.length;c++)if(n[c]===s){n.splice(c,1);break}},i},T.prototype.endall=function(n,i){var s=0;n.each(function(){++s}).on("end",function(){--s||i.apply(this,arguments)})},T.prototype.generateWait=function(){var n=this,i=[],s=function(g){var v=setInterval(function(){if(n.isTabVisible()){var w=0;i.forEach(function(A){if(A.empty()){w+=1;return}try{A.transition()}catch{w+=1}}),w===i.length&&(clearInterval(v),g&&g())}},50)};return s.add=function(c){i.push(c)},s},T.prototype.parseDate=function(n){var i=this,s;return n instanceof Date?s=n:typeof n=="string"?s=i.dataTimeParse(n):m(n)==="object"?s=new Date(+n):typeof n=="number"&&!isNaN(n)&&(s=new Date(+n)),(!s||isNaN(+s))&&window.console.error("Failed to parse x '"+n+"' to Date object"),s},T.prototype.isTabVisible=function(){return!document.hidden},T.prototype.getPathBox=Li,T.prototype.CLASS=k,function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(n,i,s){this.pathSegType=n,this.pathSegTypeAsLetter=i,this._owningPathSegList=s},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",n)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(n,i,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",n),this._x=i,this._y=s},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(n,i,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",n),this._x=i,this._y=s},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(n,i,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",n),this._x=i,this._y=s},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(n,i,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",n),this._x=i,this._y=s},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(n,i,s,c,g,v,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",n),this._x=i,this._y=s,this._x1=c,this._y1=g,this._x2=v,this._y2=w},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(n,i,s,c,g,v,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",n),this._x=i,this._y=s,this._x1=c,this._y1=g,this._x2=v,this._y2=w},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(n,i,s,c,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",n),this._x=i,this._y=s,this._x1=c,this._y1=g},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(n,i,s,c,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",n),this._x=i,this._y=s,this._x1=c,this._y1=g},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(n,i,s,c,g,v,w,A){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",n),this._x=i,this._y=s,this._r1=c,this._r2=g,this._angle=v,this._largeArcFlag=w,this._sweepFlag=A},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(i){this._r1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(i){this._r2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(i){this._angle=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(i){this._largeArcFlag=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(i){this._sweepFlag=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(n,i,s,c,g,v,w,A){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",n),this._x=i,this._y=s,this._r1=c,this._r2=g,this._angle=v,this._largeArcFlag=w,this._sweepFlag=A},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(i){this._r1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(i){this._r2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(i){this._angle=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(i){this._largeArcFlag=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(i){this._sweepFlag=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(n,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",n),this._x=i},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(n,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",n),this._x=i},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(n,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",n),this._y=i},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(n,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",n),this._y=i},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(n,i,s,c,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",n),this._x=i,this._y=s,this._x2=c,this._y2=g},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(n,i,s,c,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",n),this._x=i,this._y=s,this._x2=c,this._y2=g},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(n,i,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",n),this._x=i,this._y=s},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(n,i,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",n),this._x=i,this._y=s},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(n,i){return new window.SVGPathSegMovetoAbs(void 0,n,i)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(n,i){return new window.SVGPathSegMovetoRel(void 0,n,i)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(n,i){return new window.SVGPathSegLinetoAbs(void 0,n,i)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(n,i){return new window.SVGPathSegLinetoRel(void 0,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(n,i,s,c,g,v){return new window.SVGPathSegCurvetoCubicAbs(void 0,n,i,s,c,g,v)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(n,i,s,c,g,v){return new window.SVGPathSegCurvetoCubicRel(void 0,n,i,s,c,g,v)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(n,i,s,c){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,n,i,s,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(n,i,s,c){return new window.SVGPathSegCurvetoQuadraticRel(void 0,n,i,s,c)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(n,i,s,c,g,v,w){return new window.SVGPathSegArcAbs(void 0,n,i,s,c,g,v,w)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(n,i,s,c,g,v,w){return new window.SVGPathSegArcRel(void 0,n,i,s,c,g,v,w)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(n){return new window.SVGPathSegLinetoHorizontalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(n){return new window.SVGPathSegLinetoHorizontalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(n){return new window.SVGPathSegLinetoVerticalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(n){return new window.SVGPathSegLinetoVerticalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(n,i,s,c){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,n,i,s,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(n,i,s,c){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,n,i,s,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(n,i){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(n,i){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,n,i)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(n){if(n===void 0||!isFinite(n))throw"Invalid arguments.";var i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",this.getAttribute("d"));var s=i.pathSegList.numberOfItems-1;if(s<=0)return 0;do{if(i.pathSegList.removeItem(s),n>i.getTotalLength())break;s--}while(s>0);return s})),"SVGPathSegList"in window||(window.SVGPathSegList=function(n){this._pathElement=n,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(n){if(this._pathElement){var i=!1;n.forEach(function(s){s.attributeName=="d"&&(i=!0)}),i&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(n){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(n){n._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(n){return this._checkPathSynchronizedToList(),this._list=[n],n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype._checkValidIndex=function(n){if(isNaN(n)||n<0||n>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(n){return this._checkPathSynchronizedToList(),this._checkValidIndex(n),this._list[n]},window.SVGPathSegList.prototype.insertItemBefore=function(n,i){return this._checkPathSynchronizedToList(),i>this.numberOfItems&&(i=this.numberOfItems),n._owningPathSegList&&(n=n.clone()),this._list.splice(i,0,n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.replaceItem=function(n,i){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._checkValidIndex(i),this._list[i]=n,n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.removeItem=function(n){this._checkPathSynchronizedToList(),this._checkValidIndex(n);var i=this._list[n];return this._list.splice(n,1),this._writeListToPath(),i},window.SVGPathSegList.prototype.appendItem=function(n){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._list.push(n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList._pathSegArrayAsString=function(n){var i="",s=!0;return n.forEach(function(c){s?(s=!1,i+=c._asPathString()):i+=" "+c._asPathString()}),i},window.SVGPathSegList.prototype._parsePath=function(n){if(!n||n.length==0)return[];var i=this,s=function(){this.pathSegList=[]};s.prototype.appendSegment=function(A){this.pathSegList.push(A)};var c=function($){this._string=$,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};c.prototype._isCurrentSpace=function(){var A=this._string[this._currentIndex];return A<=" "&&(A==" "||A==`
`||A=="	"||A=="\r"||A=="\f")},c.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},c.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},c.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},c.prototype.peekSegmentType=function(){var A=this._string[this._currentIndex];return this._pathSegTypeFromChar(A)},c.prototype._pathSegTypeFromChar=function(A){switch(A){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},c.prototype._nextCommandHelper=function(A,$){return(A=="+"||A=="-"||A=="."||A>="0"&&A<="9")&&$!=window.SVGPathSeg.PATHSEG_CLOSEPATH?$==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:$==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:$:window.SVGPathSeg.PATHSEG_UNKNOWN},c.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var A=this.peekSegmentType();return A==window.SVGPathSeg.PATHSEG_MOVETO_ABS||A==window.SVGPathSeg.PATHSEG_MOVETO_REL},c.prototype._parseNumber=function(){var A=0,$=0,C=1,O=0,G=1,Y=1,D=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,G=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")){for(var U=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=U)for(var q=this._currentIndex-1,K=1;q>=U;)$+=K*(this._string.charAt(q--)-"0"),K*=10;if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)C*=10,O+=(this._string.charAt(this._currentIndex)-"0")/C,this._currentIndex+=1}if(this._currentIndex!=D&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,Y=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)A*=10,A+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var ot=$+O;if(ot*=G,A&&(ot*=Math.pow(10,Y*A)),D!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),ot}},c.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var A=!1,$=this._string.charAt(this._currentIndex++);if($=="0")A=!1;else if($=="1")A=!0;else return;return this._skipOptionalSpacesOrDelimiter(),A}},c.prototype.parseSegment=function(){var A=this._string[this._currentIndex],$=this._pathSegTypeFromChar(A);if($==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||($=this._nextCommandHelper(A,this._previousCommand),$==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;switch(this._previousCommand=$,$){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(i);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var C={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(i,C.x,C.y,C.x1,C.y1,C.x2,C.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var C={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(i,C.x,C.y,C.x1,C.y1,C.x2,C.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var C={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(i,C.x,C.y,C.x2,C.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var C={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(i,C.x,C.y,C.x2,C.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var C={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(i,C.x,C.y,C.x1,C.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var C={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(i,C.x,C.y,C.x1,C.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var C={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(i,C.x,C.y,C.x1,C.y1,C.arcAngle,C.arcLarge,C.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var C={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(i,C.x,C.y,C.x1,C.y1,C.arcAngle,C.arcLarge,C.arcSweep);default:throw"Unknown path seg type."}};var g=new s,v=new c(n);if(!v.initialCommandIsMoveTo())return[];for(;v.hasMoreData();){var w=v.parseSegment();if(!w)return[];g.appendSegment(w)}return g.pathSegList})}(),String.prototype.padEnd||(String.prototype.padEnd=function(i,s){return i=i>>0,s=String(typeof s<"u"?s:" "),this.length>i?String(this):(i=i-this.length,i>s.length&&(s+=s.repeat(i/s.length)),String(this)+s.slice(0,i))}),typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(i,s){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(i),g=1;g<arguments.length;g++){var v=arguments[g];if(v!=null)for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(c[w]=v[w])}return c},writable:!0,configurable:!0}),at.prototype.axis=function(){},at.prototype.axis.labels=function(n){var i=this.internal;arguments.length&&(Object.keys(n).forEach(function(s){i.axis.setLabelText(s,n[s])}),i.axis.updateLabels())},at.prototype.axis.max=function(n){var i=this.internal,s=i.config;if(arguments.length)m(n)==="object"?(Et(n.x)&&(s.axis_x_max=n.x),Et(n.y)&&(s.axis_y_max=n.y),Et(n.y2)&&(s.axis_y2_max=n.y2)):s.axis_y_max=s.axis_y2_max=n,i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:s.axis_x_max,y:s.axis_y_max,y2:s.axis_y2_max}},at.prototype.axis.min=function(n){var i=this.internal,s=i.config;if(arguments.length)m(n)==="object"?(Et(n.x)&&(s.axis_x_min=n.x),Et(n.y)&&(s.axis_y_min=n.y),Et(n.y2)&&(s.axis_y2_min=n.y2)):s.axis_y_min=s.axis_y2_min=n,i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:s.axis_x_min,y:s.axis_y_min,y2:s.axis_y2_min}},at.prototype.axis.range=function(n){if(arguments.length)te(n.max)&&this.axis.max(n.max),te(n.min)&&this.axis.min(n.min);else return{max:this.axis.max(),min:this.axis.min()}},at.prototype.axis.types=function(n){var i=this.internal;if(n===void 0)return{y:i.config.axis_y_type,y2:i.config.axis_y2_type};te(n.y)&&(i.config.axis_y_type=n.y),te(n.y2)&&(i.config.axis_y2_type=n.y2),i.updateScales(),i.redraw()},at.prototype.category=function(n,i){var s=this.internal,c=s.config;return arguments.length>1&&(c.axis_x_categories[n]=i,s.redraw()),c.axis_x_categories[n]},at.prototype.categories=function(n){var i=this.internal,s=i.config;return arguments.length&&(s.axis_x_categories=n,i.redraw()),s.axis_x_categories},at.prototype.resize=function(n){var i=this.internal,s=i.config;s.size_width=n?n.width:null,s.size_height=n?n.height:null,this.flush()},at.prototype.flush=function(){var n=this.internal;n.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},at.prototype.destroy=function(){var n=this.internal;if(window.clearInterval(n.intervalForObserveInserted),n.resizeTimeout!==void 0&&window.clearTimeout(n.resizeTimeout),window.detachEvent)window.detachEvent("onresize",n.resizeIfElementDisplayed);else if(window.removeEventListener)window.removeEventListener("resize",n.resizeIfElementDisplayed);else{var i=window.onresize;i&&i.add&&i.remove&&i.remove(n.resizeFunction)}return n.resizeFunction.remove(),n.unbindWindowFocus(),n.selectChart.classed("c3",!1).html(""),Object.keys(n).forEach(function(s){n[s]=null}),null},at.prototype.color=function(n){var i=this.internal;return i.color(n)},at.prototype.data=function(n){var i=this.internal.data.targets;return typeof n>"u"?i:i.filter(function(s){return[].concat(n).indexOf(s.id)>=0})},at.prototype.data.shown=function(n){return this.internal.filterTargetsToShow(this.data(n))},at.prototype.data.values=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=null;if(n){var c=this.data(n);c&&Mi(c)&&(s=c.reduce(function(g,v){var w=v.values.map(function(A){return A.value});return i?g=g.concat(w):g.push(w),g},[]))}return s},at.prototype.data.names=function(n){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",n)},at.prototype.data.colors=function(n){return this.internal.updateDataAttributes("colors",n)},at.prototype.data.axes=function(n){return this.internal.updateDataAttributes("axes",n)},at.prototype.data.stackNormalized=function(n){if(n===void 0)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!n,this.internal.redraw()},at.prototype.donut=function(){},at.prototype.donut.padAngle=function(n){if(n===void 0)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=n,this.flush()},at.prototype.flow=function(n){var i=this.internal,s,c,g=[],v=i.getMaxDataCount(),w,A,$,C=0,O=0,G,Y;if(n.json)c=i.convertJsonToData(n.json,n.keys);else if(n.rows)c=i.convertRowsToData(n.rows);else if(n.columns)c=i.convertColumnsToData(n.columns);else return;s=i.convertDataToTargets(c,!0),i.data.targets.forEach(function(D){var U=!1,q,K;for(q=0;q<s.length;q++)if(D.id===s[q].id){for(U=!0,D.values[D.values.length-1]&&(O=D.values[D.values.length-1].index+1),C=s[q].values.length,K=0;K<C;K++)s[q].values[K].index=O+K,i.isTimeSeries()||(s[q].values[K].x=O+K);D.values=D.values.concat(s[q].values),s.splice(q,1);break}U||g.push(D.id)}),i.data.targets.forEach(function(D){var U,q;for(U=0;U<g.length;U++)if(D.id===g[U])for(O=D.values[D.values.length-1].index+1,q=0;q<C;q++)D.values.push({id:D.id,index:O+q,x:i.isTimeSeries()?i.getOtherTargetX(O+q):O+q,value:null})}),i.data.targets.length&&s.forEach(function(D){var U,q=[];for(U=i.data.targets[0].values[0].index;U<O;U++)q.push({id:D.id,index:U,x:i.isTimeSeries()?i.getOtherTargetX(U):U,value:null});D.values.forEach(function(K){K.index+=O,i.isTimeSeries()||(K.x+=O)}),D.values=q.concat(D.values)}),i.data.targets=i.data.targets.concat(s),i.getMaxDataCount(),A=i.data.targets[0],$=A.values[0],te(n.to)?(C=0,Y=i.isTimeSeries()?i.parseDate(n.to):n.to,A.values.forEach(function(D){D.x<Y&&C++})):te(n.length)&&(C=n.length),v?v===1&&i.isTimeSeries()&&(G=(A.values[A.values.length-1].x-$.x)/2,w=[new Date(+$.x-G),new Date(+$.x+G)],i.updateXDomain(null,!0,!0,!1,w)):(i.isTimeSeries()?A.values.length>1?G=A.values[A.values.length-1].x-$.x:G=$.x-i.getXDomain(i.data.targets)[0]:G=1,w=[$.x-G,$.x],i.updateXDomain(null,!0,!0,!1,w)),i.updateTargets(i.data.targets),i.redraw({flow:{index:$.index,length:C,duration:Et(n.duration)?n.duration:i.config.transition_duration,done:n.done,orgDataCount:v},withLegend:!0,withTransition:v>1,withTrimXDomain:!1,withUpdateXAxis:!0})},T.prototype.generateFlow=function(n){var i=this,s=i.config,c=i.d3;return function(){var g=n.targets,v=n.flow,w=n.drawBar,A=n.drawLine,$=n.drawArea,C=n.cx,O=n.cy,G=n.xv,Y=n.xForText,D=n.yForText,U=n.duration,q,K=1,ot,xt=v.index,kt=v.length,Ct=i.getValueOnIndex(i.data.targets[0].values,xt),Ft=i.getValueOnIndex(i.data.targets[0].values,xt+kt),At=i.x.domain(),yt,Lt=v.duration||U,Ht=v.done||function(){},mt=i.generateWait(),ut,lt,Jt,we,be,se,de,ce;i.flowing=!0,i.data.targets.forEach(function(it){it.values.splice(0,kt)}),yt=i.updateXDomain(g,!0,!0),i.updateXGrid&&i.updateXGrid(!0),ut=i.xgrid||c.selectAll([]),lt=i.xgridLines||c.selectAll([]),Jt=i.mainRegion||c.selectAll([]),we=i.mainText||c.selectAll([]),be=i.mainBar||c.selectAll([]),se=i.mainLine||c.selectAll([]),de=i.mainArea||c.selectAll([]),ce=i.mainCircle||c.selectAll([]),v.orgDataCount?v.orgDataCount===1||(Ct&&Ct.x)===(Ft&&Ft.x)||i.isTimeSeries()?q=i.x(At[0])-i.x(yt[0]):q=i.x(Ct.x)-i.x(Ft.x):i.data.targets[0].values.length!==1?q=i.x(At[0])-i.x(yt[0]):i.isTimeSeries()?(Ct=i.getValueOnIndex(i.data.targets[0].values,0),Ft=i.getValueOnIndex(i.data.targets[0].values,i.data.targets[0].values.length-1),q=i.x(Ct.x)-i.x(Ft.x)):q=ii(yt)/2,K=ii(At)/ii(yt),ot="translate("+q+",0) scale("+K+",1)",i.hideXGridFocus();var Qt=c.transition().ease(c.easeLinear).duration(Lt);mt.add(i.xAxis(i.axes.x,Qt)),mt.add(be.transition(Qt).attr("transform",ot)),mt.add(se.transition(Qt).attr("transform",ot)),mt.add(de.transition(Qt).attr("transform",ot)),mt.add(ce.transition(Qt).attr("transform",ot)),mt.add(we.transition(Qt).attr("transform",ot)),mt.add(Jt.filter(i.isRegionOnX).transition(Qt).attr("transform",ot)),mt.add(ut.transition(Qt).attr("transform",ot)),mt.add(lt.transition(Qt).attr("transform",ot)),mt(function(){var it,ht=[],jt=[];if(kt){for(it=0;it<kt;it++)ht.push("."+k.shape+"-"+(xt+it)),jt.push("."+k.text+"-"+(xt+it));i.svg.selectAll("."+k.shapes).selectAll(ht).remove(),i.svg.selectAll("."+k.texts).selectAll(jt).remove(),i.svg.select("."+k.xgrid).remove()}ut.attr("transform",null).attr("x1",i.xgridAttr.x1).attr("x2",i.xgridAttr.x2).attr("y1",i.xgridAttr.y1).attr("y2",i.xgridAttr.y2).style("opacity",i.xgridAttr.opacity),lt.attr("transform",null),lt.select("line").attr("x1",s.axis_rotated?0:G).attr("x2",s.axis_rotated?i.width:G),lt.select("text").attr("x",s.axis_rotated?i.width:0).attr("y",G),be.attr("transform",null).attr("d",w),se.attr("transform",null).attr("d",A),de.attr("transform",null).attr("d",$),ce.attr("transform",null).attr("cx",C).attr("cy",O),we.attr("transform",null).attr("x",Y).attr("y",D).style("fill-opacity",i.opacityForText.bind(i)),Jt.attr("transform",null),Jt.filter(i.isRegionOnX).attr("x",i.regionX.bind(i)).attr("width",i.regionWidth.bind(i)),Ht(),i.flowing=!1})}},at.prototype.focus=function(n){var i=this.internal,s;n=i.mapToTargetIds(n),s=i.svg.selectAll(i.selectorTargets(n.filter(i.isTargetToShow,i))),this.revert(),this.defocus(),s.classed(k.focused,!0).classed(k.defocused,!1),i.hasArcType()&&i.expandArc(n),i.toggleFocusLegend(n,!0),i.focusedTargetIds=n,i.defocusedTargetIds=i.defocusedTargetIds.filter(function(c){return n.indexOf(c)<0})},at.prototype.defocus=function(n){var i=this.internal,s;n=i.mapToTargetIds(n),s=i.svg.selectAll(i.selectorTargets(n.filter(i.isTargetToShow,i))),s.classed(k.focused,!1).classed(k.defocused,!0),i.hasArcType()&&i.unexpandArc(n),i.toggleFocusLegend(n,!1),i.focusedTargetIds=i.focusedTargetIds.filter(function(c){return n.indexOf(c)<0}),i.defocusedTargetIds=n},at.prototype.revert=function(n){var i=this.internal,s;n=i.mapToTargetIds(n),s=i.svg.selectAll(i.selectorTargets(n)),s.classed(k.focused,!1).classed(k.defocused,!1),i.hasArcType()&&i.unexpandArc(n),i.config.legend_show&&(i.showLegend(n.filter(i.isLegendToShow.bind(i))),i.legend.selectAll(i.selectorLegends(n)).filter(function(){return i.d3.select(this).classed(k.legendItemFocused)}).classed(k.legendItemFocused,!1)),i.focusedTargetIds=[],i.defocusedTargetIds=[]},at.prototype.xgrids=function(n){var i=this.internal,s=i.config;return n&&(s.grid_x_lines=n,i.redrawWithoutRescale()),s.grid_x_lines},at.prototype.xgrids.add=function(n){var i=this.internal;return this.xgrids(i.config.grid_x_lines.concat(n||[]))},at.prototype.xgrids.remove=function(n){var i=this.internal;i.removeGridLines(n,!0)},at.prototype.ygrids=function(n){var i=this.internal,s=i.config;return n&&(s.grid_y_lines=n,i.redrawWithoutRescale()),s.grid_y_lines},at.prototype.ygrids.add=function(n){var i=this.internal;return this.ygrids(i.config.grid_y_lines.concat(n||[]))},at.prototype.ygrids.remove=function(n){var i=this.internal;i.removeGridLines(n,!1)},at.prototype.groups=function(n){var i=this.internal,s=i.config;return xe(n)||(s.data_groups=n,i.redraw()),s.data_groups},at.prototype.legend=function(){},at.prototype.legend.show=function(n){var i=this.internal;i.showLegend(i.mapToTargetIds(n)),i.updateAndRedraw({withLegend:!0})},at.prototype.legend.hide=function(n){var i=this.internal;i.hideLegend(i.mapToTargetIds(n)),i.updateAndRedraw({withLegend:!1})},at.prototype.load=function(n){var i=this.internal,s=i.config;if(n.xs&&i.addXs(n.xs),"names"in n&&at.prototype.data.names.bind(this)(n.names),"classes"in n&&Object.keys(n.classes).forEach(function(c){s.data_classes[c]=n.classes[c]}),"categories"in n&&i.isCategorized()&&(s.axis_x_categories=n.categories),"axes"in n&&Object.keys(n.axes).forEach(function(c){s.data_axes[c]=n.axes[c]}),"colors"in n&&Object.keys(n.colors).forEach(function(c){s.data_colors[c]=n.colors[c]}),"cacheIds"in n&&i.hasCaches(n.cacheIds)){i.load(i.getCaches(n.cacheIds),n.done);return}n.unload?i.unload(i.mapToTargetIds(n.unload===!0?null:n.unload),function(){i.loadFromArgs(n)}):i.loadFromArgs(n)},at.prototype.unload=function(n){var i=this.internal;n=n||{},n instanceof Array?n={ids:n}:typeof n=="string"&&(n={ids:[n]}),i.unload(i.mapToTargetIds(n.ids),function(){i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.done&&n.done()})},at.prototype.pie=function(){},at.prototype.pie.padAngle=function(n){if(n===void 0)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=n,this.flush()},at.prototype.regions=function(n){var i=this.internal,s=i.config;return n&&(s.regions=n,i.redrawWithoutRescale()),s.regions},at.prototype.regions.add=function(n){var i=this.internal,s=i.config;return n&&(s.regions=s.regions.concat(n),i.redrawWithoutRescale()),s.regions},at.prototype.regions.remove=function(n){var i=this.internal,s=i.config,c,g,v;return n=n||{},c=qt(n,"duration",s.transition_duration),g=qt(n,"classes",[k.region]),v=i.main.select("."+k.regions).selectAll(g.map(function(w){return"."+w})),(c?v.transition().duration(c):v).style("opacity",0).remove(),s.regions=s.regions.filter(function(w){var A=!1;return w.class?(w.class.split(" ").forEach(function($){g.indexOf($)>=0&&(A=!0)}),!A):!0}),s.regions},at.prototype.selected=function(n){var i=this.internal,s=i.d3;return i.main.selectAll("."+k.shapes+i.getTargetSelectorSuffix(n)).selectAll("."+k.shape).filter(function(){return s.select(this).classed(k.SELECTED)}).nodes().map(function(c){var g=c.__data__;return g.data?g.data:g})},at.prototype.select=function(n,i,s){var c=this.internal,g=c.d3,v=c.config;v.data_selection_enabled&&c.main.selectAll("."+k.shapes).selectAll("."+k.shape).each(function(w,A){var $=g.select(this),C=w.data?w.data.id:w.id,O=c.getToggle(this,w).bind(c),G=v.data_selection_grouped||!n||n.indexOf(C)>=0,Y=!i||i.indexOf(A)>=0,D=$.classed(k.SELECTED);$.classed(k.line)||$.classed(k.area)||(G&&Y?v.data_selection_isselectable(w)&&!D&&O(!0,$.classed(k.SELECTED,!0),w,A):te(s)&&s&&D&&O(!1,$.classed(k.SELECTED,!1),w,A))})},at.prototype.unselect=function(n,i){var s=this.internal,c=s.d3,g=s.config;g.data_selection_enabled&&s.main.selectAll("."+k.shapes).selectAll("."+k.shape).each(function(v,w){var A=c.select(this),$=v.data?v.data.id:v.id,C=s.getToggle(this,v).bind(s),O=g.data_selection_grouped||!n||n.indexOf($)>=0,G=!i||i.indexOf(w)>=0,Y=A.classed(k.SELECTED);A.classed(k.line)||A.classed(k.area)||O&&G&&g.data_selection_isselectable(v)&&Y&&C(!1,A.classed(k.SELECTED,!1),v,w)})},at.prototype.show=function(n,i){var s=this.internal,c;n=s.mapToTargetIds(n),i=i||{},s.removeHiddenTargetIds(n),c=s.svg.selectAll(s.selectorTargets(n)),c.transition().style("display",Ma()?"block":"initial","important").style("opacity",1,"important").call(s.endall,function(){c.style("opacity",null).style("opacity",1)}),i.withLegend&&s.showLegend(n),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},at.prototype.hide=function(n,i){var s=this.internal,c;n=s.mapToTargetIds(n),i=i||{},s.addHiddenTargetIds(n),c=s.svg.selectAll(s.selectorTargets(n)),c.transition().style("opacity",0,"important").call(s.endall,function(){c.style("opacity",null).style("opacity",0),c.style("display","none")}),i.withLegend&&s.hideLegend(n),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},at.prototype.toggle=function(n,i){var s=this,c=this.internal;c.mapToTargetIds(n).forEach(function(g){c.isTargetToShow(g)?s.hide(g,i):s.show(g,i)})},at.prototype.subchart=function(){},at.prototype.subchart.isShown=function(){var n=this.internal;return n.config.subchart_show},at.prototype.subchart.show=function(){var n=this.internal;n.config.subchart_show||(n.config.subchart_show=!0,n.initSubchart(),n.updateDimension(),n.initSubchartBrush(),n.updateTargetsForSubchart(n.getTargets()),n.mapToIds(n.data.targets).forEach(function(i){n.withoutFadeIn[i]=!1}),n.updateAndRedraw(),n.showTargets())},at.prototype.subchart.hide=function(){var n=this.internal;n.config.subchart_show&&(n.config.subchart_show=!1,n.removeSubchart(),n.redraw())},at.prototype.tooltip=function(){},at.prototype.tooltip.show=function(n){var i=this.internal,s,c,g={};n.mouse?g=n.mouse:(n.data?c=n.data:typeof n.x<"u"&&(n.id?s=i.data.targets.filter(function(v){return v.id===n.id}):s=i.data.targets,c=i.filterByX(s,n.x).slice(0,1)[0]),g=c?i.getMousePosition(c):null),i.dispatchEvent("mousemove",g),i.config.tooltip_onshow.call(i,c)},at.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},at.prototype.transform=function(n,i){var s=this.internal,c=["pie","donut"].indexOf(n)>=0?{withTransform:!0}:null;s.transformTo(i,n,c)},T.prototype.transformTo=function(n,i,s){var c=this,g=!c.hasArcType(),v=s||{withTransitionForAxis:g};v.withTransitionForTransform=!1,c.transiting=!1,c.setTargetType(n,i),c.updateTargets(c.data.targets),c.updateAndRedraw(v)},at.prototype.x=function(n){var i=this.internal;return arguments.length&&(i.updateTargetX(i.data.targets,n),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),i.data.xs},at.prototype.xs=function(n){var i=this.internal;return arguments.length&&(i.updateTargetXs(i.data.targets,n),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),i.data.xs},at.prototype.zoom=function(n){var i=this.internal;return n?(i.isTimeSeries()&&(n=n.map(function(s){return i.parseDate(s)})),i.config.subchart_show?i.brush.selectionAsValue(n,!0):(i.updateXDomain(null,!0,!1,!1,n),i.redraw({withY:i.config.zoom_rescale,withSubchart:!1})),i.config.zoom_onzoom.call(this,i.x.orgDomain()),n):i.x.domain()},at.prototype.zoom.enable=function(n){var i=this.internal;i.config.zoom_enabled=n,i.updateAndRedraw()},at.prototype.unzoom=function(){var n=this.internal;n.config.subchart_show?n.brush.clear():(n.updateXDomain(null,!0,!1,!1,n.subX.domain()),n.redraw({withY:n.config.zoom_rescale,withSubchart:!1}))},at.prototype.zoom.max=function(n){var i=this.internal,s=i.config,c=i.d3;if(n===0||n)s.zoom_x_max=c.max([i.orgXDomain[1],n]);else return s.zoom_x_max},at.prototype.zoom.min=function(n){var i=this.internal,s=i.config,c=i.d3;if(n===0||n)s.zoom_x_min=c.min([i.orgXDomain[0],n]);else return s.zoom_x_min},at.prototype.zoom.range=function(n){if(arguments.length)te(n.max)&&this.domain.max(n.max),te(n.min)&&this.domain.min(n.min);else return{max:this.domain.max(),min:this.domain.min()}},T.prototype.initPie=function(){var n=this,i=n.d3;n.pie=i.pie().padAngle(this.getPadAngle.bind(this)).value(function(g){return g.values.reduce(function(v,w){return v+w.value},0)});var s=n.getOrderFunction();if(s&&(n.isOrderAsc()||n.isOrderDesc())){var c=s;s=function(v,w){return c(v,w)*-1}}n.pie.sort(s||null)},T.prototype.updateRadius=function(){var n=this,i=n.config,s=i.gauge_width||i.donut_width,c=n.filterTargetsToShow(n.data.targets).length*n.config.gauge_arcs_minWidth;n.radiusExpanded=Math.min(n.arcWidth,n.arcHeight)/2*(n.hasType("gauge")?.85:1),n.radius=n.radiusExpanded*.95,n.innerRadiusRatio=s?(n.radius-s)/n.radius:.6,n.innerRadius=n.hasType("donut")||n.hasType("gauge")?n.radius*n.innerRadiusRatio:0,n.gaugeArcWidth=s||(c<=n.radius-n.innerRadius?n.radius-n.innerRadius:c<=n.radius?c:n.radius)},T.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},T.prototype.updateArc=function(){var n=this;n.svgArc=n.getSvgArc(),n.svgArcExpanded=n.getSvgArcExpanded(),n.svgArcExpandedSub=n.getSvgArcExpanded(.98)},T.prototype.updateAngle=function(n){var i=this,s=i.config,c=!1,g=0,v,w,A,$;return s?(i.pie(i.filterTargetsToShow(i.data.targets)).forEach(function(C){!c&&C.data.id===n.data.id&&(c=!0,n=C,n.index=g),g++}),isNaN(n.startAngle)&&(n.startAngle=0),isNaN(n.endAngle)&&(n.endAngle=n.startAngle),i.isGaugeType(n.data)&&(v=s.gauge_min,w=s.gauge_max,A=Math.PI*(s.gauge_fullCircle?2:1)/(w-v),$=n.value<v?0:n.value<w?n.value-v:w-v,n.startAngle=s.gauge_startingAngle,n.endAngle=n.startAngle+A*$),c?n:null):null},T.prototype.getSvgArc=function(){var n=this,i=n.hasType("gauge"),s=n.gaugeArcWidth/n.filterTargetsToShow(n.data.targets).length,c=n.d3.arc().outerRadius(function(v){return i?n.radius-s*v.index:n.radius}).innerRadius(function(v){return i?n.radius-s*(v.index+1):n.innerRadius}),g=function(w,A){var $;return A?c(w):($=n.updateAngle(w),$?c($):"M 0 0")};return g.centroid=c.centroid,g},T.prototype.getSvgArcExpanded=function(n){n=n||1;var i=this,s=i.hasType("gauge"),c=i.gaugeArcWidth/i.filterTargetsToShow(i.data.targets).length,g=Math.min(i.radiusExpanded*n-i.radius,c*.8-(1-n)*100),v=i.d3.arc().outerRadius(function(w){return s?i.radius-c*w.index+g:i.radiusExpanded*n}).innerRadius(function(w){return s?i.radius-c*(w.index+1):i.innerRadius});return function(w){var A=i.updateAngle(w);return A?v(A):"M 0 0"}},T.prototype.getArc=function(n,i,s){return s||this.isArcType(n.data)?this.svgArc(n,i):"M 0 0"},T.prototype.transformForArcLabel=function(n){var i=this,s=i.config,c=i.updateAngle(n),g,v,w,A,$,C="",O=i.hasType("gauge");if(c&&!O)g=this.svgArc.centroid(c),v=isNaN(g[0])?0:g[0],w=isNaN(g[1])?0:g[1],A=Math.sqrt(v*v+w*w),i.hasType("donut")&&s.donut_label_ratio?$=zt(s.donut_label_ratio)?s.donut_label_ratio(n,i.radius,A):s.donut_label_ratio:i.hasType("pie")&&s.pie_label_ratio?$=zt(s.pie_label_ratio)?s.pie_label_ratio(n,i.radius,A):s.pie_label_ratio:$=i.radius&&A?(36/i.radius>.375?1.175-36/i.radius:.8)*i.radius/A:0,C="translate("+v*$+","+w*$+")";else if(c&&O&&i.filterTargetsToShow(i.data.targets).length>1){var G=Math.sin(c.endAngle-Math.PI/2);v=Math.cos(c.endAngle-Math.PI/2)*(i.radiusExpanded+25),w=G*(i.radiusExpanded+15-Math.abs(G*10))+3,C="translate("+v+","+w+")"}return C},T.prototype.getArcRatio=function(n){return this.getRatio("arc",n)},T.prototype.convertToArcData=function(n){return this.addName({id:n.data.id,value:n.value,ratio:this.getRatio("arc",n),index:n.index})},T.prototype.textForArcLabel=function(n){var i=this,s,c,g,v,w;return!i.shouldShowArcLabel()||(s=i.updateAngle(n),c=s?s.value:null,g=i.getRatio("arc",s),v=n.data.id,!i.hasType("gauge")&&!i.meetsArcLabelThreshold(g))?"":(w=i.getArcLabelFormat(),w?w(c,g,v):i.defaultArcValueFormat(c,g))},T.prototype.textForGaugeMinMax=function(n,i){var s=this,c=s.getGaugeLabelExtents();return c?c(n,i):n},T.prototype.expandArc=function(n){var i=this,s;if(i.transiting){s=window.setInterval(function(){i.transiting||(window.clearInterval(s),i.legend.selectAll(".c3-legend-item-focused").size()>0&&i.expandArc(n))},10);return}n=i.mapToTargetIds(n),i.svg.selectAll(i.selectorTargets(n,"."+k.chartArc)).each(function(c){i.shouldExpand(c.data.id)&&i.d3.select(this).selectAll("path").transition().duration(i.expandDuration(c.data.id)).attr("d",i.svgArcExpanded).transition().duration(i.expandDuration(c.data.id)*2).attr("d",i.svgArcExpandedSub).each(function(g){i.isDonutType(g.data)})})},T.prototype.unexpandArc=function(n){var i=this;i.transiting||(n=i.mapToTargetIds(n),i.svg.selectAll(i.selectorTargets(n,"."+k.chartArc)).selectAll("path").transition().duration(function(s){return i.expandDuration(s.data.id)}).attr("d",i.svgArc),i.svg.selectAll("."+k.arc))},T.prototype.expandDuration=function(n){var i=this,s=i.config;return i.isDonutType(n)?s.donut_expand_duration:i.isGaugeType(n)?s.gauge_expand_duration:i.isPieType(n)?s.pie_expand_duration:50},T.prototype.shouldExpand=function(n){var i=this,s=i.config;return i.isDonutType(n)&&s.donut_expand||i.isGaugeType(n)&&s.gauge_expand||i.isPieType(n)&&s.pie_expand},T.prototype.shouldShowArcLabel=function(){var n=this,i=n.config,s=!0;return n.hasType("donut")?s=i.donut_label_show:n.hasType("pie")&&(s=i.pie_label_show),s},T.prototype.meetsArcLabelThreshold=function(n){var i=this,s=i.config,c=i.hasType("donut")?s.donut_label_threshold:s.pie_label_threshold;return n>=c},T.prototype.getArcLabelFormat=function(){var n=this,i=n.config,s=i.pie_label_format;return n.hasType("gauge")?s=i.gauge_label_format:n.hasType("donut")&&(s=i.donut_label_format),s},T.prototype.getGaugeLabelExtents=function(){var n=this,i=n.config;return i.gauge_label_extents},T.prototype.getArcTitle=function(){var n=this;return n.hasType("donut")?n.config.donut_title:""},T.prototype.updateTargetsForArc=function(n){var i=this,s=i.main,c,g,v=i.classChartArc.bind(i),w=i.classArcs.bind(i),A=i.classFocus.bind(i);c=s.select("."+k.chartArcs).selectAll("."+k.chartArc).data(i.pie(n)).attr("class",function($){return v($)+A($.data)}),g=c.enter().append("g").attr("class",v),g.append("g").attr("class",w),g.append("text").attr("dy",i.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},T.prototype.initArc=function(){var n=this;n.arcs=n.main.select("."+k.chart).append("g").attr("class",k.chartArcs).attr("transform",n.getTranslate("arc")),n.arcs.append("text").attr("class",k.chartArcsTitle).style("text-anchor","middle").text(n.getArcTitle())},T.prototype.redrawArc=function(n,i,s){var c=this,g=c.d3,v=c.config,w=c.main,A,$,C,O,G=c.hasType("gauge");if(A=w.selectAll("."+k.arcs).selectAll("."+k.arc).data(c.arcData.bind(c)),$=A.enter().append("path").attr("class",c.classArc.bind(c)).style("fill",function(U){return c.color(U.data)}).style("cursor",function(U){return v.interaction_enabled&&v.data_selection_isselectable(U)?"pointer":null}).each(function(U){c.isGaugeType(U.data)&&(U.startAngle=U.endAngle=v.gauge_startingAngle),this._current=U}).merge(A),G&&(C=w.selectAll("."+k.arcs).selectAll("."+k.arcLabelLine).data(c.arcData.bind(c)),O=C.enter().append("rect").attr("class",function(U){return k.arcLabelLine+" "+k.target+" "+k.target+"-"+U.data.id}).merge(C),c.filterTargetsToShow(c.data.targets).length===1?O.style("display","none"):O.style("fill",function(U){return c.levelColor?c.levelColor(U.data.values.reduce(function(q,K){return q+K.value},0)):c.color(U.data)}).style("display",v.gauge_labelLine_show?"":"none").each(function(U){var q=0,K=2,ot=0,xt=0,kt="";if(c.hiddenTargetIds.indexOf(U.data.id)<0){var Ct=c.updateAngle(U),Ft=c.gaugeArcWidth/c.filterTargetsToShow(c.data.targets).length*(Ct.index+1),At=Ct.endAngle-Math.PI/2,yt=c.radius-Ft,Lt=At-(yt===0?0:1/yt);q=c.radiusExpanded-c.radius+Ft,ot=Math.cos(Lt)*yt,xt=Math.sin(Lt)*yt,kt="rotate("+At*180/Math.PI+", "+ot+", "+xt+")"}g.select(this).attr("x",ot).attr("y",xt).attr("width",q).attr("height",K).attr("transform",kt).style("stroke-dasharray","0, "+(q+K)+", 0")})),$.attr("transform",function(U){return!c.isGaugeType(U.data)&&s?"scale(0)":""}).on("mouseover",v.interaction_enabled?function(U){var q,K;c.transiting||(q=c.updateAngle(U),q&&(K=c.convertToArcData(q),c.expandArc(q.data.id),c.api.focus(q.data.id),c.toggleFocusLegend(q.data.id,!0),c.config.data_onmouseover(K,this)))}:null).on("mousemove",v.interaction_enabled?function(U){var q=c.updateAngle(U),K,ot;q&&(K=c.convertToArcData(q),ot=[K],c.showTooltip(ot,this))}:null).on("mouseout",v.interaction_enabled?function(U){var q,K;c.transiting||(q=c.updateAngle(U),q&&(K=c.convertToArcData(q),c.unexpandArc(q.data.id),c.api.revert(),c.revertLegend(),c.hideTooltip(),c.config.data_onmouseout(K,this)))}:null).on("click",v.interaction_enabled?function(U,q){var K=c.updateAngle(U),ot;K&&(ot=c.convertToArcData(K),c.toggleShape&&c.toggleShape(this,ot,q),c.config.data_onclick.call(c.api,ot,this))}:null).each(function(){c.transiting=!0}).transition().duration(n).attrTween("d",function(U){var q=c.updateAngle(U),K;return q?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),K=g.interpolate(this._current,q),this._current=K(0),function(ot){if(c.config===null)return"M 0 0";var xt=K(ot);return xt.data=U.data,c.getArc(xt,!0)}):function(){return"M 0 0"}}).attr("transform",s?"scale(1)":"").style("fill",function(U){return c.levelColor?c.levelColor(U.data.values.reduce(function(q,K){return q+K.value},0)):c.color(U.data.id)}).call(c.endall,function(){c.transiting=!1}),A.exit().transition().duration(i).style("opacity",0).remove(),w.selectAll("."+k.chartArc).select("text").style("opacity",0).attr("class",function(U){return c.isGaugeType(U.data)?k.gaugeValue:""}).text(c.textForArcLabel.bind(c)).attr("transform",c.transformForArcLabel.bind(c)).style("font-size",function(U){return c.isGaugeType(U.data)&&c.filterTargetsToShow(c.data.targets).length===1?Math.round(c.radius/5)+"px":""}).transition().duration(n).style("opacity",function(U){return c.isTargetToShow(U.data.id)&&c.isArcType(U.data)?1:0}),w.select("."+k.chartArcsTitle).style("opacity",c.hasType("donut")||G?1:0),G){var Y=0,D=c.arcs.select("g."+k.chartArcsBackground).selectAll("path."+k.chartArcsBackground).data(c.data.targets);D.enter().append("path").attr("class",function(U,q){return k.chartArcsBackground+" "+k.chartArcsBackground+"-"+q}).merge(D).attr("d",function(U){if(c.hiddenTargetIds.indexOf(U.id)>=0)return"M 0 0";var q={data:[{value:v.gauge_max}],startAngle:v.gauge_startingAngle,endAngle:-1*v.gauge_startingAngle*(v.gauge_fullCircle?Math.PI:1),index:Y++};return c.getArc(q,!0,!0)}),D.exit().remove(),c.arcs.select("."+k.chartArcsGaugeUnit).attr("dy",".75em").text(v.gauge_label_show?v.gauge_units:""),c.arcs.select("."+k.chartArcsGaugeMin).attr("dx",-1*(c.innerRadius+(c.radius-c.innerRadius)/(v.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(v.gauge_label_show?c.textForGaugeMinMax(v.gauge_min,!1):""),c.arcs.select("."+k.chartArcsGaugeMax).attr("dx",c.innerRadius+(c.radius-c.innerRadius)/(v.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(v.gauge_label_show?c.textForGaugeMinMax(v.gauge_max,!0):"")}},T.prototype.initGauge=function(){var n=this.arcs;this.hasType("gauge")&&(n.append("g").attr("class",k.chartArcsBackground),n.append("text").attr("class",k.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),n.append("text").attr("class",k.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),n.append("text").attr("class",k.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},T.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},T.prototype.addToCache=function(n,i){this.cache["$".concat(n)]=i},T.prototype.getFromCache=function(n){return this.cache["$".concat(n)]},T.prototype.resetCache=function(){var n=this;Object.keys(this.cache).filter(function(i){return/^\$/.test(i)}).forEach(function(i){delete n.cache[i]})},T.prototype.hasCaches=function(n){for(var i=0;i<n.length;i++)if(!(n[i]in this.cache))return!1;return!0},T.prototype.addCache=function(n,i){this.cache[n]=this.cloneTarget(i)},T.prototype.getCaches=function(n){var i=[],s;for(s=0;s<n.length;s++)n[s]in this.cache&&i.push(this.cloneTarget(this.cache[n[s]]));return i},T.prototype.categoryName=function(n){var i=this.config;return n<i.axis_x_categories.length?i.axis_x_categories[n]:n},T.prototype.generateTargetClass=function(n){return n||n===0?("-"+n).replace(/\s/g,"-"):""},T.prototype.generateClass=function(n,i){return" "+n+" "+n+this.generateTargetClass(i)},T.prototype.classText=function(n){return this.generateClass(k.text,n.index)},T.prototype.classTexts=function(n){return this.generateClass(k.texts,n.id)},T.prototype.classShape=function(n){return this.generateClass(k.shape,n.index)},T.prototype.classShapes=function(n){return this.generateClass(k.shapes,n.id)},T.prototype.classLine=function(n){return this.classShape(n)+this.generateClass(k.line,n.id)},T.prototype.classLines=function(n){return this.classShapes(n)+this.generateClass(k.lines,n.id)},T.prototype.classCircle=function(n){return this.classShape(n)+this.generateClass(k.circle,n.index)},T.prototype.classCircles=function(n){return this.classShapes(n)+this.generateClass(k.circles,n.id)},T.prototype.classBar=function(n){return this.classShape(n)+this.generateClass(k.bar,n.index)},T.prototype.classBars=function(n){return this.classShapes(n)+this.generateClass(k.bars,n.id)},T.prototype.classArc=function(n){return this.classShape(n.data)+this.generateClass(k.arc,n.data.id)},T.prototype.classArcs=function(n){return this.classShapes(n.data)+this.generateClass(k.arcs,n.data.id)},T.prototype.classArea=function(n){return this.classShape(n)+this.generateClass(k.area,n.id)},T.prototype.classAreas=function(n){return this.classShapes(n)+this.generateClass(k.areas,n.id)},T.prototype.classRegion=function(n,i){return this.generateClass(k.region,i)+" "+("class"in n?n.class:"")},T.prototype.classEvent=function(n){return this.generateClass(k.eventRect,n.index)},T.prototype.classTarget=function(n){var i=this,s=i.config.data_classes[n],c="";return s&&(c=" "+k.target+"-"+s),i.generateClass(k.target,n)+c},T.prototype.classFocus=function(n){return this.classFocused(n)+this.classDefocused(n)},T.prototype.classFocused=function(n){return" "+(this.focusedTargetIds.indexOf(n.id)>=0?k.focused:"")},T.prototype.classDefocused=function(n){return" "+(this.defocusedTargetIds.indexOf(n.id)>=0?k.defocused:"")},T.prototype.classChartText=function(n){return k.chartText+this.classTarget(n.id)},T.prototype.classChartLine=function(n){return k.chartLine+this.classTarget(n.id)},T.prototype.classChartBar=function(n){return k.chartBar+this.classTarget(n.id)},T.prototype.classChartArc=function(n){return k.chartArc+this.classTarget(n.data.id)},T.prototype.getTargetSelectorSuffix=function(n){var i=this.generateTargetClass(n);return window.CSS&&window.CSS.escape?window.CSS.escape(i):i.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},T.prototype.selectorTarget=function(n,i){return(i||"")+"."+k.target+this.getTargetSelectorSuffix(n)},T.prototype.selectorTargets=function(n,i){var s=this;return n=n||[],n.length?n.map(function(c){return s.selectorTarget(c,i)}):null},T.prototype.selectorLegend=function(n){return"."+k.legendItem+this.getTargetSelectorSuffix(n)},T.prototype.selectorLegends=function(n){var i=this;return n&&n.length?n.map(function(s){return i.selectorLegend(s)}):null},T.prototype.getClipPath=function(n){return"url("+(Ma(9)?"":document.URL.split("#")[0])+"#"+n+")"},T.prototype.appendClip=function(n,i){return n.append("clipPath").attr("id",i).append("rect")},T.prototype.getAxisClipX=function(n){var i=Math.max(30,this.margin.left);return n?-(1+i):-(i-1)},T.prototype.getAxisClipY=function(n){return n?-20:-this.margin.top},T.prototype.getXAxisClipX=function(){var n=this;return n.getAxisClipX(!n.config.axis_rotated)},T.prototype.getXAxisClipY=function(){var n=this;return n.getAxisClipY(!n.config.axis_rotated)},T.prototype.getYAxisClipX=function(){var n=this;return n.config.axis_y_inner?-1:n.getAxisClipX(n.config.axis_rotated)},T.prototype.getYAxisClipY=function(){var n=this;return n.getAxisClipY(n.config.axis_rotated)},T.prototype.getAxisClipWidth=function(n){var i=this,s=Math.max(30,i.margin.left),c=Math.max(30,i.margin.right);return n?i.width+2+s+c:i.margin.left+20},T.prototype.getAxisClipHeight=function(n){return(n?this.margin.bottom:this.margin.top+this.height)+20},T.prototype.getXAxisClipWidth=function(){var n=this;return n.getAxisClipWidth(!n.config.axis_rotated)},T.prototype.getXAxisClipHeight=function(){var n=this;return n.getAxisClipHeight(!n.config.axis_rotated)},T.prototype.getYAxisClipWidth=function(){var n=this;return n.getAxisClipWidth(n.config.axis_rotated)+(n.config.axis_y_inner?20:0)},T.prototype.getYAxisClipHeight=function(){var n=this;return n.getAxisClipHeight(n.config.axis_rotated)},T.prototype.generateColor=function(){var n=this,i=n.config,s=n.d3,c=i.data_colors,g=he(i.color_pattern)?i.color_pattern:s.schemeCategory10,v=i.data_color,w=[];return function(A){var $=A.id||A.data&&A.data.id||A,C;return c[$]instanceof Function?C=c[$](A):c[$]?C=c[$]:(w.indexOf($)<0&&w.push($),C=g[w.indexOf($)%g.length],c[$]=C),v instanceof Function?v(C,A):C}},T.prototype.generateLevelColor=function(){var n=this,i=n.config,s=i.color_pattern,c=i.color_threshold,g=c.unit==="value",v=c.values&&c.values.length?c.values:[],w=c.max||100;return he(c)&&he(s)?function(A){var $,C,O=s[s.length-1];for($=0;$<v.length;$++)if(C=g?A:A*100/w,C<v[$]){O=s[$];break}return O}:null},T.prototype.getDefaultConfig=function(){var n={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(s){return s},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(s,c,g,v){return this.getTooltipContent?this.getTooltipContent(s,c,g,v):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(i){n[i]=this.additionalConfig[i]},this),n},T.prototype.additionalConfig={},T.prototype.loadConfig=function(n){var i=this.config,s,c,g;function v(){var w=c.shift();return w&&s&&m(s)==="object"&&w in s?(s=s[w],v()):w?void 0:s}Object.keys(i).forEach(function(w){s=n,c=w.split("_"),g=v(),te(g)&&(i[w]=g)})},T.prototype.convertUrlToData=function(n,i,s,c,g){var v=this,w=i||"csv",A,$;w==="json"?(A=v.d3.json,$=v.convertJsonToData):w==="tsv"?(A=v.d3.tsv,$=v.convertXsvToData):(A=v.d3.csv,$=v.convertXsvToData),A(n,s).then(function(C){g.call(v,$.call(v,C,c))}).catch(function(C){throw C})},T.prototype.convertXsvToData=function(n){var i=n.columns,s=n;return s.length===0?{keys:i,rows:[i.reduce(function(c,g){return Object.assign(c,Vt({},g,null))},{})]}:{keys:i,rows:[].concat(n)}},T.prototype.convertJsonToData=function(n,i){var s=this,c=[],g,v;return i?(i.x?(g=i.value.concat(i.x),s.config.data_x=i.x):g=i.value,c.push(g),n.forEach(function(w){var A=[];g.forEach(function($){var C=s.findValueInJson(w,$);xe(C)&&(C=null),A.push(C)}),c.push(A)}),v=s.convertRowsToData(c)):(Object.keys(n).forEach(function(w){c.push([w].concat(n[w]))}),v=s.convertColumnsToData(c)),v},T.prototype.findValueInJson=function(n,i){if(i in n)return n[i];i=i.replace(/\[(\w+)\]/g,".$1"),i=i.replace(/^\./,"");for(var s=i.split("."),c=0;c<s.length;++c){var g=s[c];if(g in n)n=n[g];else return}return n},T.prototype.convertRowsToData=function(n){for(var i=[],s=n[0],c=1;c<n.length;c++){for(var g={},v=0;v<n[c].length;v++){if(xe(n[c][v]))throw new Error("Source data is missing a component at ("+c+","+v+")!");g[s[v]]=n[c][v]}i.push(g)}return{keys:s,rows:i}},T.prototype.convertColumnsToData=function(n){for(var i=[],s=[],c=0;c<n.length;c++){for(var g=n[c][0],v=1;v<n[c].length;v++){if(xe(i[v-1])&&(i[v-1]={}),xe(n[c][v]))throw new Error("Source data is missing a component at ("+c+","+v+")!");i[v-1][g]=n[c][v]}s.push(g)}return{keys:s,rows:i}},T.prototype.convertDataToTargets=function(n,i){var s=this,c=s.config,g,v,w,A,$;if(Mi(n)?A=Object.keys(n[0]):(A=n.keys,n=n.rows),w=A.filter(s.isX,s),!s.isStanfordGraphType())v=A.filter(s.isNotX,s);else if($=A.filter(s.isEpochs,s),v=A.filter(s.isNotXAndNotEpochs,s),w.length!==1||$.length!==1||v.length!==1)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams");return v.forEach(function(C){var O=s.getXKey(C);s.isCustomX()||s.isTimeSeries()?w.indexOf(O)>=0?s.data.xs[C]=(i&&s.data.xs[C]?s.data.xs[C]:[]).concat(n.map(function(G){return G[O]}).filter(Et).map(function(G,Y){return s.generateTargetX(G,C,Y)})):c.data_x?s.data.xs[C]=s.getOtherTargetXs():he(c.data_xs)&&(s.data.xs[C]=s.getXValuesOfXKey(O,s.data.targets)):s.data.xs[C]=n.map(function(G,Y){return Y})}),v.forEach(function(C){if(!s.data.xs[C])throw new Error('x is not defined for id = "'+C+'".')}),g=v.map(function(C,O){var G=c.data_idConverter(C);return{id:G,id_org:C,values:n.map(function(Y,D){var U=s.getXKey(C),q=Y[U],K=Y[C]!==null&&!isNaN(Y[C])?+Y[C]:null,ot,xt;return s.isCustomX()&&s.isCategorized()&&!xe(q)?(O===0&&D===0&&(c.axis_x_categories=[]),ot=c.axis_x_categories.indexOf(q),ot===-1&&(ot=c.axis_x_categories.length,c.axis_x_categories.push(q))):ot=s.generateTargetX(q,C,D),(xe(Y[C])||s.data.xs[C].length<=D)&&(ot=void 0),xt={x:ot,value:K,id:G},s.isStanfordGraphType()&&(xt.epochs=Y[$]),xt}).filter(function(Y){return te(Y.x)})}}),g.forEach(function(C){var O;c.data_xSort&&(C.values=C.values.sort(function(G,Y){var D=G.x||G.x===0?G.x:1/0,U=Y.x||Y.x===0?Y.x:1/0;return D-U})),O=0,C.values.forEach(function(G){G.index=O++}),s.data.xs[C.id].sort(function(G,Y){return G-Y})}),s.hasNegativeValue=s.hasNegativeValueInTargets(g),s.hasPositiveValue=s.hasPositiveValueInTargets(g),c.data_type&&s.setTargetType(s.mapToIds(g).filter(function(C){return!(C in c.data_types)}),c.data_type),g.forEach(function(C){s.addCache(C.id_org,C)}),g},T.prototype.isEpochs=function(n){var i=this,s=i.config;return s.data_epochs&&n===s.data_epochs},T.prototype.isX=function(n){var i=this,s=i.config;return s.data_x&&n===s.data_x||he(s.data_xs)&&As(s.data_xs,n)},T.prototype.isNotX=function(n){return!this.isX(n)},T.prototype.isNotXAndNotEpochs=function(n){return!this.isX(n)&&!this.isEpochs(n)},T.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},T.prototype.isAxisNormalized=function(n){var i=this;return i.isStackNormalized()?i.data.targets.filter(function(s){return i.axis.getId(s.id)===n}).some(function(s){return i.isTargetNormalized(s.id)}):!1},T.prototype.isTargetNormalized=function(n){var i=this;return i.isStackNormalized()&&i.config.data_groups.some(function(s){return s.includes(n)})},T.prototype.getXKey=function(n){var i=this,s=i.config;return s.data_x?s.data_x:he(s.data_xs)?s.data_xs[n]:null},T.prototype.getTotalPerIndex=function(n){var i=this;if(!i.isStackNormalized())return null;var s=i.getFromCache("getTotalPerIndex");if(s!==void 0)return s[n];var c={y:[],y2:[]};return i.data.targets.filter(function(g){return i.isTargetNormalized(g.id)}).filter(function(g){return i.isTargetToShow(g.id)}).forEach(function(g){var v=c[i.axis.getId(g.id)];g.values.forEach(function(w,A){v[A]||(v[A]=0),v[A]+=$i(w.value)?w.value:0})}),i.addToCache("getTotalPerIndex",c),c[n]},T.prototype.getTotalDataSum=function(){var n=this,i=n.getFromCache("getTotalDataSum");if(i!==void 0)return i;var s=hr(n.data.targets.filter(function(c){return n.isTargetToShow(c.id)}).map(function(c){return c.values})).map(function(c){return c.value}).reduce(function(c,g){return c+g},0);return n.addToCache("getTotalDataSum",s),s},T.prototype.getXValuesOfXKey=function(n,i){var s=this,c,g=i&&he(i)?s.mapToIds(i):[];return g.forEach(function(v){s.getXKey(v)===n&&(c=s.data.xs[v])}),c},T.prototype.getXValue=function(n,i){var s=this;return n in s.data.xs&&s.data.xs[n]&&Et(s.data.xs[n][i])?s.data.xs[n][i]:i},T.prototype.getOtherTargetXs=function(){var n=this,i=Object.keys(n.data.xs);return i.length?n.data.xs[i[0]]:null},T.prototype.getOtherTargetX=function(n){var i=this.getOtherTargetXs();return i&&n<i.length?i[n]:null},T.prototype.addXs=function(n){var i=this;Object.keys(n).forEach(function(s){i.config.data_xs[s]=n[s]})},T.prototype.addName=function(n){var i=this,s;return n&&(s=i.config.data_names[n.id],n.name=s!==void 0?s:n.id),n},T.prototype.getValueOnIndex=function(n,i){var s=n.filter(function(c){return c.index===i});return s.length?s[0]:null},T.prototype.updateTargetX=function(n,i){var s=this;n.forEach(function(c){c.values.forEach(function(g,v){g.x=s.generateTargetX(i[v],c.id,v)}),s.data.xs[c.id]=i})},T.prototype.updateTargetXs=function(n,i){var s=this;n.forEach(function(c){i[c.id]&&s.updateTargetX([c],i[c.id])})},T.prototype.generateTargetX=function(n,i,s){var c=this,g;return c.isTimeSeries()?g=n?c.parseDate(n):c.parseDate(c.getXValue(i,s)):c.isCustomX()&&!c.isCategorized()?g=Et(n)?+n:c.getXValue(i,s):g=s,g},T.prototype.cloneTarget=function(n){return{id:n.id,id_org:n.id_org,values:n.values.map(function(i){return{x:i.x,value:i.value,id:i.id}})}},T.prototype.getMaxDataCount=function(){var n=this;return n.d3.max(n.data.targets,function(i){return i.values.length})},T.prototype.mapToIds=function(n){return n.map(function(i){return i.id})},T.prototype.mapToTargetIds=function(n){var i=this;return n?[].concat(n):i.mapToIds(i.data.targets)},T.prototype.hasTarget=function(n,i){var s=this.mapToIds(n),c;for(c=0;c<s.length;c++)if(s[c]===i)return!0;return!1},T.prototype.isTargetToShow=function(n){return this.hiddenTargetIds.indexOf(n)<0},T.prototype.isLegendToShow=function(n){return this.hiddenLegendIds.indexOf(n)<0},T.prototype.getTargetsToShow=function(){var n=this;return n.filterTargetsToShow(n.data.targets)},T.prototype.filterTargetsToShow=function(n){var i=this;return n.filter(function(s){return i.isTargetToShow(s.id)})},T.prototype.getTargets=function(){var n=this;return n.data.targets},T.prototype.mapTargetsToUniqueXs=function(n){var i=this,s=i.d3.set(i.d3.merge(n.map(function(c){return c.values.map(function(g){return+g.x})}))).values();return s=i.isTimeSeries()?s.map(function(c){return new Date(+c)}):s.map(function(c){return+c}),s.sort(function(c,g){return c<g?-1:c>g?1:c>=g?0:NaN})},T.prototype.addHiddenTargetIds=function(n){n=n instanceof Array?n:new Array(n);for(var i=0;i<n.length;i++)this.hiddenTargetIds.indexOf(n[i])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(n[i]));this.resetCache()},T.prototype.removeHiddenTargetIds=function(n){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(i){return n.indexOf(i)<0}),this.resetCache()},T.prototype.addHiddenLegendIds=function(n){n=n instanceof Array?n:new Array(n);for(var i=0;i<n.length;i++)this.hiddenLegendIds.indexOf(n[i])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(n[i]))},T.prototype.removeHiddenLegendIds=function(n){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(i){return n.indexOf(i)<0})},T.prototype.getValuesAsIdKeyed=function(n){var i={};return n.forEach(function(s){i[s.id]=[],s.values.forEach(function(c){i[s.id].push(c.value)})}),i},T.prototype.checkValueInTargets=function(n,i){var s=Object.keys(n),c,g,v;for(c=0;c<s.length;c++)for(v=n[s[c]].values,g=0;g<v.length;g++)if(i(v[g].value))return!0;return!1},T.prototype.hasNegativeValueInTargets=function(n){return this.checkValueInTargets(n,function(i){return i<0})},T.prototype.hasPositiveValueInTargets=function(n){return this.checkValueInTargets(n,function(i){return i>0})},T.prototype.isOrderDesc=function(){var n=this.config;return typeof n.data_order=="string"&&n.data_order.toLowerCase()==="desc"},T.prototype.isOrderAsc=function(){var n=this.config;return typeof n.data_order=="string"&&n.data_order.toLowerCase()==="asc"},T.prototype.getOrderFunction=function(){var n=this,i=n.config,s=n.isOrderAsc(),c=n.isOrderDesc();if(s||c){var g=function(A,$){return A+Math.abs($.value)};return function(w,A){var $=w.values.reduce(g,0),C=A.values.reduce(g,0);return s?C-$:$-C}}else{if(zt(i.data_order))return i.data_order;if(Mi(i.data_order)){var v=i.data_order;return function(w,A){return v.indexOf(w.id)-v.indexOf(A.id)}}}},T.prototype.orderTargets=function(n){var i=this.getOrderFunction();return i&&n.sort(i),n},T.prototype.filterByIndex=function(n,i){return this.d3.merge(n.map(function(s){return s.values.filter(function(c){return c.index===i})}))},T.prototype.filterByX=function(n,i){return this.d3.merge(n.map(function(s){return s.values})).filter(function(s){return s.x-i===0})},T.prototype.filterRemoveNull=function(n){return n.filter(function(i){return Et(i.value)})},T.prototype.filterByXDomain=function(n,i){return n.map(function(s){return{id:s.id,id_org:s.id_org,values:s.values.filter(function(c){return i[0]<=c.x&&c.x<=i[1]})}})},T.prototype.hasDataLabel=function(){var n=this.config;return typeof n.data_labels=="boolean"&&n.data_labels?!0:!!(m(n.data_labels)==="object"&&he(n.data_labels))},T.prototype.getDataLabelLength=function(n,i,s){var c=this,g=[0,0],v=1.3;return c.selectChart.select("svg").selectAll(".dummy").data([n,i]).enter().append("text").text(function(w){return c.dataLabelFormat(w.id)(w)}).each(function(w,A){g[A]=qe(this)[s]*v}).remove(),g},T.prototype.isNoneArc=function(n){return this.hasTarget(this.data.targets,n.id)},T.prototype.isArc=function(n){return"data"in n&&this.hasTarget(this.data.targets,n.data.id)},T.prototype.findClosestFromTargets=function(n,i){var s=this,c=n.map(function(g){return s.findClosest(g.values,i,s.config.tooltip_horizontal?s.horizontalDistance.bind(s):s.dist.bind(s),s.config.point_sensitivity)}).filter(function(g){return g});if(c.length!==0)return c.length===1?c[0]:s.findClosest(c,i,s.dist.bind(s))},T.prototype.findClosestFromTargetsByX=function(n,i){var s,c;return n.forEach(function(g){g.values.forEach(function(v){var w=Math.abs(i-v.x);(c===void 0||w<c)&&(s=v,c=w)})}),s},T.prototype.findClosest=function(n,i,s){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0,g=this,v;return n.filter(function(w){return w&&g.isBarType(w.id)}).forEach(function(w){if(!v){var A=g.main.select("."+k.bars+g.getTargetSelectorSuffix(w.id)+" ."+k.bar+"-"+w.index).node();g.isWithinBar(i,A)&&(v=w)}}),n.filter(function(w){return w&&!g.isBarType(w.id)}).forEach(function(w){var A=s(w,i);A<c&&(c=A,v=w)}),v},T.prototype.dist=function(n,i){var s=this,c=s.config,g=c.axis_rotated?1:0,v=c.axis_rotated?0:1,w=s.circleY(n,n.index),A=s.x(n.x);return Math.sqrt(Math.pow(A-i[g],2)+Math.pow(w-i[v],2))},T.prototype.horizontalDistance=function(n,i){var s=this,c=s.config,g=c.axis_rotated?1:0,v=s.x(n.x);return Math.abs(v-i[g])},T.prototype.convertValuesToStep=function(n){var i=[].concat(n),s;if(!this.isCategorized())return n;for(s=n.length+1;0<s;s--)i[s]=i[s-1];return i[0]={x:i[0].x-1,value:i[0].value,id:i[0].id},i[n.length+1]={x:i[n.length].x+1,value:i[n.length].value,id:i[n.length].id},i},T.prototype.getRatio=function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=this,g=c.api,v=0;if(i&&g.data.shown.call(g).length){if(v=i.ratio||i.value,n==="arc")if(c.hasType("gauge"))v=(i.endAngle-i.startAngle)/(Math.PI*(c.config.gauge_fullCircle?2:1));else{var w=c.getTotalDataSum();v=i.value/w}else if(n==="index"){var A=c.getTotalPerIndex(c.axis.getId(i.id));i.ratio=$i(i.value)&&A&&A[i.index]>0?i.value/A[i.index]:0,v=i.ratio}}return s&&v?v*100:v},T.prototype.updateDataAttributes=function(n,i){var s=this,c=s.config,g=c["data_"+n];return typeof i>"u"||(Object.keys(i).forEach(function(v){g[v]=i[v]}),s.redraw({withLegend:!0})),g},T.prototype.load=function(n,i){var s=this;n&&(i.filter&&(n=n.filter(i.filter)),(i.type||i.types)&&n.forEach(function(c){var g=i.types&&i.types[c.id]?i.types[c.id]:i.type;s.setTargetType(c.id,g)}),s.data.targets.forEach(function(c){for(var g=0;g<n.length;g++)if(c.id===n[g].id){c.values=n[g].values,n.splice(g,1);break}}),s.data.targets=s.data.targets.concat(n)),s.updateTargets(s.data.targets),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),i.done&&i.done()},T.prototype.loadFromArgs=function(n){var i=this;i.resetCache(),n.data?i.load(i.convertDataToTargets(n.data),n):n.url?i.convertUrlToData(n.url,n.mimeType,n.headers,n.keys,function(s){i.load(i.convertDataToTargets(s),n)}):n.json?i.load(i.convertDataToTargets(i.convertJsonToData(n.json,n.keys)),n):n.rows?i.load(i.convertDataToTargets(i.convertRowsToData(n.rows)),n):n.columns?i.load(i.convertDataToTargets(i.convertColumnsToData(n.columns)),n):i.load(null,n)},T.prototype.unload=function(n,i){var s=this;if(s.resetCache(),i||(i=function(){}),n=n.filter(function(c){return s.hasTarget(s.data.targets,c)}),!n||n.length===0){i();return}s.svg.selectAll(n.map(function(c){return s.selectorTarget(c)})).transition().style("opacity",0).remove().call(s.endall,i),n.forEach(function(c){s.withoutFadeIn[c]=!1,s.legend&&s.legend.selectAll("."+k.legendItem+s.getTargetSelectorSuffix(c)).remove(),s.data.targets=s.data.targets.filter(function(g){return g.id!==c})})},T.prototype.getYDomainMin=function(n){var i=this,s=i.config,c=i.mapToIds(n),g=i.getValuesAsIdKeyed(n),v,w,A,$,C,O;if(s.data_groups.length>0){for(O=i.hasNegativeValueInTargets(n),v=0;v<s.data_groups.length;v++)if($=s.data_groups[v].filter(function(G){return c.indexOf(G)>=0}),$.length!==0)for(A=$[0],O&&g[A]&&g[A].forEach(function(G,Y){g[A][Y]=G<0?G:0}),w=1;w<$.length;w++)C=$[w],g[C]&&g[C].forEach(function(G,Y){i.axis.getId(C)===i.axis.getId(A)&&g[A]&&!(O&&+G>0)&&(g[A][Y]+=+G)})}return i.d3.min(Object.keys(g).map(function(G){return i.d3.min(g[G])}))},T.prototype.getYDomainMax=function(n){var i=this,s=i.config,c=i.mapToIds(n),g=i.getValuesAsIdKeyed(n),v,w,A,$,C,O;if(s.data_groups.length>0){for(O=i.hasPositiveValueInTargets(n),v=0;v<s.data_groups.length;v++)if($=s.data_groups[v].filter(function(G){return c.indexOf(G)>=0}),$.length!==0)for(A=$[0],O&&g[A]&&g[A].forEach(function(G,Y){g[A][Y]=G>0?G:0}),w=1;w<$.length;w++)C=$[w],g[C]&&g[C].forEach(function(G,Y){i.axis.getId(C)===i.axis.getId(A)&&g[A]&&!(O&&+G<0)&&(g[A][Y]+=+G)})}return i.d3.max(Object.keys(g).map(function(G){return i.d3.max(g[G])}))},T.prototype.getYDomain=function(n,i,s){var c=this,g=c.config;if(c.isAxisNormalized(i))return[0,100];var v=n.filter(function(ut){return c.axis.getId(ut.id)===i}),w=s?c.filterByXDomain(v,s):v,A=i==="y2"?g.axis_y2_min:g.axis_y_min,$=i==="y2"?g.axis_y2_max:g.axis_y_max,C=c.getYDomainMin(w),O=c.getYDomainMax(w),G,Y,D,U,q=i==="y2"?g.axis_y2_center:g.axis_y_center,K,ot,xt,kt,Ct,Ft,At=c.hasType("bar",w)&&g.bar_zerobased||c.hasType("area",w)&&g.area_zerobased,yt=i==="y2"?g.axis_y2_inverted:g.axis_y_inverted,Lt=c.hasDataLabel()&&g.axis_rotated,Ht=c.hasDataLabel()&&!g.axis_rotated;if(C=Et(A)?A:Et($)?C<$?C:$-10:C,O=Et($)?$:Et(A)?A<O?O:A+10:O,w.length===0)return i==="y2"?c.y2.domain():c.y.domain();if(isNaN(C)&&(C=0),isNaN(O)&&(O=C),C===O&&(C<0?O=0:C=0),Ct=C>=0&&O>=0,Ft=C<=0&&O<=0,(Et(A)&&Ct||Et($)&&Ft)&&(At=!1),At&&(Ct&&(C=0),Ft&&(O=0)),Y=Math.abs(O-C),D=U=Y*.1,typeof q<"u"&&(K=Math.max(Math.abs(C),Math.abs(O)),O=q+K,C=q-K),Lt)ot=c.getDataLabelLength(C,O,"width"),xt=ii(c.y.range()),kt=[ot[0]/xt,ot[1]/xt],D+=Y*(kt[1]/(1-kt[0]-kt[1])),U+=Y*(kt[0]/(1-kt[0]-kt[1]));else if(Ht){ot=c.getDataLabelLength(C,O,"height");var mt=c.getY(g["axis_".concat(i,"_type")],[0,g.axis_rotated?c.width:c.height],[0,Y]);D+=mt(ot[1]),U+=mt(ot[0])}return i==="y"&&he(g.axis_y_padding)&&(D=c.axis.getPadding(g.axis_y_padding,"top",D,Y),U=c.axis.getPadding(g.axis_y_padding,"bottom",U,Y)),i==="y2"&&he(g.axis_y2_padding)&&(D=c.axis.getPadding(g.axis_y2_padding,"top",D,Y),U=c.axis.getPadding(g.axis_y2_padding,"bottom",U,Y)),At&&(Ct&&(U=C),Ft&&(D=-O)),G=[C-U,O+D],yt?G.reverse():G},T.prototype.getXDomainMin=function(n){var i=this,s=i.config;return te(s.axis_x_min)?i.isTimeSeries()?this.parseDate(s.axis_x_min):s.axis_x_min:i.d3.min(n,function(c){return i.d3.min(c.values,function(g){return g.x})})},T.prototype.getXDomainMax=function(n){var i=this,s=i.config;return te(s.axis_x_max)?i.isTimeSeries()?this.parseDate(s.axis_x_max):s.axis_x_max:i.d3.max(n,function(c){return i.d3.max(c.values,function(g){return g.x})})},T.prototype.getXDomainPadding=function(n){var i=this,s=i.config,c=n[1]-n[0],g,v,w,A;return i.isCategorized()?v=0:i.hasType("bar")?(g=i.getMaxDataCount(),v=g>1?c/(g-1)/2:.5):v=c*.01,m(s.axis_x_padding)==="object"&&he(s.axis_x_padding)?(w=Et(s.axis_x_padding.left)?s.axis_x_padding.left:v,A=Et(s.axis_x_padding.right)?s.axis_x_padding.right:v):typeof s.axis_x_padding=="number"?w=A=s.axis_x_padding:w=A=v,{left:w,right:A}},T.prototype.getXDomain=function(n){var i=this,s=[i.getXDomainMin(n),i.getXDomainMax(n)],c=s[0],g=s[1],v=i.getXDomainPadding(s),w=0,A=0;return c-g===0&&!i.isCategorized()&&(i.isTimeSeries()?(c=new Date(c.getTime()*.5),g=new Date(g.getTime()*1.5)):(c=c===0?1:c*.5,g=g===0?-1:g*1.5)),(c||c===0)&&(w=i.isTimeSeries()?new Date(c.getTime()-v.left):c-v.left),(g||g===0)&&(A=i.isTimeSeries()?new Date(g.getTime()+v.right):g+v.right),[w,A]},T.prototype.updateXDomain=function(n,i,s,c,g){var v=this,w=v.config;return s&&(v.x.domain(g||v.d3.extent(v.getXDomain(n))),v.orgXDomain=v.x.domain(),w.zoom_enabled&&v.zoom.update(),v.subX.domain(v.x.domain()),v.brush&&v.brush.updateScale(v.subX)),i&&v.x.domain(g||(!v.brush||v.brush.empty()?v.orgXDomain:v.brush.selectionAsValue())),c&&v.x.domain(v.trimXDomain(v.x.orgDomain())),v.x.domain()},T.prototype.trimXDomain=function(n){var i=this.getZoomDomain(),s=i[0],c=i[1];return n[0]<=s&&(n[1]=+n[1]+(s-n[0]),n[0]=s),c<=n[1]&&(n[0]=+n[0]-(n[1]-c),n[1]=c),n},T.prototype.drag=function(n){var i=this,s=i.config,c=i.main,g=i.d3,v,w,A,$,C,O,G,Y;i.hasArcType()||s.data_selection_enabled&&s.data_selection_multiple&&(v=i.dragStart[0],w=i.dragStart[1],A=n[0],$=n[1],C=Math.min(v,A),O=Math.max(v,A),G=s.data_selection_grouped?i.margin.top:Math.min(w,$),Y=s.data_selection_grouped?i.height:Math.max(w,$),c.select("."+k.dragarea).attr("x",C).attr("y",G).attr("width",O-C).attr("height",Y-G),c.selectAll("."+k.shapes).selectAll("."+k.shape).each(function(D,U){if(s.data_selection_isselectable(D)){var q=g.select(this),K=q.classed(k.SELECTED),ot=q.classed(k.INCLUDED),xt,kt,Ct,Ft,At,yt=!1,Lt;if(q.classed(k.circle))xt=q.attr("cx")*1,kt=q.attr("cy")*1,At=i.togglePoint,yt=C<xt&&xt<O&&G<kt&&kt<Y;else if(q.classed(k.bar))Lt=Li(this),xt=Lt.x,kt=Lt.y,Ct=Lt.width,Ft=Lt.height,At=i.togglePath,yt=!(O<xt||xt+Ct<C)&&!(Y<kt||kt+Ft<G);else return;yt^ot&&(q.classed(k.INCLUDED,!ot),q.classed(k.SELECTED,!K),At.call(i,!K,q,D,U))}}))},T.prototype.dragstart=function(n){var i=this,s=i.config;i.hasArcType()||s.data_selection_enabled&&(i.dragStart=n,i.main.select("."+k.chart).append("rect").attr("class",k.dragarea).style("opacity",.1),i.dragging=!0)},T.prototype.dragend=function(){var n=this,i=n.config;n.hasArcType()||i.data_selection_enabled&&(n.main.select("."+k.dragarea).transition().duration(100).style("opacity",0).remove(),n.main.selectAll("."+k.shape).classed(k.INCLUDED,!1),n.dragging=!1)},T.prototype.getYFormat=function(n){var i=this,s=n&&!i.hasType("gauge")?i.defaultArcValueFormat:i.yFormat,c=n&&!i.hasType("gauge")?i.defaultArcValueFormat:i.y2Format;return function(g,v,w){var A=i.axis.getId(w)==="y2"?c:s;return A.call(i,g,v)}},T.prototype.yFormat=function(n){var i=this,s=i.config,c=s.axis_y_tick_format?s.axis_y_tick_format:i.defaultValueFormat;return c(n)},T.prototype.y2Format=function(n){var i=this,s=i.config,c=s.axis_y2_tick_format?s.axis_y2_tick_format:i.defaultValueFormat;return c(n)},T.prototype.defaultValueFormat=function(n){return Et(n)?+n:""},T.prototype.defaultArcValueFormat=function(n,i){return(i*100).toFixed(1)+"%"},T.prototype.dataLabelFormat=function(n){var i=this,s=i.config.data_labels,c,g=function(w){return Et(w)?+w:""};return typeof s.format=="function"?c=s.format:m(s.format)==="object"?s.format[n]?c=s.format[n]===!0?g:s.format[n]:c=function(){return""}:c=g,c},T.prototype.initGrid=function(){var n=this,i=n.config,s=n.d3;n.grid=n.main.append("g").attr("clip-path",n.clipPathForGrid).attr("class",k.grid),i.grid_x_show&&n.grid.append("g").attr("class",k.xgrids),i.grid_y_show&&n.grid.append("g").attr("class",k.ygrids),i.grid_focus_show&&n.grid.append("g").attr("class",k.xgridFocus).append("line").attr("class",k.xgridFocus),n.xgrid=s.selectAll([]),i.grid_lines_front||n.initGridLines()},T.prototype.initGridLines=function(){var n=this,i=n.d3;n.gridLines=n.main.append("g").attr("clip-path",n.clipPathForGrid).attr("class",k.grid+" "+k.gridLines),n.gridLines.append("g").attr("class",k.xgridLines),n.gridLines.append("g").attr("class",k.ygridLines),n.xgridLines=i.selectAll([])},T.prototype.updateXGrid=function(n){var i=this,s=i.config,c=i.d3,g=i.generateGridData(s.grid_x_type,i.x),v=i.isCategorized()?i.xAxis.tickOffset():0;i.xgridAttr=s.axis_rotated?{x1:0,x2:i.width,y1:function(C){return i.x(C)-v},y2:function(C){return i.x(C)-v}}:{x1:function(C){return i.x(C)+v},x2:function(C){return i.x(C)+v},y1:0,y2:i.height},i.xgridAttr.opacity=function(){var $=+c.select(this).attr(s.axis_rotated?"y1":"x1");return $===(s.axis_rotated?i.height:0)?0:1};var w=i.main.select("."+k.xgrids).selectAll("."+k.xgrid).data(g),A=w.enter().append("line").attr("class",k.xgrid).attr("x1",i.xgridAttr.x1).attr("x2",i.xgridAttr.x2).attr("y1",i.xgridAttr.y1).attr("y2",i.xgridAttr.y2).style("opacity",0);i.xgrid=A.merge(w),n||i.xgrid.attr("x1",i.xgridAttr.x1).attr("x2",i.xgridAttr.x2).attr("y1",i.xgridAttr.y1).attr("y2",i.xgridAttr.y2).style("opacity",i.xgridAttr.opacity),w.exit().remove()},T.prototype.updateYGrid=function(){var n=this,i=n.config,s=n.yAxis.tickValues()||n.y.ticks(i.grid_y_ticks),c=n.main.select("."+k.ygrids).selectAll("."+k.ygrid).data(s),g=c.enter().append("line").attr("class",k.ygrid);n.ygrid=g.merge(c),n.ygrid.attr("x1",i.axis_rotated?n.y:0).attr("x2",i.axis_rotated?n.y:n.width).attr("y1",i.axis_rotated?0:n.y).attr("y2",i.axis_rotated?n.height:n.y),c.exit().remove(),n.smoothLines(n.ygrid,"grid")},T.prototype.gridTextAnchor=function(n){return n.position?n.position:"end"},T.prototype.gridTextDx=function(n){return n.position==="start"?4:n.position==="middle"?0:-4},T.prototype.xGridTextX=function(n){return n.position==="start"?-this.height:n.position==="middle"?-this.height/2:0},T.prototype.yGridTextX=function(n){return n.position==="start"?0:n.position==="middle"?this.width/2:this.width},T.prototype.updateGrid=function(n){var i=this,s=i.main,c=i.config,g,v,w,A,$=i.xv.bind(i),C=i.yv.bind(i),O=i.xGridTextX.bind(i),G=i.yGridTextX.bind(i);i.grid.style("visibility",i.hasArcType()?"hidden":"visible"),s.select("line."+k.xgridFocus).style("visibility","hidden"),c.grid_x_show&&i.updateXGrid(),g=s.select("."+k.xgridLines).selectAll("."+k.xgridLine).data(c.grid_x_lines),v=g.enter().append("g").attr("class",function(Y){return k.xgridLine+(Y.class?" "+Y.class:"")}),v.append("line").attr("x1",c.axis_rotated?0:$).attr("x2",c.axis_rotated?i.width:$).attr("y1",c.axis_rotated?$:0).attr("y2",c.axis_rotated?$:i.height).style("opacity",0),v.append("text").attr("text-anchor",i.gridTextAnchor).attr("transform",c.axis_rotated?"":"rotate(-90)").attr("x",c.axis_rotated?G:O).attr("y",$).attr("dx",i.gridTextDx).attr("dy",-5).style("opacity",0),i.xgridLines=v.merge(g),g.exit().transition().duration(n).style("opacity",0).remove(),c.grid_y_show&&i.updateYGrid(),w=s.select("."+k.ygridLines).selectAll("."+k.ygridLine).data(c.grid_y_lines),A=w.enter().append("g").attr("class",function(Y){return k.ygridLine+(Y.class?" "+Y.class:"")}),A.append("line").attr("x1",c.axis_rotated?C:0).attr("x2",c.axis_rotated?C:i.width).attr("y1",c.axis_rotated?0:C).attr("y2",c.axis_rotated?i.height:C).style("opacity",0),A.append("text").attr("text-anchor",i.gridTextAnchor).attr("transform",c.axis_rotated?"rotate(-90)":"").attr("x",c.axis_rotated?O:G).attr("y",C).attr("dx",i.gridTextDx).attr("dy",-5).style("opacity",0),i.ygridLines=A.merge(w),i.ygridLines.select("line").transition().duration(n).attr("x1",c.axis_rotated?C:0).attr("x2",c.axis_rotated?C:i.width).attr("y1",c.axis_rotated?0:C).attr("y2",c.axis_rotated?i.height:C).style("opacity",1),i.ygridLines.select("text").transition().duration(n).attr("x",c.axis_rotated?i.xGridTextX.bind(i):i.yGridTextX.bind(i)).attr("y",C).text(function(Y){return Y.text}).style("opacity",1),w.exit().transition().duration(n).style("opacity",0).remove()},T.prototype.redrawGrid=function(n,i){var s=this,c=s.config,g=s.xv.bind(s),v=s.xgridLines.select("line"),w=s.xgridLines.select("text");return[(n?v.transition(i):v).attr("x1",c.axis_rotated?0:g).attr("x2",c.axis_rotated?s.width:g).attr("y1",c.axis_rotated?g:0).attr("y2",c.axis_rotated?g:s.height).style("opacity",1),(n?w.transition(i):w).attr("x",c.axis_rotated?s.yGridTextX.bind(s):s.xGridTextX.bind(s)).attr("y",g).text(function(A){return A.text}).style("opacity",1)]},T.prototype.showXGridFocus=function(n){var i=this,s=i.config,c=n.filter(function(w){return w&&Et(w.value)}),g=i.main.selectAll("line."+k.xgridFocus),v=i.xx.bind(i);s.tooltip_show&&(i.hasType("stanford")||i.hasArcType()||(g.style("visibility","visible").data([c[0]]).attr(s.axis_rotated?"y1":"x1",v).attr(s.axis_rotated?"y2":"x2",v),i.smoothLines(g,"grid")))},T.prototype.hideXGridFocus=function(){this.main.select("line."+k.xgridFocus).style("visibility","hidden")},T.prototype.updateXgridFocus=function(){var n=this,i=n.config;n.main.select("line."+k.xgridFocus).attr("x1",i.axis_rotated?0:-10).attr("x2",i.axis_rotated?n.width:-10).attr("y1",i.axis_rotated?-10:0).attr("y2",i.axis_rotated?-10:n.height)},T.prototype.generateGridData=function(n,i){var s=this,c=[],g,v,w,A,$=s.main.select("."+k.axisX).selectAll(".tick").size();if(n==="year")for(g=s.getXDomain(),v=g[0].getFullYear(),w=g[1].getFullYear(),A=v;A<=w;A++)c.push(new Date(A+"-01-01 00:00:00"));else c=i.ticks(10),c.length>$&&(c=c.filter(function(C){return(""+C).indexOf(".")<0}));return c},T.prototype.getGridFilterToRemove=function(n){return n?function(i){var s=!1;return[].concat(n).forEach(function(c){("value"in c&&i.value===c.value||"class"in c&&i.class===c.class)&&(s=!0)}),s}:function(){return!0}},T.prototype.removeGridLines=function(n,i){var s=this,c=s.config,g=s.getGridFilterToRemove(n),v=function(C){return!g(C)},w=i?k.xgridLines:k.ygridLines,A=i?k.xgridLine:k.ygridLine;s.main.select("."+w).selectAll("."+A).filter(g).transition().duration(c.transition_duration).style("opacity",0).remove(),i?c.grid_x_lines=c.grid_x_lines.filter(v):c.grid_y_lines=c.grid_y_lines.filter(v)},T.prototype.initEventRect=function(){var n=this,i=n.config;n.main.select("."+k.chart).append("g").attr("class",k.eventRects).style("fill-opacity",0),n.eventRect=n.main.select("."+k.eventRects).append("rect").attr("class",k.eventRect),i.zoom_enabled&&n.zoom&&(n.eventRect.call(n.zoom).on("dblclick.zoom",null),i.zoom_initialRange&&n.eventRect.transition().duration(0).call(n.zoom.transform,n.zoomTransform(i.zoom_initialRange)))},T.prototype.redrawEventRect=function(){var n=this,i=n.d3,s=n.config;function c(){n.svg.select("."+k.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var g=function(A,$){return $&&(n.isBarType($.id)||n.dist($,A)<s.point_sensitivity)},v=function(A){return A?n.addName(Object.assign({},A)):null};n.main.select("."+k.eventRects).style("cursor",s.zoom_enabled?s.axis_rotated?"ns-resize":"ew-resize":null),n.eventRect.attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).on("mouseout",s.interaction_enabled?function(){s&&(n.hasArcType()||(n.mouseover&&(s.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),c()))}:null).on("mousemove",s.interaction_enabled?function(){if(!n.dragging){var w=n.getTargetsToShow();if(!n.hasArcType(w)){var A=i.mouse(this),$=v(n.findClosestFromTargets(w,A)),C=g(A,$);n.mouseover&&(!$||$.id!==n.mouseover.id||$.index!==n.mouseover.index)&&(s.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),$&&!n.mouseover&&(s.data_onmouseover.call(n.api,$),n.mouseover=$),n.svg.select("."+k.eventRect).style("cursor",C?"pointer":null);var O=!s.tooltip_grouped||n.hasType("stanford",w),G;if(O)$&&(G=[$]);else{var Y;if($)Y=$;else{var D=s.axis_rotated?A[1]:A[0];Y=n.findClosestFromTargetsByX(w,n.x.invert(D))}Y&&(G=n.filterByX(w,Y.x))}if(!G||G.length===0)return c();G=G.map(v),n.showTooltip(G,this),s.point_focus_expand_enabled&&(n.unexpandCircles(),G.forEach(function(U){n.expandCircles(U.index,U.id,!1)})),n.unexpandBars(),G.forEach(function(U){n.expandBars(U.index,U.id,!1)}),n.showXGridFocus(G)}}}:null).on("click",s.interaction_enabled?function(){var w=n.getTargetsToShow();if(!n.hasArcType(w)){var A=i.mouse(this),$=v(n.findClosestFromTargets(w,A));if(g(A,$)){var C;if(!s.data_selection_grouped||n.isStanfordType($)?C=[$]:C=n.filterByX(w,$.x),C.forEach(function(G){n.main.selectAll("."+k.shapes+n.getTargetSelectorSuffix(G.id)).selectAll("."+k.shape+"-"+G.index).each(function(){(s.data_selection_grouped||n.isWithinShape(this,G))&&n.toggleShape(this,G,G.index)})}),$){var O=n.main.selectAll("."+k.shapes+n.getTargetSelectorSuffix($.id)).select("."+k.shape+"-"+$.index);s.data_onclick.call(n.api,$,O.node())}}}}:null).call(s.interaction_enabled&&s.data_selection_draggable&&n.drag?i.drag().on("drag",function(){n.drag(i.mouse(this))}).on("start",function(){n.dragstart(i.mouse(this))}).on("end",function(){n.dragend()}):function(){})},T.prototype.getMousePosition=function(n){var i=this;return[i.x(n.x),i.getYScale(n.id)(n.value)]},T.prototype.dispatchEvent=function(n,i){var s=this,c="."+k.eventRect,g=s.main.select(c).node(),v=g.getBoundingClientRect(),w=v.left+(i?i[0]:0),A=v.top+(i?i[1]:0),$=document.createEvent("MouseEvents");$.initMouseEvent(n,!0,!0,window,0,w,A,w,A,!1,!1,!1,!1,0,null),g.dispatchEvent($)},T.prototype.initLegend=function(){var n=this;if(n.legendItemTextBox={},n.legendHasRendered=!1,n.legend=n.svg.append("g").attr("transform",n.getTranslate("legend")),!n.config.legend_show){n.legend.style("visibility","hidden"),n.hiddenLegendIds=n.mapToIds(n.data.targets);return}n.updateLegendWithDefaults()},T.prototype.updateLegendWithDefaults=function(){var n=this;n.updateLegend(n.mapToIds(n.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},T.prototype.updateSizeForLegend=function(n,i){var s=this,c=s.config,g={top:s.isLegendTop?s.getCurrentPaddingTop()+c.legend_inset_y+5.5:s.currentHeight-n-s.getCurrentPaddingBottom()-c.legend_inset_y,left:s.isLegendLeft?s.getCurrentPaddingLeft()+c.legend_inset_x+.5:s.currentWidth-i-s.getCurrentPaddingRight()-c.legend_inset_x+.5};s.margin3={top:s.isLegendRight?0:s.isLegendInset?g.top:s.currentHeight-n,right:NaN,bottom:0,left:s.isLegendRight?s.currentWidth-i:s.isLegendInset?g.left:0}},T.prototype.transformLegend=function(n){var i=this;(n?i.legend.transition():i.legend).attr("transform",i.getTranslate("legend"))},T.prototype.updateLegendStep=function(n){this.legendStep=n},T.prototype.updateLegendItemWidth=function(n){this.legendItemWidth=n},T.prototype.updateLegendItemHeight=function(n){this.legendItemHeight=n},T.prototype.getLegendWidth=function(){var n=this;return n.config.legend_show?n.isLegendRight||n.isLegendInset?n.legendItemWidth*(n.legendStep+1):n.currentWidth:0},T.prototype.getLegendHeight=function(){var n=this,i=0;return n.config.legend_show&&(n.isLegendRight?i=n.currentHeight:i=Math.max(20,n.legendItemHeight)*(n.legendStep+1)),i},T.prototype.opacityForLegend=function(n){return n.classed(k.legendItemHidden)?null:1},T.prototype.opacityForUnfocusedLegend=function(n){return n.classed(k.legendItemHidden)?null:.3},T.prototype.toggleFocusLegend=function(n,i){var s=this;n=s.mapToTargetIds(n),s.legend.selectAll("."+k.legendItem).filter(function(c){return n.indexOf(c)>=0}).classed(k.legendItemFocused,i).transition().duration(100).style("opacity",function(){var c=i?s.opacityForLegend:s.opacityForUnfocusedLegend;return c.call(s,s.d3.select(this))})},T.prototype.revertLegend=function(){var n=this,i=n.d3;n.legend.selectAll("."+k.legendItem).classed(k.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return n.opacityForLegend(i.select(this))})},T.prototype.showLegend=function(n){var i=this,s=i.config;s.legend_show||(s.legend_show=!0,i.legend.style("visibility","visible"),i.legendHasRendered||i.updateLegendWithDefaults()),i.removeHiddenLegendIds(n),i.legend.selectAll(i.selectorLegends(n)).style("visibility","visible").transition().style("opacity",function(){return i.opacityForLegend(i.d3.select(this))})},T.prototype.hideLegend=function(n){var i=this,s=i.config;s.legend_show&&lr(n)&&(s.legend_show=!1,i.legend.style("visibility","hidden")),i.addHiddenLegendIds(n),i.legend.selectAll(i.selectorLegends(n)).style("opacity",0).style("visibility","hidden")},T.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},T.prototype.updateLegend=function(n,i,s){var c=this,g=c.config,v,w,A,$,C,O,G,Y,D,U=4,q=10,K=0,ot=0,xt=10,kt=g.legend_item_tile_width+5,Ct,Ft=0,At={},yt={},Lt={},Ht=[0],mt={},ut=0,lt,Jt,we,be,se,de;n=n.filter(function(it){return!te(g.data_names[it])||g.data_names[it]!==null}),i=i||{},lt=qt(i,"withTransition",!0),Jt=qt(i,"withTransitionForTransform",!0);function ce(it,ht){return c.legendItemTextBox[ht]||(c.legendItemTextBox[ht]=c.getTextRect(it.textContent,k.legendItem,it)),c.legendItemTextBox[ht]}function Qt(it,ht,jt){var En=jt===0,dr=jt===n.length-1,fn=ce(it,ht),Qe=fn.width+kt+(dr&&!(c.isLegendRight||c.isLegendInset)?0:q)+g.legend_padding,ye=fn.height+U,xn=c.isLegendRight||c.isLegendInset?ye:Qe,ki=c.isLegendRight||c.isLegendInset?c.getLegendHeight():c.getLegendWidth(),Hn,Ea;function gr(wn,Es){Es||(Hn=(ki-Ft-xn)/2,Hn<xt&&(Hn=(ki-xn)/2,Ft=0,ut++)),mt[wn]=ut,Ht[ut]=c.isLegendInset?10:Hn,At[wn]=Ft,Ft+=xn}if(En&&(Ft=0,ut=0,K=0,ot=0),g.legend_show&&!c.isLegendToShow(ht)){yt[ht]=Lt[ht]=mt[ht]=At[ht]=0;return}yt[ht]=Qe,Lt[ht]=ye,(!K||Qe>=K)&&(K=Qe),(!ot||ye>=ot)&&(ot=ye),Ea=c.isLegendRight||c.isLegendInset?ot:K,g.legend_equally?(Object.keys(yt).forEach(function(wn){yt[wn]=K}),Object.keys(Lt).forEach(function(wn){Lt[wn]=ot}),Hn=(ki-Ea*n.length)/2,Hn<xt?(Ft=0,ut=0,n.forEach(function(wn){gr(wn)})):gr(ht,!0)):gr(ht)}c.isLegendInset&&(ut=g.legend_inset_step?g.legend_inset_step:n.length,c.updateLegendStep(ut)),c.isLegendRight?(v=function(ht){return K*mt[ht]},$=function(ht){return Ht[mt[ht]]+At[ht]}):c.isLegendInset?(v=function(ht){return K*mt[ht]+10},$=function(ht){return Ht[mt[ht]]+At[ht]}):(v=function(ht){return Ht[mt[ht]]+At[ht]},$=function(ht){return ot*mt[ht]}),w=function(ht,jt){return v(ht,jt)+4+g.legend_item_tile_width},C=function(ht,jt){return $(ht,jt)+9},A=function(ht,jt){return v(ht,jt)},O=function(ht,jt){return $(ht,jt)-5},G=function(ht,jt){return v(ht,jt)-2},Y=function(ht,jt){return v(ht,jt)-2+g.legend_item_tile_width},D=function(ht,jt){return $(ht,jt)+4},Ct=c.legend.selectAll("."+k.legendItem).data(n).enter().append("g").attr("class",function(it){return c.generateClass(k.legendItem,it)}).style("visibility",function(it){return c.isLegendToShow(it)?"visible":"hidden"}).style("cursor",function(){return g.interaction_enabled?"pointer":"auto"}).on("click",g.interaction_enabled?function(it){g.legend_item_onclick?g.legend_item_onclick.call(c,it):c.d3.event.altKey?(c.api.hide(),c.api.show(it)):(c.api.toggle(it),c.isTargetToShow(it)?c.api.focus(it):c.api.revert())}:null).on("mouseover",g.interaction_enabled?function(it){g.legend_item_onmouseover?g.legend_item_onmouseover.call(c,it):(c.d3.select(this).classed(k.legendItemFocused,!0),!c.transiting&&c.isTargetToShow(it)&&c.api.focus(it))}:null).on("mouseout",g.interaction_enabled?function(it){g.legend_item_onmouseout?g.legend_item_onmouseout.call(c,it):(c.d3.select(this).classed(k.legendItemFocused,!1),c.api.revert())}:null),Ct.append("text").text(function(it){return te(g.data_names[it])?g.data_names[it]:it}).each(function(it,ht){Qt(this,it,ht)}).style("pointer-events","none").attr("x",c.isLegendRight||c.isLegendInset?w:-200).attr("y",c.isLegendRight||c.isLegendInset?-200:C),Ct.append("rect").attr("class",k.legendItemEvent).style("fill-opacity",0).attr("x",c.isLegendRight||c.isLegendInset?A:-200).attr("y",c.isLegendRight||c.isLegendInset?-200:O),Ct.append("line").attr("class",k.legendItemTile).style("stroke",c.color).style("pointer-events","none").attr("x1",c.isLegendRight||c.isLegendInset?G:-200).attr("y1",c.isLegendRight||c.isLegendInset?-200:D).attr("x2",c.isLegendRight||c.isLegendInset?Y:-200).attr("y2",c.isLegendRight||c.isLegendInset?-200:D).attr("stroke-width",g.legend_item_tile_height),de=c.legend.select("."+k.legendBackground+" rect"),c.isLegendInset&&K>0&&de.size()===0&&(de=c.legend.insert("g","."+k.legendItem).attr("class",k.legendBackground).append("rect")),we=c.legend.selectAll("text").data(n).text(function(it){return te(g.data_names[it])?g.data_names[it]:it}).each(function(it,ht){Qt(this,it,ht)}),(lt?we.transition():we).attr("x",w).attr("y",C),be=c.legend.selectAll("rect."+k.legendItemEvent).data(n),(lt?be.transition():be).attr("width",function(it){return yt[it]}).attr("height",function(it){return Lt[it]}).attr("x",A).attr("y",O),se=c.legend.selectAll("line."+k.legendItemTile).data(n),(lt?se.transition():se).style("stroke",c.levelColor?function(it){return c.levelColor(c.cache[it].values.reduce(function(ht,jt){return ht+jt.value},0))}:c.color).attr("x1",G).attr("y1",D).attr("x2",Y).attr("y2",D),de&&(lt?de.transition():de).attr("height",c.getLegendHeight()-12).attr("width",K*(ut+1)+10),c.legend.selectAll("."+k.legendItem).classed(k.legendItemHidden,function(it){return!c.isTargetToShow(it)}),c.updateLegendItemWidth(K),c.updateLegendItemHeight(ot),c.updateLegendStep(ut),c.updateSizes(),c.updateScales(),c.updateSvgSize(),c.transformAll(Jt,s),c.legendHasRendered=!0},T.prototype.initRegion=function(){var n=this;n.region=n.main.append("g").attr("clip-path",n.clipPath).attr("class",k.regions)},T.prototype.updateRegion=function(n){var i=this,s=i.config;i.region.style("visibility",i.hasArcType()?"hidden":"visible");var c=i.main.select("."+k.regions).selectAll("."+k.region).data(s.regions),g=c.enter().append("g");g.append("rect").attr("x",i.regionX.bind(i)).attr("y",i.regionY.bind(i)).attr("width",i.regionWidth.bind(i)).attr("height",i.regionHeight.bind(i)).style("fill-opacity",function(v){return Et(v.opacity)?v.opacity:.1}),g.append("text").text(i.labelRegion.bind(i)),i.mainRegion=g.merge(c).attr("class",i.classRegion.bind(i)),c.exit().transition().duration(n).style("opacity",0).remove()},T.prototype.redrawRegion=function(n,i){var s=this,c=s.mainRegion,g=s.mainRegion.selectAll("text");return[(n?c.transition(i):c).attr("x",s.regionX.bind(s)).attr("y",s.regionY.bind(s)).attr("width",s.regionWidth.bind(s)).attr("height",s.regionHeight.bind(s)).style("fill-opacity",function(v){return Et(v.opacity)?v.opacity:.1}),(n?g.transition(i):g).attr("x",s.labelOffsetX.bind(s)).attr("y",s.labelOffsetY.bind(s)).attr("transform",s.labelTransform.bind(s)).attr("style","text-anchor: left;")]},T.prototype.regionX=function(n){var i=this,s=i.config,c,g=n.axis==="y"?i.y:i.y2;return n.axis==="y"||n.axis==="y2"?c=s.axis_rotated&&"start"in n?g(n.start):0:c=s.axis_rotated?0:"start"in n?i.x(i.isTimeSeries()?i.parseDate(n.start):n.start):0,c},T.prototype.regionY=function(n){var i=this,s=i.config,c,g=n.axis==="y"?i.y:i.y2;return n.axis==="y"||n.axis==="y2"?c=s.axis_rotated?0:"end"in n?g(n.end):0:c=s.axis_rotated&&"start"in n?i.x(i.isTimeSeries()?i.parseDate(n.start):n.start):0,c},T.prototype.regionWidth=function(n){var i=this,s=i.config,c=i.regionX(n),g,v=n.axis==="y"?i.y:i.y2;return n.axis==="y"||n.axis==="y2"?g=s.axis_rotated&&"end"in n?v(n.end):i.width:g=s.axis_rotated?i.width:"end"in n?i.x(i.isTimeSeries()?i.parseDate(n.end):n.end):i.width,g<c?0:g-c},T.prototype.regionHeight=function(n){var i=this,s=i.config,c=this.regionY(n),g,v=n.axis==="y"?i.y:i.y2;return n.axis==="y"||n.axis==="y2"?g=s.axis_rotated?i.height:"start"in n?v(n.start):i.height:g=s.axis_rotated&&"end"in n?i.x(i.isTimeSeries()?i.parseDate(n.end):n.end):i.height,g<c?0:g-c},T.prototype.isRegionOnX=function(n){return!n.axis||n.axis==="x"},T.prototype.labelRegion=function(n){return"label"in n?n.label:""},T.prototype.labelTransform=function(n){return"vertical"in n&&n.vertical?"rotate(90)":""},T.prototype.labelOffsetX=function(n){var i="paddingX"in n?n.paddingX:3,s="paddingY"in n?n.paddingY:3;return"vertical"in n&&n.vertical?this.regionY(n)+s:this.regionX(n)+i},T.prototype.labelOffsetY=function(n){var i="paddingX"in n?n.paddingX:3,s="paddingY"in n?n.paddingY:3;return"vertical"in n&&n.vertical?-(this.regionX(n)+i):this.regionY(n)+10+s};function Ei(n,i,s){var c=[.01,10];i||(i=n.scaleLinear(),i.range(c)),s||(s=n.scaleLog(),s.domain(c),s.nice());function g(w,A,$){var C,O,G,Y;if(arguments.length<3)$=10;else if($===0)return[];O=$-1,Y=(A-w)/O,C=new Array($),G=w,C[0]=Math.pow(10,G);for(var D=1;D<O;D++)G+=Y,C[D]=Math.pow(10,G);return C[O]=Math.pow(10,A),C}function v(w){return s(i(w))}return v.domain=function(w){return arguments.length?(i.domain(w),v):i.domain()},v.range=function(w){return arguments.length?(s.range(w),v):s.range()},v.ticks=function(w){return g(-2,1,w||10).map(function(A){return i.invert(A)})},v.copy=function(){return Ei(n,i.copy(),s.copy())},v}T.prototype.getScale=function(n,i,s){return(s?this.d3.scaleTime():this.d3.scaleLinear()).range([n,i])},T.prototype.getX=function(n,i,s,c){var g=this,v=g.getScale(n,i,g.isTimeSeries()),w=s?v.domain(s):v,A;g.isCategorized()?(c=c||function(){return 0},v=function(C,O){var G=w(C)+c(C);return O?G:Math.ceil(G)}):v=function(C,O){var G=w(C);return O?G:Math.ceil(G)};for(A in w)v[A]=w[A];return v.orgDomain=function(){return w.domain()},g.isCategorized()&&(v.domain=function($){return arguments.length?(w.domain($),v):($=this.orgDomain(),[$[0],$[1]+1])}),v},T.prototype.getY=function(n,i,s){var c;if(n==="timeseries"||n==="time")c=this.d3.scaleTime();else if(n==="log")c=Ei(this.d3);else if(n==="linear"||n===void 0)c=this.d3.scaleLinear();else throw new Error('Invalid Y axis type: "'.concat(n,'"'));return i&&c.domain(i),s&&c.range(s),c},T.prototype.getYScale=function(n){return this.axis.getId(n)==="y2"?this.y2:this.y},T.prototype.getSubYScale=function(n){return this.axis.getId(n)==="y2"?this.subY2:this.subY},T.prototype.updateScales=function(){var n=this,i=n.config,s=!n.x;n.xMin=i.axis_rotated?1:0,n.xMax=i.axis_rotated?n.height:n.width,n.yMin=i.axis_rotated?0:n.height,n.yMax=i.axis_rotated?n.width:1,n.subXMin=n.xMin,n.subXMax=n.xMax,n.subYMin=i.axis_rotated?0:n.height2,n.subYMax=i.axis_rotated?n.width2:1,n.x=n.getX(n.xMin,n.xMax,s?void 0:n.x.orgDomain(),function(){return n.xAxis.tickOffset()}),n.y=n.getY(i.axis_y_type,s?i.axis_y_default:n.y.domain(),[n.yMin,n.yMax]),n.y2=n.getY(i.axis_y2_type,s?i.axis_y2_default:n.y2.domain(),[n.yMin,n.yMax]),n.subX=n.getX(n.xMin,n.xMax,n.orgXDomain,function(c){return c%1?0:n.subXAxis.tickOffset()}),n.subY=n.getY(i.axis_y_type,s?i.axis_y_default:n.subY.domain(),[n.subYMin,n.subYMax]),n.subY2=n.getY(i.axis_y2_type,s?i.axis_y2_default:n.subY2.domain(),[n.subYMin,n.subYMax]),n.xAxisTickFormat=n.axis.getXAxisTickFormat(),n.xAxisTickValues=n.axis.getXAxisTickValues(),n.yAxisTickValues=n.axis.getYAxisTickValues(),n.y2AxisTickValues=n.axis.getY2AxisTickValues(),n.xAxis=n.axis.getXAxis(n.x,n.xOrient,n.xAxisTickFormat,n.xAxisTickValues,i.axis_x_tick_outer),n.subXAxis=n.axis.getXAxis(n.subX,n.subXOrient,n.xAxisTickFormat,n.xAxisTickValues,i.axis_x_tick_outer),n.yAxis=n.axis.getYAxis("y",n.y,n.yOrient,n.yAxisTickValues,i.axis_y_tick_outer),n.y2Axis=n.axis.getYAxis("y2",n.y2,n.y2Orient,n.y2AxisTickValues,i.axis_y2_tick_outer),s||n.brush&&n.brush.updateScale(n.subX),n.updateArc&&n.updateArc()},T.prototype.selectPoint=function(n,i,s){var c=this,g=c.config,v=(g.axis_rotated?c.circleY:c.circleX).bind(c),w=(g.axis_rotated?c.circleX:c.circleY).bind(c),A=c.pointSelectR.bind(c);g.data_onselected.call(c.api,i,n.node()),c.main.select("."+k.selectedCircles+c.getTargetSelectorSuffix(i.id)).selectAll("."+k.selectedCircle+"-"+s).data([i]).enter().append("circle").attr("class",function(){return c.generateClass(k.selectedCircle,s)}).attr("cx",v).attr("cy",w).attr("stroke",function(){return c.color(i)}).attr("r",function($){return c.pointSelectR($)*1.4}).transition().duration(100).attr("r",A)},T.prototype.unselectPoint=function(n,i,s){var c=this;c.config.data_onunselected.call(c.api,i,n.node()),c.main.select("."+k.selectedCircles+c.getTargetSelectorSuffix(i.id)).selectAll("."+k.selectedCircle+"-"+s).transition().duration(100).attr("r",0).remove()},T.prototype.togglePoint=function(n,i,s,c){n?this.selectPoint(i,s,c):this.unselectPoint(i,s,c)},T.prototype.selectPath=function(n,i){var s=this;s.config.data_onselected.call(s,i,n.node()),s.config.interaction_brighten&&n.transition().duration(100).style("fill",function(){return s.d3.rgb(s.color(i)).brighter(.75)})},T.prototype.unselectPath=function(n,i){var s=this;s.config.data_onunselected.call(s,i,n.node()),s.config.interaction_brighten&&n.transition().duration(100).style("fill",function(){return s.color(i)})},T.prototype.togglePath=function(n,i,s,c){n?this.selectPath(i,s,c):this.unselectPath(i,s,c)},T.prototype.getToggle=function(n,i){var s=this,c;return n.nodeName==="circle"?s.isStepType(i)?c=function(){}:c=s.togglePoint:n.nodeName==="path"&&(c=s.togglePath),c},T.prototype.toggleShape=function(n,i,s){var c=this,g=c.d3,v=c.config,w=g.select(n),A=w.classed(k.SELECTED),$=c.getToggle(n,i).bind(c);v.data_selection_enabled&&v.data_selection_isselectable(i)&&(v.data_selection_multiple||c.main.selectAll("."+k.shapes+(v.data_selection_grouped?c.getTargetSelectorSuffix(i.id):"")).selectAll("."+k.shape).each(function(C,O){var G=g.select(this);G.classed(k.SELECTED)&&$(!1,G.classed(k.SELECTED,!1),C,O)}),w.classed(k.SELECTED,!A),$(!A,w,i,s))},T.prototype.initBar=function(){var n=this;n.main.select("."+k.chart).append("g").attr("class",k.chartBars)},T.prototype.updateTargetsForBar=function(n){var i=this,s=i.config,c,g,v=i.classChartBar.bind(i),w=i.classBars.bind(i),A=i.classFocus.bind(i);c=i.main.select("."+k.chartBars).selectAll("."+k.chartBar).data(n).attr("class",function($){return v($)+A($)}),g=c.enter().append("g").attr("class",v).style("pointer-events","none"),g.append("g").attr("class",w).style("cursor",function($){return s.data_selection_isselectable($)?"pointer":null})},T.prototype.updateBar=function(n){var i=this,s=i.barData.bind(i),c=i.classBar.bind(i),g=i.initialOpacity.bind(i),v=function(C){return i.color(C.id)},w=i.main.selectAll("."+k.bars).selectAll("."+k.bar).data(s),A=w.enter().append("path").attr("class",c).style("stroke",v).style("fill",v);i.mainBar=A.merge(w).style("opacity",g),w.exit().transition().duration(n).style("opacity",0)},T.prototype.redrawBar=function(n,i,s){var c=this;return[(i?this.mainBar.transition(s):this.mainBar).attr("d",n).style("stroke",this.color).style("fill",this.color).style("opacity",function(g){return c.isTargetToShow(g.id)?1:0})]},T.prototype.getBarW=function(n,i){var s=this,c=s.config,g=typeof c.bar_width=="number"?c.bar_width:i?n.tickInterval()*c.bar_width_ratio/i:0;return c.bar_width_max&&g>c.bar_width_max?c.bar_width_max:g},T.prototype.getBars=function(n,i){var s=this;return(i?s.main.selectAll("."+k.bars+s.getTargetSelectorSuffix(i)):s.main).selectAll("."+k.bar+(Et(n)?"-"+n:""))},T.prototype.expandBars=function(n,i,s){var c=this;s&&c.unexpandBars(),c.getBars(n,i).classed(k.EXPANDED,!0)},T.prototype.unexpandBars=function(n){var i=this;i.getBars(n).classed(k.EXPANDED,!1)},T.prototype.generateDrawBar=function(n,i){var s=this,c=s.config,g=s.generateGetBarPoints(n,i);return function(v,w){var A=g(v,w),$=c.axis_rotated?1:0,C=c.axis_rotated?0:1,O="M "+A[0][$]+","+A[0][C]+" L"+A[1][$]+","+A[1][C]+" L"+A[2][$]+","+A[2][C]+" L"+A[3][$]+","+A[3][C]+" z";return O}},T.prototype.generateGetBarPoints=function(n,i){var s=this,c=i?s.subXAxis:s.xAxis,g=n.__max__+1,v=s.getBarW(c,g),w=s.getShapeX(v,g,n,!!i),A=s.getShapeY(!!i),$=s.getShapeOffset(s.isBarType,n,!!i),C=v*(s.config.bar_space/2),O=i?s.getSubYScale:s.getYScale;return function(G,Y){var D=O.call(s,G.id)(0),U=$(G,Y)||D,q=w(G),K=A(G);return s.config.axis_rotated&&(0<G.value&&K<D||G.value<0&&D<K)&&(K=D),K-=D-U,[[q+C,U],[q+C,K],[q+v-C,K],[q+v-C,U]]}},T.prototype.isWithinBar=function(n,i){return Ps(n,qe(i),2)},T.prototype.getShapeIndices=function(n){var i=this,s=i.config,c={},g=0,v,w;return i.filterTargetsToShow(i.data.targets.filter(n,i)).forEach(function(A){for(v=0;v<s.data_groups.length;v++)if(!(s.data_groups[v].indexOf(A.id)<0)){for(w=0;w<s.data_groups[v].length;w++)if(s.data_groups[v][w]in c){c[A.id]=c[s.data_groups[v][w]];break}}xe(c[A.id])&&(c[A.id]=g++)}),c.__max__=g-1,c},T.prototype.getShapeX=function(n,i,s,c){var g=this,v=c?g.subX:g.x;return function(w){var A=w.id in s?s[w.id]:0;return w.x||w.x===0?v(w.x)-n*(i/2-A):0}},T.prototype.getShapeY=function(n){var i=this;return function(s){var c=n?i.getSubYScale(s.id):i.getYScale(s.id);return c(i.isTargetNormalized(s.id)?i.getRatio("index",s,!0):s.value)}},T.prototype.getShapeOffset=function(n,i,s){var c=this,g=c.orderTargets(c.filterTargetsToShow(c.data.targets.filter(n,c))),v=g.map(function(w){return w.id});return function(w,A){var $=s?c.getSubYScale(w.id):c.getYScale(w.id),C=$(0),O=C;return g.forEach(function(G){var Y=c.isStepType(w)?c.convertValuesToStep(G.values):G.values,D=c.isTargetNormalized(w.id),U=Y.map(function(q){return D?c.getRatio("index",q,!0):q.value});G.id===w.id||i[G.id]!==i[w.id]||v.indexOf(G.id)<v.indexOf(w.id)&&((xe(Y[A])||+Y[A].x!=+w.x)&&(A=-1,Y.forEach(function(q,K){var ot=q.x.constructor===Date?+q.x:q.x,xt=w.x.constructor===Date?+w.x:w.x;ot===xt&&(A=K)})),A in Y&&Y[A].value*w.value>=0&&(O+=$(U[A])-C))}),O}},T.prototype.isWithinShape=function(n,i){var s=this,c=s.d3.select(n),g;return s.isTargetToShow(i.id)?n.nodeName==="circle"?g=s.isStepType(i)?s.isWithinStep(n,s.getYScale(i.id)(i.value)):s.isWithinCircle(n,s.pointSelectR(i)*1.5):n.nodeName==="path"&&(g=c.classed(k.bar)?s.isWithinBar(s.d3.mouse(n),n):!0):g=!1,g},T.prototype.getInterpolate=function(n){var i=this,s=i.d3,c={linear:s.curveLinear,"linear-closed":s.curveLinearClosed,basis:s.curveBasis,"basis-open":s.curveBasisOpen,"basis-closed":s.curveBasisClosed,bundle:s.curveBundle,cardinal:s.curveCardinal,"cardinal-open":s.curveCardinalOpen,"cardinal-closed":s.curveCardinalClosed,monotone:s.curveMonotoneX,step:s.curveStep,"step-before":s.curveStepBefore,"step-after":s.curveStepAfter},g;return i.isSplineType(n)?g=c[i.config.spline_interpolation_type]||c.cardinal:i.isStepType(n)?g=c[i.config.line_step_type]:g=c.linear,g},T.prototype.initLine=function(){var n=this;n.main.select("."+k.chart).append("g").attr("class",k.chartLines)},T.prototype.updateTargetsForLine=function(n){var i=this,s=i.config,c,g,v=i.classChartLine.bind(i),w=i.classLines.bind(i),A=i.classAreas.bind(i),$=i.classCircles.bind(i),C=i.classFocus.bind(i);c=i.main.select("."+k.chartLines).selectAll("."+k.chartLine).data(n).attr("class",function(O){return v(O)+C(O)}),g=c.enter().append("g").attr("class",v).style("opacity",0).style("pointer-events","none"),g.append("g").attr("class",w),g.append("g").attr("class",A),g.append("g").attr("class",function(O){return i.generateClass(k.selectedCircles,O.id)}),g.append("g").attr("class",$).style("cursor",function(O){return s.data_selection_isselectable(O)?"pointer":null}),n.forEach(function(O){i.main.selectAll("."+k.selectedCircles+i.getTargetSelectorSuffix(O.id)).selectAll("."+k.selectedCircle).each(function(G){G.value=O.values[G.index].value})})},T.prototype.updateLine=function(n){var i=this,s=i.main.selectAll("."+k.lines).selectAll("."+k.line).data(i.lineData.bind(i)),c=s.enter().append("path").attr("class",i.classLine.bind(i)).style("stroke",i.color);i.mainLine=c.merge(s).style("opacity",i.initialOpacity.bind(i)).style("shape-rendering",function(g){return i.isStepType(g)?"crispEdges":""}).attr("transform",null),s.exit().transition().duration(n).style("opacity",0)},T.prototype.redrawLine=function(n,i,s){return[(i?this.mainLine.transition(s):this.mainLine).attr("d",n).style("stroke",this.color).style("opacity",1)]},T.prototype.generateDrawLine=function(n,i){var s=this,c=s.config,g=s.d3.line(),v=s.generateGetLinePoints(n,i),w=i?s.getSubYScale:s.getYScale,A=function(O){return(i?s.subxx:s.xx).call(s,O)},$=function(O,G){return c.data_groups.length>0?v(O,G)[0][1]:w.call(s,O.id)(O.value)};return g=c.axis_rotated?g.x($).y(A):g.x(A).y($),c.line_connectNull||(g=g.defined(function(C){return C.value!=null})),function(C){var O=c.line_connectNull?s.filterRemoveNull(C.values):C.values,G=i?s.subX:s.x,Y=w.call(s,C.id),D=0,U=0,q;return s.isLineType(C)?c.data_regions[C.id]?q=s.lineWithRegions(O,G,Y,c.data_regions[C.id]):(s.isStepType(C)&&(O=s.convertValuesToStep(O)),q=g.curve(s.getInterpolate(C))(O)):(O[0]&&(D=G(O[0].x),U=Y(O[0].value)),q=c.axis_rotated?"M "+U+" "+D:"M "+D+" "+U),q||"M 0 0"}},T.prototype.generateGetLinePoints=function(n,i){var s=this,c=s.config,g=n.__max__+1,v=s.getShapeX(0,g,n,!!i),w=s.getShapeY(!!i),A=s.getShapeOffset(s.isLineType,n,!!i),$=i?s.getSubYScale:s.getYScale;return function(C,O){var G=$.call(s,C.id)(0),Y=A(C,O)||G,D=v(C),U=w(C);return c.axis_rotated&&(0<C.value&&U<G||C.value<0&&G<U)&&(U=G),[[D,U-(G-Y)],[D,U-(G-Y)],[D,U-(G-Y)],[D,U-(G-Y)]]}},T.prototype.lineWithRegions=function(n,i,s,c){var g=this,v=g.config,w,A,$="M",C,O,G,Y,D,U,q,K,ot=g.isCategorized()?.5:0,xt,kt,Ct=[];function Ft(yt,Lt){var Ht;for(Ht=0;Ht<Lt.length;Ht++)if(Lt[Ht].start<yt&&yt<=Lt[Ht].end)return!0;return!1}if(te(c))for(w=0;w<c.length;w++)Ct[w]={},xe(c[w].start)?Ct[w].start=n[0].x:Ct[w].start=g.isTimeSeries()?g.parseDate(c[w].start):c[w].start,xe(c[w].end)?Ct[w].end=n[n.length-1].x:Ct[w].end=g.isTimeSeries()?g.parseDate(c[w].end):c[w].end;xt=v.axis_rotated?function(yt){return s(yt.value)}:function(yt){return i(yt.x)},kt=v.axis_rotated?function(yt){return i(yt.x)}:function(yt){return s(yt.value)};function At(yt){return"M"+yt[0][0]+" "+yt[0][1]+" "+yt[1][0]+" "+yt[1][1]}for(g.isTimeSeries()?C=function(Lt,Ht,mt,ut){var lt=Lt.x.getTime(),Jt=Ht.x-Lt.x,we=new Date(lt+Jt*mt),be=new Date(lt+Jt*(mt+ut)),se;return v.axis_rotated?se=[[s(G(mt)),i(we)],[s(G(mt+ut)),i(be)]]:se=[[i(we),s(G(mt))],[i(be),s(G(mt+ut))]],At(se)}:C=function(Lt,Ht,mt,ut){var lt;return v.axis_rotated?lt=[[s(G(mt),!0),i(O(mt))],[s(G(mt+ut),!0),i(O(mt+ut))]]:lt=[[i(O(mt),!0),s(G(mt))],[i(O(mt+ut),!0),s(G(mt+ut))]],At(lt)},w=0;w<n.length;w++){if(xe(Ct)||!Ft(n[w].x,Ct))$+=" "+xt(n[w])+" "+kt(n[w]);else for(O=g.getScale(n[w-1].x+ot,n[w].x+ot,g.isTimeSeries()),G=g.getScale(n[w-1].value,n[w].value),Y=i(n[w].x)-i(n[w-1].x),D=s(n[w].value)-s(n[w-1].value),U=Math.sqrt(Math.pow(Y,2)+Math.pow(D,2)),q=2/U,K=q*2,A=q;A<=1;A+=K)$+=C(n[w-1],n[w],A,q);n[w].x}return $},T.prototype.updateArea=function(n){var i=this,s=i.d3,c=i.main.selectAll("."+k.areas).selectAll("."+k.area).data(i.lineData.bind(i)),g=c.enter().append("path").attr("class",i.classArea.bind(i)).style("fill",i.color).style("opacity",function(){return i.orgAreaOpacity=+s.select(this).style("opacity"),0});i.mainArea=g.merge(c).style("opacity",i.orgAreaOpacity),c.exit().transition().duration(n).style("opacity",0)},T.prototype.redrawArea=function(n,i,s){return[(i?this.mainArea.transition(s):this.mainArea).attr("d",n).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},T.prototype.generateDrawArea=function(n,i){var s=this,c=s.config,g=s.d3.area(),v=s.generateGetAreaPoints(n,i),w=i?s.getSubYScale:s.getYScale,A=function(G){return(i?s.subxx:s.xx).call(s,G)},$=function(G,Y){return c.data_groups.length>0?v(G,Y)[0][1]:w.call(s,G.id)(s.getAreaBaseValue(G.id))},C=function(G,Y){return c.data_groups.length>0?v(G,Y)[1][1]:w.call(s,G.id)(G.value)};return g=c.axis_rotated?g.x0($).x1(C).y(A):g.x(A).y0(c.area_above?0:$).y1(C),c.line_connectNull||(g=g.defined(function(O){return O.value!==null})),function(O){var G=c.line_connectNull?s.filterRemoveNull(O.values):O.values,Y=0,D=0,U;return s.isAreaType(O)?(s.isStepType(O)&&(G=s.convertValuesToStep(G)),U=g.curve(s.getInterpolate(O))(G)):(G[0]&&(Y=s.x(G[0].x),D=s.getYScale(O.id)(G[0].value)),U=c.axis_rotated?"M "+D+" "+Y:"M "+Y+" "+D),U||"M 0 0"}},T.prototype.getAreaBaseValue=function(){return 0},T.prototype.generateGetAreaPoints=function(n,i){var s=this,c=s.config,g=n.__max__+1,v=s.getShapeX(0,g,n,!!i),w=s.getShapeY(!!i),A=s.getShapeOffset(s.isAreaType,n,!!i),$=i?s.getSubYScale:s.getYScale;return function(C,O){var G=$.call(s,C.id)(0),Y=A(C,O)||G,D=v(C),U=w(C);return c.axis_rotated&&(0<C.value&&U<G||C.value<0&&G<U)&&(U=G),[[D,Y],[D,U-(G-Y)],[D,U-(G-Y)],[D,Y]]}},T.prototype.updateCircle=function(n,i){var s=this,c=s.main.selectAll("."+k.circles).selectAll("."+k.circle).data(s.lineOrScatterOrStanfordData.bind(s)),g=c.enter().append("circle").attr("shape-rendering",s.isStanfordGraphType()?"crispEdges":"").attr("class",s.classCircle.bind(s)).attr("cx",n).attr("cy",i).attr("r",s.pointR.bind(s)).style("color",s.isStanfordGraphType()?s.getStanfordPointColor.bind(s):s.color);s.mainCircle=g.merge(c).style("opacity",s.isStanfordGraphType()?1:s.initialOpacityForCircle.bind(s)),c.exit().style("opacity",0)},T.prototype.redrawCircle=function(n,i,s,c){var g=this,v=g.main.selectAll("."+k.selectedCircle);return[(s?g.mainCircle.transition(c):g.mainCircle).style("opacity",this.opacityForCircle.bind(g)).style("color",g.isStanfordGraphType()?g.getStanfordPointColor.bind(g):g.color).attr("cx",n).attr("cy",i),(s?v.transition(c):v).attr("cx",n).attr("cy",i)]},T.prototype.circleX=function(n){return n.x||n.x===0?this.x(n.x):null},T.prototype.updateCircleY=function(){var n=this,i,s;n.config.data_groups.length>0?(i=n.getShapeIndices(n.isLineType),s=n.generateGetLinePoints(i),n.circleY=function(c,g){return s(c,g)[0][1]}):n.circleY=function(c){return n.getYScale(c.id)(c.value)}},T.prototype.getCircles=function(n,i){var s=this;return(i?s.main.selectAll("."+k.circles+s.getTargetSelectorSuffix(i)):s.main).selectAll("."+k.circle+(Et(n)?"-"+n:""))},T.prototype.expandCircles=function(n,i,s){var c=this,g=c.pointExpandedR.bind(c);s&&c.unexpandCircles(),c.getCircles(n,i).classed(k.EXPANDED,!0).attr("r",g)},T.prototype.unexpandCircles=function(n){var i=this,s=i.pointR.bind(i);i.getCircles(n).filter(function(){return i.d3.select(this).classed(k.EXPANDED)}).classed(k.EXPANDED,!1).attr("r",s)},T.prototype.pointR=function(n){var i=this,s=i.config;return i.isStepType(n)?0:zt(s.point_r)?s.point_r(n):s.point_r},T.prototype.pointExpandedR=function(n){var i=this,s=i.config;return s.point_focus_expand_enabled?zt(s.point_focus_expand_r)?s.point_focus_expand_r(n):s.point_focus_expand_r?s.point_focus_expand_r:i.pointR(n)*1.75:i.pointR(n)},T.prototype.pointSelectR=function(n){var i=this,s=i.config;return zt(s.point_select_r)?s.point_select_r(n):s.point_select_r?s.point_select_r:i.pointR(n)*4},T.prototype.isWithinCircle=function(n,i){var s=this.d3,c=s.mouse(n),g=s.select(n),v=+g.attr("cx"),w=+g.attr("cy");return Math.sqrt(Math.pow(v-c[0],2)+Math.pow(w-c[1],2))<i},T.prototype.isWithinStep=function(n,i){return Math.abs(i-this.d3.mouse(n)[1])<30},T.prototype.getCurrentWidth=function(){var n=this,i=n.config;return i.size_width?i.size_width:n.getParentWidth()},T.prototype.getCurrentHeight=function(){var n=this,i=n.config,s=i.size_height?i.size_height:n.getParentHeight();return s>0?s:320/(n.hasType("gauge")&&!i.gauge_fullCircle?2:1)},T.prototype.getCurrentPaddingTop=function(){var n=this,i=n.config,s=Et(i.padding_top)?i.padding_top:0;return n.title&&n.title.node()&&(s+=n.getTitlePadding()),s},T.prototype.getCurrentPaddingBottom=function(){var n=this.config;return Et(n.padding_bottom)?n.padding_bottom:0},T.prototype.getCurrentPaddingLeft=function(n){var i=this,s=i.config;return Et(s.padding_left)?s.padding_left:s.axis_rotated?!s.axis_x_show||s.axis_x_inner?1:Math.max(We(i.getAxisWidthByAxisId("x",n)),40):!s.axis_y_show||s.axis_y_inner?i.axis.getYAxisLabelPosition().isOuter?30:1:We(i.getAxisWidthByAxisId("y",n))},T.prototype.getCurrentPaddingRight=function(){var n=this,i=n.config,s=0,c=10,g=n.isLegendRight?n.getLegendWidth()+20:0;return Et(i.padding_right)?s=i.padding_right+1:i.axis_rotated?s=c+g:!i.axis_y2_show||i.axis_y2_inner?s=2+g+(n.axis.getY2AxisLabelPosition().isOuter?20:0):s=We(n.getAxisWidthByAxisId("y2"))+g,n.colorScale&&n.colorScale.node()&&(s+=n.getColorScalePadding()),s},T.prototype.getParentRectValue=function(n){for(var i=this.selectChart.node(),s;i&&i.tagName!=="BODY";){try{s=i.getBoundingClientRect()[n]}catch{n==="width"&&(s=i.offsetWidth)}if(s)break;i=i.parentNode}return s},T.prototype.getParentWidth=function(){return this.getParentRectValue("width")},T.prototype.getParentHeight=function(){var n=this.selectChart.style("height");return n.indexOf("px")>0?+n.replace("px",""):0},T.prototype.getSvgLeft=function(n){var i=this,s=i.config,c=s.axis_rotated||!s.axis_rotated&&!s.axis_y_inner,g=s.axis_rotated?k.axisX:k.axisY,v=i.main.select("."+g).node(),w=v&&c?v.getBoundingClientRect():{right:0},A=i.selectChart.node().getBoundingClientRect(),$=i.hasArcType(),C=w.right-A.left-($?0:i.getCurrentPaddingLeft(n));return C>0?C:0},T.prototype.getAxisWidthByAxisId=function(n,i){var s=this,c=s.axis.getLabelPositionById(n);return s.axis.getMaxTickWidth(n,i)+(c.isInner?20:40)},T.prototype.getHorizontalAxisHeight=function(n){var i=this,s=i.config,c=30;return n==="x"&&!s.axis_x_show?8:n==="x"&&s.axis_x_height?s.axis_x_height:n==="y"&&!s.axis_y_show?s.legend_show&&!i.isLegendRight&&!i.isLegendInset?10:1:n==="y2"&&!s.axis_y2_show?i.rotated_padding_top:(n==="x"&&!s.axis_rotated&&s.axis_x_tick_rotate&&(c=30+i.axis.getMaxTickWidth(n)*Math.cos(Math.PI*(90-Math.abs(s.axis_x_tick_rotate))/180)),n==="y"&&s.axis_rotated&&s.axis_y_tick_rotate&&(c=30+i.axis.getMaxTickWidth(n)*Math.cos(Math.PI*(90-Math.abs(s.axis_y_tick_rotate))/180)),c+(i.axis.getLabelPositionById(n).isInner?0:10)+(n==="y2"?-10:0))},T.prototype.initBrush=function(n){var i=this,s=i.d3;return i.brush=(i.config.axis_rotated?s.brushY():s.brushX()).on("brush",function(){var c=s.event.sourceEvent;c&&c.type==="zoom"||i.redrawForBrush()}).on("end",function(){var c=s.event.sourceEvent;c&&c.type==="zoom"||i.brush.empty()&&c&&c.type!=="end"&&i.brush.clear()}),i.brush.updateExtent=function(){var c=this.scale.range(),g;return i.config.axis_rotated?g=[[0,c[0]],[i.width2,c[1]]]:g=[[c[0],0],[c[1],i.height2]],this.extent(g),this},i.brush.updateScale=function(c){return this.scale=c,this},i.brush.update=function(c){this.updateScale(c||i.subX).updateExtent(),i.context.select("."+k.brush).call(this)},i.brush.clear=function(){i.context.select("."+k.brush).call(i.brush.move,null)},i.brush.selection=function(){return s.brushSelection(i.context.select("."+k.brush).node())},i.brush.selectionAsValue=function(c,g){var v,w;return c?(i.context&&(v=[this.scale(c[0]),this.scale(c[1])],w=i.context.select("."+k.brush),g&&(w=w.transition()),i.brush.move(w,v)),[]):(v=i.brush.selection()||[0,0],[this.scale.invert(v[0]),this.scale.invert(v[1])])},i.brush.empty=function(){var c=i.brush.selection();return!c||c[0]===c[1]},i.brush.updateScale(n)},T.prototype.initSubchart=function(){var n=this,i=n.config,s=n.context=n.svg.append("g").attr("transform",n.getTranslate("context"));s.style("visibility","visible"),s.append("g").attr("clip-path",n.clipPathForSubchart).attr("class",k.chart),s.select("."+k.chart).append("g").attr("class",k.chartBars),s.select("."+k.chart).append("g").attr("class",k.chartLines),s.append("g").attr("clip-path",n.clipPath).attr("class",k.brush),n.axes.subx=s.append("g").attr("class",k.axisX).attr("transform",n.getTranslate("subx")).attr("clip-path",i.axis_rotated?"":n.clipPathForXAxis)},T.prototype.initSubchartBrush=function(){var n=this;n.initBrush(n.subX).updateExtent(),n.context.select("."+k.brush).call(n.brush)},T.prototype.updateTargetsForSubchart=function(n){var i=this,s=i.context,c=i.config,g,v,w,A,$=i.classChartBar.bind(i),C=i.classBars.bind(i),O=i.classChartLine.bind(i),G=i.classLines.bind(i),Y=i.classAreas.bind(i);A=s.select("."+k.chartBars).selectAll("."+k.chartBar).data(n),w=A.enter().append("g").style("opacity",0),w.merge(A).attr("class",$),w.append("g").attr("class",C),v=s.select("."+k.chartLines).selectAll("."+k.chartLine).data(n),g=v.enter().append("g").style("opacity",0),g.merge(v).attr("class",O),g.append("g").attr("class",G),g.append("g").attr("class",Y),s.selectAll("."+k.brush+" rect").attr(c.axis_rotated?"width":"height",c.axis_rotated?i.width2:i.height2)},T.prototype.updateBarForSubchart=function(n){var i=this,s=i.context.selectAll("."+k.bars).selectAll("."+k.bar).data(i.barData.bind(i)),c=s.enter().append("path").attr("class",i.classBar.bind(i)).style("stroke","none").style("fill",i.color);s.exit().transition().duration(n).style("opacity",0).remove(),i.contextBar=c.merge(s).style("opacity",i.initialOpacity.bind(i))},T.prototype.redrawBarForSubchart=function(n,i,s){(i?this.contextBar.transition(Math.random().toString()).duration(s):this.contextBar).attr("d",n).style("opacity",1)},T.prototype.updateLineForSubchart=function(n){var i=this,s=i.context.selectAll("."+k.lines).selectAll("."+k.line).data(i.lineData.bind(i)),c=s.enter().append("path").attr("class",i.classLine.bind(i)).style("stroke",i.color);s.exit().transition().duration(n).style("opacity",0).remove(),i.contextLine=c.merge(s).style("opacity",i.initialOpacity.bind(i))},T.prototype.redrawLineForSubchart=function(n,i,s){(i?this.contextLine.transition(Math.random().toString()).duration(s):this.contextLine).attr("d",n).style("opacity",1)},T.prototype.updateAreaForSubchart=function(n){var i=this,s=i.d3,c=i.context.selectAll("."+k.areas).selectAll("."+k.area).data(i.lineData.bind(i)),g=c.enter().append("path").attr("class",i.classArea.bind(i)).style("fill",i.color).style("opacity",function(){return i.orgAreaOpacity=+s.select(this).style("opacity"),0});c.exit().transition().duration(n).style("opacity",0).remove(),i.contextArea=g.merge(c).style("opacity",0)},T.prototype.redrawAreaForSubchart=function(n,i,s){(i?this.contextArea.transition(Math.random().toString()).duration(s):this.contextArea).attr("d",n).style("fill",this.color).style("opacity",this.orgAreaOpacity)},T.prototype.redrawSubchart=function(n,i,s,c,g,v,w){var A=this,$=A.d3,C,O,G;$.event&&$.event.type==="zoom"&&A.brush.selectionAsValue(A.x.orgDomain()),n&&(A.brush.empty()||A.brush.selectionAsValue(A.x.orgDomain()),C=A.generateDrawArea(g,!0),O=A.generateDrawBar(v,!0),G=A.generateDrawLine(w,!0),A.updateBarForSubchart(s),A.updateLineForSubchart(s),A.updateAreaForSubchart(s),A.redrawBarForSubchart(O,s,s),A.redrawLineForSubchart(G,s,s),A.redrawAreaForSubchart(C,s,s))},T.prototype.redrawForBrush=function(){var n=this,i=n.x,s=n.d3,c;n.redraw({withTransition:!1,withY:n.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),c=s.event.selection||n.brush.scale.range(),n.main.select("."+k.eventRect).call(n.zoom.transform,s.zoomIdentity.scale(n.width/(c[1]-c[0])).translate(-c[0],0)),n.config.subchart_onbrush.call(n.api,i.orgDomain())},T.prototype.transformContext=function(n,i){var s=this,c;i&&i.axisSubX?c=i.axisSubX:(c=s.context.select("."+k.axisX),n&&(c=c.transition())),s.context.attr("transform",s.getTranslate("context")),c.attr("transform",s.getTranslate("subx"))},T.prototype.getDefaultSelection=function(){var n=this,i=n.config,s=zt(i.axis_x_selection)?i.axis_x_selection(n.getXDomain(n.data.targets)):i.axis_x_selection;return n.isTimeSeries()&&(s=[n.parseDate(s[0]),n.parseDate(s[1])]),s},T.prototype.removeSubchart=function(){var n=this;n.brush=null,n.context.remove(),n.context=null},T.prototype.initText=function(){var n=this;n.main.select("."+k.chart).append("g").attr("class",k.chartTexts),n.mainText=n.d3.selectAll([])},T.prototype.updateTargetsForText=function(n){var i=this,s=i.classChartText.bind(i),c=i.classTexts.bind(i),g=i.classFocus.bind(i),v=i.main.select("."+k.chartTexts).selectAll("."+k.chartText).data(n),w=v.enter().append("g").attr("class",s).style("opacity",0).style("pointer-events","none");w.append("g").attr("class",c),w.merge(v).attr("class",function(A){return s(A)+g(A)})},T.prototype.updateText=function(n,i,s){var c=this,g=c.config,v=c.barOrLineData.bind(c),w=c.classText.bind(c),A=c.main.selectAll("."+k.texts).selectAll("."+k.text).data(v),$=A.enter().append("text").attr("class",w).attr("text-anchor",function(C){return g.axis_rotated?C.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",n).attr("y",i).style("fill",function(C){return c.color(C)}).style("fill-opacity",0);c.mainText=$.merge(A).text(function(C,O,G){return c.dataLabelFormat(C.id)(C.value,C.id,O,G)}),A.exit().transition().duration(s).style("fill-opacity",0).remove()},T.prototype.redrawText=function(n,i,s,c,g){return[(c?this.mainText.transition(g):this.mainText).attr("x",n).attr("y",i).style("fill",this.color).style("fill-opacity",s?0:this.opacityForText.bind(this))]},T.prototype.getTextRect=function(n,i,s){var c=this.d3.select("body").append("div").classed("c3",!0),g=c.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),v=this.d3.select(s).style("font"),w;return g.selectAll(".dummy").data([n]).enter().append("text").classed(i||"",!0).style("font",v).text(n).each(function(){w=qe(this)}),c.remove(),w},T.prototype.generateXYForText=function(n,i,s,c){var g=this,v=g.generateGetAreaPoints(n,!1),w=g.generateGetBarPoints(i,!1),A=g.generateGetLinePoints(s,!1),$=c?g.getXForText:g.getYForText;return function(C,O){var G=g.isAreaType(C)?v:g.isBarType(C)?w:A;return $.call(g,G(C,O),C,this)}},T.prototype.getXForText=function(n,i,s){var c=this,g=qe(s),v,w;return c.config.axis_rotated?(w=c.isBarType(i)?4:6,v=n[2][1]+w*(i.value<0?-1:1)):v=c.hasType("bar")?(n[2][0]+n[0][0])/2:n[0][0],i.value===null&&(v>c.width?v=c.width-g.width:v<0&&(v=4)),v},T.prototype.getYForText=function(n,i,s){var c=this,g=qe(s),v;return c.config.axis_rotated?v=(n[0][0]+n[2][0]+g.height*.6)/2:(v=n[2][1],i.value<0||i.value===0&&!c.hasPositiveValue?(v+=g.height,c.isBarType(i)&&c.isSafari()?v-=3:!c.isBarType(i)&&c.isChrome()&&(v+=3)):v+=c.isBarType(i)?-3:-6),i.value===null&&!c.config.axis_rotated&&(v<g.height?v=g.height:v>this.height&&(v=this.height-4)),v},T.prototype.initTitle=function(){var n=this;n.title=n.svg.append("text").text(n.config.title_text).attr("class",n.CLASS.title)},T.prototype.redrawTitle=function(){var n=this;n.title.attr("x",n.xForTitle.bind(n)).attr("y",n.yForTitle.bind(n))},T.prototype.xForTitle=function(){var n=this,i=n.config,s=i.title_position||"left",c;return s.indexOf("right")>=0?c=n.currentWidth-n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).width-i.title_padding.right:s.indexOf("center")>=0?c=Math.max((n.currentWidth-n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).width)/2,0):c=i.title_padding.left,c},T.prototype.yForTitle=function(){var n=this;return n.config.title_padding.top+n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).height},T.prototype.getTitlePadding=function(){var n=this;return n.yForTitle()+n.config.title_padding.bottom};function $a(n){return n/Math.pow(10,Math.ceil(Math.log(n)/Math.LN10-1e-12))===1}T.prototype.drawColorScale=function(){var n=this,i=n.d3,s=n.config,c=n.data.targets[0],g,v,w,A,$,C,O,G;if(g=isNaN(s.stanford_scaleWidth)?20:s.stanford_scaleWidth,v=5,v<0||g<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");G=n.height-s.stanford_padding.bottom-s.stanford_padding.top,A=i.range(s.stanford_padding.bottom,G,v),O=i.scaleSequential(c.colors).domain([A[A.length-1],A[0]]),n.colorScale&&n.colorScale.remove(),n.colorScale=n.svg.append("g").attr("width",50).attr("height",G).attr("class",k.colorScale),n.colorScale.append("g").attr("transform","translate(0, ".concat(s.stanford_padding.top,")")).selectAll("bars").data(A).enter().append("rect").attr("y",function(Y,D){return D*v}).attr("x",0).attr("width",g).attr("height",v).attr("fill",function(Y){return O(Y)}),C=i.scaleLog().domain([c.minEpochs,c.maxEpochs]).range([A[0]+s.stanford_padding.top+A[A.length-1]+v-1,A[0]+s.stanford_padding.top]),$=i.axisRight(C),s.stanford_scaleFormat==="pow10"?$.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):zt(s.stanford_scaleFormat)?$.tickFormat(s.stanford_scaleFormat):$.tickFormat(i.format("d")),zt(s.stanford_scaleValues)&&$.tickValues(s.stanford_scaleValues(c.minEpochs,c.maxEpochs)),w=n.colorScale.append("g").attr("class","legend axis").attr("transform","translate(".concat(g,",0)")).call($),s.stanford_scaleFormat==="pow10"&&w.selectAll(".tick text").text(null).filter($a).text(10).append("tspan").attr("dy","-.7em").text(function(Y){return Math.round(Math.log(Y)/Math.LN10)}),n.colorScale.attr("transform","translate(".concat(n.currentWidth-n.xForColorScale(),", 0)"))},T.prototype.xForColorScale=function(){var n=this;return n.config.stanford_padding.right+qe(n.colorScale.node()).width},T.prototype.getColorScalePadding=function(){var n=this;return n.xForColorScale()+n.config.stanford_padding.left+20},T.prototype.isStanfordGraphType=function(){var n=this;return n.config.data_type==="stanford"},T.prototype.initStanfordData=function(){var n=this,i=n.d3,s=n.config,c=n.data.targets[0],g,v,w;if(c.values.sort($s),g=c.values.map(function(A){return A.epochs}),w=isNaN(s.stanford_scaleMin)?i.min(g):s.stanford_scaleMin,v=isNaN(s.stanford_scaleMax)?i.max(g):s.stanford_scaleMax,w>v)throw Error("Number of minEpochs has to be smaller than maxEpochs");c.colors=zt(s.stanford_colors)?s.stanford_colors:i.interpolateHslLong(i.hsl(250,1,.5),i.hsl(0,1,.5)),c.colorscale=i.scaleSequentialLog(c.colors).domain([w,v]),c.minEpochs=w,c.maxEpochs=v},T.prototype.getStanfordPointColor=function(n){var i=this,s=i.data.targets[0];return s.colorscale(n.epochs)},T.prototype.getCentroid=function(n){var i=Ls(n),s=0,c=0,g,v,w,A,$;for(g=0,v=n.length-1;g<n.length;v=g,g+=1)A=n[g],$=n[v],w=A.x*$.y-$.x*A.y,s+=(A.x+$.x)*w,c+=(A.y+$.y)*w;return w=i*6,{x:s/w,y:c/w}},T.prototype.getStanfordTooltipTitle=function(n){var i=this,s=i.axis.getLabelText("x"),c=i.axis.getLabelText("y");return`
      <tr><th>`.concat(s?De(s):"x","</th><th class='value'>").concat(n.x,`</th></tr>
      <tr><th>`).concat(c?De(c):"y","</th><th class='value'>").concat(n.value,`</th></tr>
    `)},T.prototype.countEpochsInRegion=function(n){var i=this,s=i.data.targets[0],c,g;return c=s.values.reduce(function(v,w){return v+Number(w.epochs)},0),g=s.values.reduce(function(v,w){return Ms(w,n)?v+Number(w.epochs):v},0),{value:g,percentage:g!==0?(g/c*100).toFixed(1):0}};var Ls=function(i){var s=0,c,g,v,w;for(c=0,g=i.length-1;c<i.length;g=c,c+=1)v=i[c],w=i[g],s+=v.x*w.y,s-=v.y*w.x;return s/=2,s},Ms=function(i,s){for(var c,g,v,w,A,$=i.x,C=i.value,O=!1,G=0,Y=s.length-1;G<s.length;Y=G++)c=s[G].x,g=s[G].y,w=s[Y].x,v=s[Y].y,A=g>C!=v>C&&$<(w-c)*(C-g)/(v-g)+c,A&&(O=!O);return O},$s=function(i,s){return i.epochs<s.epochs?-1:i.epochs>s.epochs?1:0};return T.prototype.initStanfordElements=function(){var n=this;n.stanfordElements=n.main.select("."+k.chart).append("g").attr("class",k.stanfordElements),n.stanfordElements.append("g").attr("class",k.stanfordLines),n.stanfordElements.append("g").attr("class",k.stanfordTexts),n.stanfordElements.append("g").attr("class",k.stanfordRegions)},T.prototype.updateStanfordElements=function(n){var i=this,s=i.main,c=i.config,g,v,w,A,$,C,O=i.xvCustom.bind(i),G=i.yvCustom.bind(i),Y=i.countEpochsInRegion.bind(i);g=s.select("."+k.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+k.stanfordLine).data(c.stanford_lines),v=g.enter().append("g").attr("class",function(D){return k.stanfordLine+(D.class?" "+D.class:"")}),v.append("line").attr("x1",function(D){return c.axis_rotated?G(D,"value_y1"):O(D,"value_x1")}).attr("x2",function(D){return c.axis_rotated?G(D,"value_y2"):O(D,"value_x2")}).attr("y1",function(D){return c.axis_rotated?O(D,"value_x1"):G(D,"value_y1")}).attr("y2",function(D){return c.axis_rotated?O(D,"value_x2"):G(D,"value_y2")}).style("opacity",0),i.stanfordLines=v.merge(g),i.stanfordLines.select("line").transition().duration(n).attr("x1",function(D){return c.axis_rotated?G(D,"value_y1"):O(D,"value_x1")}).attr("x2",function(D){return c.axis_rotated?G(D,"value_y2"):O(D,"value_x2")}).attr("y1",function(D){return c.axis_rotated?O(D,"value_x1"):G(D,"value_y1")}).attr("y2",function(D){return c.axis_rotated?O(D,"value_x2"):G(D,"value_y2")}).style("opacity",1),g.exit().transition().duration(n).style("opacity",0).remove(),$=s.select("."+k.stanfordTexts).selectAll("."+k.stanfordText).data(c.stanford_texts),C=$.enter().append("g").attr("class",function(D){return k.stanfordText+(D.class?" "+D.class:"")}),C.append("text").attr("x",function(D){return c.axis_rotated?G(D,"y"):O(D,"x")}).attr("y",function(D){return c.axis_rotated?O(D,"x"):G(D,"y")}).style("opacity",0),i.stanfordTexts=C.merge($),i.stanfordTexts.select("text").transition().duration(n).attr("x",function(D){return c.axis_rotated?G(D,"y"):O(D,"x")}).attr("y",function(D){return c.axis_rotated?O(D,"x"):G(D,"y")}).text(function(D){return D.content}).style("opacity",1),$.exit().transition().duration(n).style("opacity",0).remove(),w=s.select("."+k.stanfordRegions).selectAll("."+k.stanfordRegion).data(c.stanford_regions),A=w.enter().append("g").attr("class",function(D){return k.stanfordRegion+(D.class?" "+D.class:"")}),A.append("polygon").attr("points",function(D){return D.points.map(function(U){return[c.axis_rotated?G(U,"y"):O(U,"x"),c.axis_rotated?O(U,"x"):G(U,"y")].join(",")}).join(" ")}).style("opacity",0),A.append("text").attr("x",function(D){return i.getCentroid(D.points).x}).attr("y",function(D){return i.getCentroid(D.points).y}).style("opacity",0),i.stanfordRegions=A.merge(w),i.stanfordRegions.select("polygon").transition().duration(n).attr("points",function(D){return D.points.map(function(U){return[c.axis_rotated?G(U,"y"):O(U,"x"),c.axis_rotated?O(U,"x"):G(U,"y")].join(",")}).join(" ")}).style("opacity",function(D){return D.opacity?D.opacity:.2}),i.stanfordRegions.select("text").transition().duration(n).attr("x",function(D){return c.axis_rotated?G(i.getCentroid(D.points),"y"):O(i.getCentroid(D.points),"x")}).attr("y",function(D){return c.axis_rotated?O(i.getCentroid(D.points),"x"):G(i.getCentroid(D.points),"y")}).text(function(D){if(D.text){var U,q,K;return i.isStanfordGraphType()&&(K=Y(D.points),U=K.value,q=K.percentage),D.text(U,q)}return""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),w.exit().transition().duration(n).style("opacity",0).remove()},T.prototype.initTooltip=function(){var n=this,i=n.config,s;if(n.tooltip=n.selectChart.style("position","relative").append("div").attr("class",k.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),i.tooltip_init_show){if(n.isTimeSeries()&&oe(i.tooltip_init_x)){for(i.tooltip_init_x=n.parseDate(i.tooltip_init_x),s=0;s<n.data.targets[0].values.length&&n.data.targets[0].values[s].x-i.tooltip_init_x!==0;s++);i.tooltip_init_x=s}n.tooltip.html(i.tooltip_contents.call(n,n.data.targets.map(function(c){return n.addName(c.values[i.tooltip_init_x])}),n.axis.getXAxisTickFormat(),n.getYFormat(n.hasArcType()),n.color)),n.tooltip.style("top",i.tooltip_init_position.top).style("left",i.tooltip_init_position.left).style("display","block")}},T.prototype.getTooltipSortFunction=function(){var n=this,i=n.config;if(i.data_groups.length===0||i.tooltip_order!==void 0){var s=i.tooltip_order;s===void 0&&(s=i.data_order);var c=function(A){return A?A.value:null};if(oe(s)&&s.toLowerCase()==="asc")return function(w,A){return c(w)-c(A)};if(oe(s)&&s.toLowerCase()==="desc")return function(w,A){return c(A)-c(w)};if(zt(s)){var g=s;return i.tooltip_order===void 0&&(g=function(A,$){return s(A?{id:A.id,values:[A]}:null,$?{id:$.id,values:[$]}:null)}),g}else if(Mi(s))return function(w,A){return s.indexOf(w.id)-s.indexOf(A.id)}}else{var v=n.orderTargets(n.data.targets).map(function(w){return w.id});return(n.isOrderAsc()||n.isOrderDesc())&&(v=v.reverse()),function(w,A){return v.indexOf(w.id)-v.indexOf(A.id)}}},T.prototype.getTooltipContent=function(n,i,s,c){var g=this,v=g.config,w=v.tooltip_format_title||i,A=v.tooltip_format_name||function(K){return K},$,C,O,G,Y,D,U=v.tooltip_format_value;U||(U=g.isTargetNormalized(n.id)?function(K,ot){return"".concat((ot*100).toFixed(2),"%")}:s);var q=this.getTooltipSortFunction();for(q&&n.sort(q),C=0;C<n.length;C++)if(n[C]&&(n[C].value||n[C].value===0)){if(g.isStanfordGraphType())$||(O=g.getStanfordTooltipTitle(n[C]),$="<table class='"+g.CLASS.tooltip+"'>"+O),D=g.getStanfordPointColor(n[C]),Y=De(v.data_epochs),G=n[C].epochs;else if($||(O=De(w?w(n[C].x,n[C].index):n[C].x),$="<table class='"+g.CLASS.tooltip+"'>"+(O||O===0?"<tr><th colspan='2'>"+O+"</th></tr>":"")),G=De(U(n[C].value,n[C].ratio,n[C].id,n[C].index,n)),G!==void 0){if(n[C].name===null)continue;Y=De(A(n[C].name,n[C].ratio,n[C].id,n[C].index)),D=g.levelColor?g.levelColor(n[C].value):c(n[C].id)}G!==void 0&&($+="<tr class='"+g.CLASS.tooltipName+"-"+g.getTargetSelectorSuffix(n[C].id)+"'>",$+="<td class='name'><span style='background-color:"+D+"'></span>"+Y+"</td>",$+="<td class='value'>"+G+"</td>",$+="</tr>")}return $+"</table>"},T.prototype.tooltipPosition=function(n,i,s,c){var g=this,v=g.config,w=g.d3,A,$,C,O,G,Y=g.hasArcType(),D=w.mouse(c);return Y?($=(g.width-(g.isLegendRight?g.getLegendWidth():0))/2+D[0],O=(g.hasType("gauge")?g.height:g.height/2)+D[1]+20):(A=g.getSvgLeft(!0),v.axis_rotated?($=A+D[0]+100,C=$+i,G=g.currentWidth-g.getCurrentPaddingRight(),O=g.x(n[0].x)+20):($=A+g.getCurrentPaddingLeft(!0)+g.x(n[0].x)+20,C=$+i,G=A+g.currentWidth-g.getCurrentPaddingRight(),O=D[1]+15),C>G&&($-=C-G+20),O+s>g.currentHeight&&(O-=s+30)),O<0&&(O=0),{top:O,left:$}},T.prototype.showTooltip=function(n,i){var s=this,c=s.config,g,v,w,A=s.hasArcType(),$=n.filter(function(O){return O&&Et(O.value)}),C=c.tooltip_position||T.prototype.tooltipPosition;if($.length===0||!c.tooltip_show){s.hideTooltip();return}s.tooltip.html(c.tooltip_contents.call(s,n,s.axis.getXAxisTickFormat(),s.getYFormat(A),s.color)).style("display","block"),g=s.tooltip.property("offsetWidth"),v=s.tooltip.property("offsetHeight"),w=C.call(this,$,g,v,i),s.tooltip.style("top",w.top+"px").style("left",w.left+"px")},T.prototype.hideTooltip=function(){this.tooltip.style("display","none")},T.prototype.setTargetType=function(n,i){var s=this,c=s.config;s.mapToTargetIds(n).forEach(function(g){s.withoutFadeIn[g]=i===c.data_types[g],c.data_types[g]=i}),n||(c.data_type=i)},T.prototype.hasType=function(n,i){var s=this,c=s.config.data_types,g=!1;return i=i||s.data.targets,i&&i.length?i.forEach(function(v){var w=c[v.id];(w&&w.indexOf(n)>=0||!w&&n==="line")&&(g=!0)}):Object.keys(c).length?Object.keys(c).forEach(function(v){c[v]===n&&(g=!0)}):g=s.config.data_type===n,g},T.prototype.hasArcType=function(n){return this.hasType("pie",n)||this.hasType("donut",n)||this.hasType("gauge",n)},T.prototype.isLineType=function(n){var i=this.config,s=oe(n)?n:n.id;return!i.data_types[s]||["line","spline","area","area-spline","step","area-step"].indexOf(i.data_types[s])>=0},T.prototype.isStepType=function(n){var i=oe(n)?n:n.id;return["step","area-step"].indexOf(this.config.data_types[i])>=0},T.prototype.isSplineType=function(n){var i=oe(n)?n:n.id;return["spline","area-spline"].indexOf(this.config.data_types[i])>=0},T.prototype.isAreaType=function(n){var i=oe(n)?n:n.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[i])>=0},T.prototype.isBarType=function(n){var i=oe(n)?n:n.id;return this.config.data_types[i]==="bar"},T.prototype.isScatterType=function(n){var i=oe(n)?n:n.id;return this.config.data_types[i]==="scatter"},T.prototype.isStanfordType=function(n){var i=oe(n)?n:n.id;return this.config.data_types[i]==="stanford"},T.prototype.isPieType=function(n){var i=oe(n)?n:n.id;return this.config.data_types[i]==="pie"},T.prototype.isGaugeType=function(n){var i=oe(n)?n:n.id;return this.config.data_types[i]==="gauge"},T.prototype.isDonutType=function(n){var i=oe(n)?n:n.id;return this.config.data_types[i]==="donut"},T.prototype.isArcType=function(n){return this.isPieType(n)||this.isDonutType(n)||this.isGaugeType(n)},T.prototype.lineData=function(n){return this.isLineType(n)?[n]:[]},T.prototype.arcData=function(n){return this.isArcType(n.data)?[n]:[]},T.prototype.barData=function(n){return this.isBarType(n)?n.values:[]},T.prototype.lineOrScatterOrStanfordData=function(n){return this.isLineType(n)||this.isScatterType(n)||this.isStanfordType(n)?n.values:[]},T.prototype.barOrLineData=function(n){return this.isBarType(n)||this.isLineType(n)?n.values:[]},T.prototype.isSafari=function(){var n=window.navigator.userAgent;return n.indexOf("Safari")>=0&&n.indexOf("Chrome")<0},T.prototype.isChrome=function(){var n=window.navigator.userAgent;return n.indexOf("Chrome")>=0},T.prototype.initZoom=function(){var n=this,i=n.d3,s=n.config,c;return n.zoom=i.zoom().on("start",function(){if(s.zoom_type==="scroll"){var g=i.event.sourceEvent;g&&g.type==="brush"||(c=g,s.zoom_onzoomstart.call(n.api,g))}}).on("zoom",function(){if(s.zoom_type==="scroll"){var g=i.event.sourceEvent;g&&g.type==="brush"||(n.redrawForZoom(),s.zoom_onzoom.call(n.api,n.x.orgDomain()))}}).on("end",function(){if(s.zoom_type==="scroll"){var g=i.event.sourceEvent;g&&g.type==="brush"||g&&c.clientX===g.clientX&&c.clientY===g.clientY||s.zoom_onzoomend.call(n.api,n.x.orgDomain())}}),n.zoom.updateDomain=function(){return i.event&&i.event.transform&&n.x.domain(i.event.transform.rescaleX(n.subX).domain()),this},n.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[n.width,n.height]]).extent([[0,0],[n.width,n.height]]),this},n.zoom.update=function(){return this.updateExtent().updateDomain()},n.zoom.updateExtent()},T.prototype.zoomTransform=function(n){var i=this,s=[i.x(n[0]),i.x(n[1])];return i.d3.zoomIdentity.scale(i.width/(s[1]-s[0])).translate(-s[0],0)},T.prototype.initDragZoom=function(){var n=this,i=n.d3,s=n.config,c=n.context=n.svg,g=n.margin.left+20.5,v=n.margin.top+.5;if(s.zoom_type==="drag"&&s.zoom_enabled){var w=function(C){return C&&C.map(function(O){return n.x.invert(O)})},A=n.dragZoomBrush=i.brushX().on("start",function(){n.api.unzoom(),n.svg.select("."+k.dragZoom).classed("disabled",!1),s.zoom_onzoomstart.call(n.api,i.event.sourceEvent)}).on("brush",function(){s.zoom_onzoom.call(n.api,w(i.event.selection))}).on("end",function(){if(i.event.selection!=null){var $=w(i.event.selection);s.zoom_disableDefaultBehavior||n.api.zoom($),n.svg.select("."+k.dragZoom).classed("disabled",!0),s.zoom_onzoomend.call(n.api,$)}});c.append("g").classed(k.dragZoom,!0).attr("clip-path",n.clipPath).attr("transform","translate("+g+","+v+")").call(A)}},T.prototype.getZoomDomain=function(){var n=this,i=n.config,s=n.d3,c=s.min([n.orgXDomain[0],i.zoom_x_min]),g=s.max([n.orgXDomain[1],i.zoom_x_max]);return[c,g]},T.prototype.redrawForZoom=function(){var n=this,i=n.d3,s=n.config,c=n.zoom,g=n.x;s.zoom_enabled&&n.filterTargetsToShow(n.data.targets).length!==0&&(c.update(),!s.zoom_disableDefaultBehavior&&(n.isCategorized()&&g.orgDomain()[0]===n.orgXDomain[0]&&g.domain([n.orgXDomain[0]-1e-10,g.orgDomain()[1]]),n.redraw({withTransition:!1,withY:s.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),i.event.sourceEvent&&i.event.sourceEvent.type==="mousemove"&&(n.cancelClick=!0)))},Cs});(function(m,Rt){typeof exports=="object"&&typeof module<"u"?Rt(exports):typeof define=="function"&&define.amd?define(["exports"],Rt):(m=m||self,Rt(m.d3=m.d3||{}))})(void 0,function(m){var Rt="5.16.0";function Vt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function It(t){return t.length===1&&(t=Xe(t)),{left:function(e,r,a,o){for(a==null&&(a=0),o==null&&(o=e.length);a<o;){var u=a+o>>>1;t(e[u],r)<0?a=u+1:o=u}return a},right:function(e,r,a,o){for(a==null&&(a=0),o==null&&(o=e.length);a<o;){var u=a+o>>>1;t(e[u],r)>0?o=u:a=u+1}return a}}}function Xe(t){return function(e,r){return Vt(t(e),r)}}var vn=It(Vt),Be=vn.right,fr=vn.left;function Ts(t,e){e==null&&(e=T);for(var r=0,a=t.length-1,o=t[0],u=new Array(a<0?0:a);r<a;)u[r]=e(o,o=t[++r]);return u}function T(t,e){return[t,e]}function at(t,e,r){var a=t.length,o=e.length,u=new Array(a*o),f,l,h,d;for(r==null&&(r=T),f=h=0;f<a;++f)for(d=t[f],l=0;l<o;++l,++h)u[h]=r(d,e[l]);return u}function Ci(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function We(t){return t===null?NaN:+t}function ii(t,e){var r=t.length,a=0,o=-1,u=0,f,l,h=0;if(e==null)for(;++o<r;)isNaN(f=We(t[o]))||(l=f-u,u+=l/++a,h+=l*(f-u));else for(;++o<r;)isNaN(f=We(e(t[o],o,t)))||(l=f-u,u+=l/++a,h+=l*(f-u));if(a>1)return h/(a-1)}function qt(t,e){var r=ii(t,e);return r&&Math.sqrt(r)}function Li(t,e){var r=t.length,a=-1,o,u,f;if(e==null){for(;++a<r;)if((o=t[a])!=null&&o>=o)for(u=f=o;++a<r;)(o=t[a])!=null&&(u>o&&(u=o),f<o&&(f=o))}else for(;++a<r;)if((o=e(t[a],a,t))!=null&&o>=o)for(u=f=o;++a<r;)(o=e(t[a],a,t))!=null&&(u>o&&(u=o),f<o&&(f=o));return[u,f]}var qe=Array.prototype,As=qe.slice,Mi=qe.map;function te(t){return function(){return t}}function lr(t){return t}function zt(t,e,r){t=+t,e=+e,r=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+r;for(var a=-1,o=Math.max(0,Math.ceil((e-t)/r))|0,u=new Array(o);++a<o;)u[a]=t+a*r;return u}var $i=Math.sqrt(50),oe=Math.sqrt(10),xe=Math.sqrt(2);function Et(t,e,r){var a,o=-1,u,f,l;if(e=+e,t=+t,r=+r,t===e&&r>0)return[t];if((a=e<t)&&(u=t,t=e,e=u),(l=he(t,e,r))===0||!isFinite(l))return[];if(l>0)for(t=Math.ceil(t/l),e=Math.floor(e/l),f=new Array(u=Math.ceil(e-t+1));++o<u;)f[o]=(t+o)*l;else for(t=Math.floor(t*l),e=Math.ceil(e*l),f=new Array(u=Math.ceil(t-e+1));++o<u;)f[o]=(t-o)/l;return a&&f.reverse(),f}function he(t,e,r){var a=(e-t)/Math.max(0,r),o=Math.floor(Math.log(a)/Math.LN10),u=a/Math.pow(10,o);return o>=0?(u>=$i?10:u>=oe?5:u>=xe?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(u>=$i?10:u>=oe?5:u>=xe?2:1)}function De(t,e,r){var a=Math.abs(e-t)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),u=a/o;return u>=$i?o*=10:u>=oe?o*=5:u>=xe&&(o*=2),e<t?-o:o}function hr(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function Ps(){var t=lr,e=Li,r=hr;function a(o){var u,f=o.length,l,h=new Array(f);for(u=0;u<f;++u)h[u]=t(o[u],u,o);var d=e(h),p=d[0],_=d[1],y=r(h,p,_);Array.isArray(y)||(y=De(p,_,y),y=zt(Math.ceil(p/y)*y,_,y));for(var x=y.length;y[0]<=p;)y.shift(),--x;for(;y[x-1]>_;)y.pop(),--x;var S=new Array(x+1),b;for(u=0;u<=x;++u)b=S[u]=[],b.x0=u>0?y[u-1]:p,b.x1=u<x?y[u]:_;for(u=0;u<f;++u)l=h[u],p<=l&&l<=_&&S[Be(y,l,0,x)].push(o[u]);return S}return a.value=function(o){return arguments.length?(t=typeof o=="function"?o:te(o),a):t},a.domain=function(o){return arguments.length?(e=typeof o=="function"?o:te([o[0],o[1]]),a):e},a.thresholds=function(o){return arguments.length?(r=typeof o=="function"?o:Array.isArray(o)?te(As.call(o)):te(o),a):r},a}function ri(t,e,r){if(r==null&&(r=We),!!(a=t.length)){if((e=+e)<=0||a<2)return+r(t[0],0,t);if(e>=1)return+r(t[a-1],a-1,t);var a,o=(a-1)*e,u=Math.floor(o),f=+r(t[u],u,t),l=+r(t[u+1],u+1,t);return f+(l-f)*(o-u)}}function Ma(t,e,r){return t=Mi.call(t,We).sort(Vt),Math.ceil((r-e)/(2*(ri(t,.75)-ri(t,.25))*Math.pow(t.length,-1/3)))}function Kt(t,e,r){return Math.ceil((r-e)/(3.5*qt(t)*Math.pow(t.length,-1/3)))}function k(t,e){var r=t.length,a=-1,o,u;if(e==null){for(;++a<r;)if((o=t[a])!=null&&o>=o)for(u=o;++a<r;)(o=t[a])!=null&&o>u&&(u=o)}else for(;++a<r;)if((o=e(t[a],a,t))!=null&&o>=o)for(u=o;++a<r;)(o=e(t[a],a,t))!=null&&o>u&&(u=o);return u}function vt(t,e){var r=t.length,a=r,o=-1,u,f=0;if(e==null)for(;++o<r;)isNaN(u=We(t[o]))?--a:f+=u;else for(;++o<r;)isNaN(u=We(e(t[o],o,t)))?--a:f+=u;if(a)return f/a}function Cs(t,e){var r=t.length,a=-1,o,u=[];if(e==null)for(;++a<r;)isNaN(o=We(t[a]))||u.push(o);else for(;++a<r;)isNaN(o=We(e(t[a],a,t)))||u.push(o);return ri(u.sort(Vt),.5)}function Ei(t){for(var e=t.length,r,a=-1,o=0,u,f;++a<e;)o+=t[a].length;for(u=new Array(o);--e>=0;)for(f=t[e],r=f.length;--r>=0;)u[--o]=f[r];return u}function $a(t,e){var r=t.length,a=-1,o,u;if(e==null){for(;++a<r;)if((o=t[a])!=null&&o>=o)for(u=o;++a<r;)(o=t[a])!=null&&u>o&&(u=o)}else for(;++a<r;)if((o=e(t[a],a,t))!=null&&o>=o)for(u=o;++a<r;)(o=e(t[a],a,t))!=null&&u>o&&(u=o);return u}function Ls(t,e){for(var r=e.length,a=new Array(r);r--;)a[r]=t[e[r]];return a}function Ms(t,e){if(r=t.length){var r,a=0,o=0,u,f=t[o];for(e==null&&(e=Vt);++a<r;)(e(u=t[a],f)<0||e(f,f)!==0)&&(f=u,o=a);if(e(f,f)===0)return o}}function $s(t,e,r){for(var a=(r??t.length)-(e=e==null?0:+e),o,u;a;)u=Math.random()*a--|0,o=t[a+e],t[a+e]=t[u+e],t[u+e]=o;return t}function n(t,e){var r=t.length,a=-1,o,u=0;if(e==null)for(;++a<r;)(o=+t[a])&&(u+=o);else for(;++a<r;)(o=+e(t[a],a,t))&&(u+=o);return u}function i(t){if(!(u=t.length))return[];for(var e=-1,r=$a(t,s),a=new Array(r);++e<r;)for(var o=-1,u,f=a[e]=new Array(u);++o<u;)f[o]=t[o][e];return a}function s(t){return t.length}function c(){return i(arguments)}var g=Array.prototype.slice;function v(t){return t}var w=1,A=2,$=3,C=4,O=1e-6;function G(t){return"translate("+(t+.5)+",0)"}function Y(t){return"translate(0,"+(t+.5)+")"}function D(t){return function(e){return+t(e)}}function U(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(r){return+t(r)+e}}function q(){return!this.__axis}function K(t,e){var r=[],a=null,o=null,u=6,f=6,l=3,h=t===w||t===C?-1:1,d=t===C||t===A?"x":"y",p=t===w||t===$?G:Y;function _(y){var x=a??(e.ticks?e.ticks.apply(e,r):e.domain()),S=o??(e.tickFormat?e.tickFormat.apply(e,r):v),b=Math.max(u,0)+l,P=e.range(),L=+P[0]+.5,R=+P[P.length-1]+.5,M=(e.bandwidth?U:D)(e.copy()),E=y.selection?y.selection():y,N=E.selectAll(".domain").data([null]),z=E.selectAll(".tick").data(x,e).order(),F=z.exit(),Q=z.enter().append("g").attr("class","tick"),H=z.select("line"),W=z.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),z=z.merge(Q),H=H.merge(Q.append("line").attr("stroke","currentColor").attr(d+"2",h*u)),W=W.merge(Q.append("text").attr("fill","currentColor").attr(d,h*b).attr("dy",t===w?"0em":t===$?"0.71em":"0.32em")),y!==E&&(N=N.transition(y),z=z.transition(y),H=H.transition(y),W=W.transition(y),F=F.transition(y).attr("opacity",O).attr("transform",function(B){return isFinite(B=M(B))?p(B):this.getAttribute("transform")}),Q.attr("opacity",O).attr("transform",function(B){var V=this.parentNode.__axis;return p(V&&isFinite(V=V(B))?V:M(B))})),F.remove(),N.attr("d",t===C||t==A?f?"M"+h*f+","+L+"H0.5V"+R+"H"+h*f:"M0.5,"+L+"V"+R:f?"M"+L+","+h*f+"V0.5H"+R+"V"+h*f:"M"+L+",0.5H"+R),z.attr("opacity",1).attr("transform",function(B){return p(M(B))}),H.attr(d+"2",h*u),W.attr(d,h*b).text(S),E.filter(q).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===A?"start":t===C?"end":"middle"),E.each(function(){this.__axis=M})}return _.scale=function(y){return arguments.length?(e=y,_):e},_.ticks=function(){return r=g.call(arguments),_},_.tickArguments=function(y){return arguments.length?(r=y==null?[]:g.call(y),_):r.slice()},_.tickValues=function(y){return arguments.length?(a=y==null?null:g.call(y),_):a&&a.slice()},_.tickFormat=function(y){return arguments.length?(o=y,_):o},_.tickSize=function(y){return arguments.length?(u=f=+y,_):u},_.tickSizeInner=function(y){return arguments.length?(u=+y,_):u},_.tickSizeOuter=function(y){return arguments.length?(f=+y,_):f},_.tickPadding=function(y){return arguments.length?(l=+y,_):l},_}function ot(t){return K(w,t)}function xt(t){return K(A,t)}function kt(t){return K($,t)}function Ct(t){return K(C,t)}var Ft={value:function(){}};function At(){for(var t=0,e=arguments.length,r={},a;t<e;++t){if(!(a=arguments[t]+"")||a in r||/[\s.]/.test(a))throw new Error("illegal type: "+a);r[a]=[]}return new yt(r)}function yt(t){this._=t}function Lt(t,e){return t.trim().split(/^|\s+/).map(function(r){var a="",o=r.indexOf(".");if(o>=0&&(a=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:a}})}yt.prototype=At.prototype={constructor:yt,on:function(t,e){var r=this._,a=Lt(t+"",r),o,u=-1,f=a.length;if(arguments.length<2){for(;++u<f;)if((o=(t=a[u]).type)&&(o=Ht(r[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++u<f;)if(o=(t=a[u]).type)r[o]=mt(r[o],t.name,e);else if(e==null)for(o in r)r[o]=mt(r[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new yt(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var r=new Array(o),a=0,o,u;a<o;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],a=0,o=u.length;a<o;++a)u[a].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var a=this._[t],o=0,u=a.length;o<u;++o)a[o].value.apply(e,r)}};function Ht(t,e){for(var r=0,a=t.length,o;r<a;++r)if((o=t[r]).name===e)return o.value}function mt(t,e,r){for(var a=0,o=t.length;a<o;++a)if(t[a].name===e){t[a]=Ft,t=t.slice(0,a).concat(t.slice(a+1));break}return r!=null&&t.push({name:e,value:r}),t}var ut="http://www.w3.org/1999/xhtml",lt={svg:"http://www.w3.org/2000/svg",xhtml:ut,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jt(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),lt.hasOwnProperty(e)?{space:lt[e],local:t}:t}function we(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===ut&&e.documentElement.namespaceURI===ut?e.createElement(t):e.createElementNS(r,t)}}function be(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function se(t){var e=Jt(t);return(e.local?be:we)(e)}function de(){}function ce(t){return t==null?de:function(){return this.querySelector(t)}}function Qt(t){typeof t!="function"&&(t=ce(t));for(var e=this._groups,r=e.length,a=new Array(r),o=0;o<r;++o)for(var u=e[o],f=u.length,l=a[o]=new Array(f),h,d,p=0;p<f;++p)(h=u[p])&&(d=t.call(h,h.__data__,p,u))&&("__data__"in h&&(d.__data__=h.__data__),l[p]=d);return new Ce(a,this._parents)}function it(){return[]}function ht(t){return t==null?it:function(){return this.querySelectorAll(t)}}function jt(t){typeof t!="function"&&(t=ht(t));for(var e=this._groups,r=e.length,a=[],o=[],u=0;u<r;++u)for(var f=e[u],l=f.length,h,d=0;d<l;++d)(h=f[d])&&(a.push(t.call(h,h.__data__,d,f)),o.push(h));return new Ce(a,o)}function En(t){return function(){return this.matches(t)}}function dr(t){typeof t!="function"&&(t=En(t));for(var e=this._groups,r=e.length,a=new Array(r),o=0;o<r;++o)for(var u=e[o],f=u.length,l=a[o]=[],h,d=0;d<f;++d)(h=u[d])&&t.call(h,h.__data__,d,u)&&l.push(h);return new Ce(a,this._parents)}function fn(t){return new Array(t.length)}function Qe(){return new Ce(this._enter||this._groups.map(fn),this._parents)}function ye(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ye.prototype={constructor:ye,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function xn(t){return function(){return t}}var ki="$";function Hn(t,e,r,a,o,u){for(var f=0,l,h=e.length,d=u.length;f<d;++f)(l=e[f])?(l.__data__=u[f],a[f]=l):r[f]=new ye(t,u[f]);for(;f<h;++f)(l=e[f])&&(o[f]=l)}function Ea(t,e,r,a,o,u,f){var l,h,d={},p=e.length,_=u.length,y=new Array(p),x;for(l=0;l<p;++l)(h=e[l])&&(y[l]=x=ki+f.call(h,h.__data__,l,e),x in d?o[l]=h:d[x]=h);for(l=0;l<_;++l)x=ki+f.call(t,u[l],l,u),(h=d[x])?(a[l]=h,h.__data__=u[l],d[x]=null):r[l]=new ye(t,u[l]);for(l=0;l<p;++l)(h=e[l])&&d[y[l]]===h&&(o[l]=h)}function gr(t,e){if(!t)return x=new Array(this.size()),d=-1,this.each(function(z){x[++d]=z}),x;var r=e?Ea:Hn,a=this._parents,o=this._groups;typeof t!="function"&&(t=xn(t));for(var u=o.length,f=new Array(u),l=new Array(u),h=new Array(u),d=0;d<u;++d){var p=a[d],_=o[d],y=_.length,x=t.call(p,p&&p.__data__,d,a),S=x.length,b=l[d]=new Array(S),P=f[d]=new Array(S),L=h[d]=new Array(y);r(p,_,b,P,L,x,e);for(var R=0,M=0,E,N;R<S;++R)if(E=b[R]){for(R>=M&&(M=R+1);!(N=P[M])&&++M<S;);E._next=N||null}}return f=new Ce(f,a),f._enter=l,f._exit=h,f}function wn(){return new Ce(this._exit||this._groups.map(fn),this._parents)}function Es(t,e,r){var a=this.enter(),o=this,u=this.exit();return a=typeof t=="function"?t(a):a.append(t+""),e!=null&&(o=e(o)),r==null?u.remove():r(u),a&&o?a.merge(o).order():o}function w0(t){for(var e=this._groups,r=t._groups,a=e.length,o=r.length,u=Math.min(a,o),f=new Array(a),l=0;l<u;++l)for(var h=e[l],d=r[l],p=h.length,_=f[l]=new Array(p),y,x=0;x<p;++x)(y=h[x]||d[x])&&(_[x]=y);for(;l<a;++l)f[l]=e[l];return new Ce(f,this._parents)}function b0(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var a=t[e],o=a.length-1,u=a[o],f;--o>=0;)(f=a[o])&&(u&&f.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(f,u),u=f);return this}function S0(t){t||(t=T0);function e(_,y){return _&&y?t(_.__data__,y.__data__):!_-!y}for(var r=this._groups,a=r.length,o=new Array(a),u=0;u<a;++u){for(var f=r[u],l=f.length,h=o[u]=new Array(l),d,p=0;p<l;++p)(d=f[p])&&(h[p]=d);h.sort(e)}return new Ce(o,this._parents).order()}function T0(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function A0(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function P0(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function C0(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var a=t[e],o=0,u=a.length;o<u;++o){var f=a[o];if(f)return f}return null}function L0(){var t=0;return this.each(function(){++t}),t}function M0(){return!this.node()}function $0(t){for(var e=this._groups,r=0,a=e.length;r<a;++r)for(var o=e[r],u=0,f=o.length,l;u<f;++u)(l=o[u])&&t.call(l,l.__data__,u,o);return this}function E0(t){return function(){this.removeAttribute(t)}}function k0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function R0(t,e){return function(){this.setAttribute(t,e)}}function V0(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function G0(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function O0(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function N0(t,e){var r=Jt(t);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((e==null?r.local?k0:E0:typeof e=="function"?r.local?O0:G0:r.local?V0:R0)(r,e))}function ks(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function D0(t){return function(){this.style.removeProperty(t)}}function F0(t,e,r){return function(){this.style.setProperty(t,e,r)}}function I0(t,e,r){return function(){var a=e.apply(this,arguments);a==null?this.style.removeProperty(t):this.style.setProperty(t,a,r)}}function z0(t,e,r){return arguments.length>1?this.each((e==null?D0:typeof e=="function"?I0:F0)(t,e,r??"")):ai(this.node(),t)}function ai(t,e){return t.style.getPropertyValue(e)||ks(t).getComputedStyle(t,null).getPropertyValue(e)}function X0(t){return function(){delete this[t]}}function B0(t,e){return function(){this[t]=e}}function Y0(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function H0(t,e){return arguments.length>1?this.each((e==null?X0:typeof e=="function"?Y0:B0)(t,e)):this.node()[t]}function xf(t){return t.trim().split(/^|\s+/)}function Rs(t){return t.classList||new wf(t)}function wf(t){this._node=t,this._names=xf(t.getAttribute("class")||"")}wf.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function bf(t,e){for(var r=Rs(t),a=-1,o=e.length;++a<o;)r.add(e[a])}function Sf(t,e){for(var r=Rs(t),a=-1,o=e.length;++a<o;)r.remove(e[a])}function U0(t){return function(){bf(this,t)}}function W0(t){return function(){Sf(this,t)}}function q0(t,e){return function(){(e.apply(this,arguments)?bf:Sf)(this,t)}}function Q0(t,e){var r=xf(t+"");if(arguments.length<2){for(var a=Rs(this.node()),o=-1,u=r.length;++o<u;)if(!a.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?q0:e?U0:W0)(r,e))}function j0(){this.textContent=""}function Z0(t){return function(){this.textContent=t}}function K0(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function J0(t){return arguments.length?this.each(t==null?j0:(typeof t=="function"?K0:Z0)(t)):this.node().textContent}function ty(){this.innerHTML=""}function ey(t){return function(){this.innerHTML=t}}function ny(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function iy(t){return arguments.length?this.each(t==null?ty:(typeof t=="function"?ny:ey)(t)):this.node().innerHTML}function ry(){this.nextSibling&&this.parentNode.appendChild(this)}function ay(){return this.each(ry)}function oy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sy(){return this.each(oy)}function uy(t){var e=typeof t=="function"?t:se(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function cy(){return null}function fy(t,e){var r=typeof t=="function"?t:se(t),a=e==null?cy:typeof e=="function"?e:ce(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}function ly(){var t=this.parentNode;t&&t.removeChild(this)}function hy(){return this.each(ly)}function dy(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function gy(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function py(t){return this.select(t?gy:dy)}function yy(t){return arguments.length?this.property("__data__",t):this.node().__data__}var Tf={};if(m.event=null,typeof document<"u"){var _y=document.documentElement;"onmouseenter"in _y||(Tf={mouseenter:"mouseover",mouseleave:"mouseout"})}function my(t,e,r){return t=Af(t,e,r),function(a){var o=a.relatedTarget;(!o||o!==this&&!(o.compareDocumentPosition(this)&8))&&t.call(this,a)}}function Af(t,e,r){return function(a){var o=m.event;m.event=a;try{t.call(this,this.__data__,e,r)}finally{m.event=o}}}function vy(t){return t.trim().split(/^|\s+/).map(function(e){var r="",a=e.indexOf(".");return a>=0&&(r=e.slice(a+1),e=e.slice(0,a)),{type:e,name:r}})}function xy(t){return function(){var e=this.__on;if(e){for(var r=0,a=-1,o=e.length,u;r<o;++r)u=e[r],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.capture):e[++a]=u;++a?e.length=a:delete this.__on}}}function wy(t,e,r){var a=Tf.hasOwnProperty(t.type)?my:Af;return function(o,u,f){var l=this.__on,h,d=a(e,u,f);if(l){for(var p=0,_=l.length;p<_;++p)if((h=l[p]).type===t.type&&h.name===t.name){this.removeEventListener(h.type,h.listener,h.capture),this.addEventListener(h.type,h.listener=d,h.capture=r),h.value=e;return}}this.addEventListener(t.type,d,r),h={type:t.type,name:t.name,value:e,listener:d,capture:r},l?l.push(h):this.__on=[h]}}function by(t,e,r){var a=vy(t+""),o,u=a.length,f;if(arguments.length<2){var l=this.node().__on;if(l){for(var h=0,d=l.length,p;h<d;++h)for(o=0,p=l[h];o<u;++o)if((f=a[o]).type===p.type&&f.name===p.name)return p.value}return}for(l=e?wy:xy,r==null&&(r=!1),o=0;o<u;++o)this.each(l(a[o],e,r));return this}function pr(t,e,r,a){var o=m.event;t.sourceEvent=m.event,m.event=t;try{return e.apply(r,a)}finally{m.event=o}}function Pf(t,e,r){var a=ks(t),o=a.CustomEvent;typeof o=="function"?o=new o(e,r):(o=a.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Sy(t,e){return function(){return Pf(this,t,e)}}function Ty(t,e){return function(){return Pf(this,t,e.apply(this,arguments))}}function Ay(t,e){return this.each((typeof e=="function"?Ty:Sy)(t,e))}var Vs=[null];function Ce(t,e){this._groups=t,this._parents=e}function oi(){return new Ce([[document.documentElement]],Vs)}Ce.prototype=oi.prototype={constructor:Ce,select:Qt,selectAll:jt,filter:dr,data:gr,enter:Qe,exit:wn,join:Es,merge:w0,order:b0,sort:S0,call:A0,nodes:P0,node:C0,size:L0,empty:M0,each:$0,attr:N0,style:z0,property:H0,classed:Q0,text:J0,html:iy,raise:ay,lower:sy,append:uy,insert:fy,remove:hy,clone:py,datum:yy,on:by,dispatch:Ay};function Fe(t){return typeof t=="string"?new Ce([[document.querySelector(t)]],[document.documentElement]):new Ce([[t]],Vs)}function Py(t){return Fe(se(t).call(document.documentElement))}var Cy=0;function Cf(){return new Gs}function Gs(){this._="@"+(++Cy).toString(36)}Gs.prototype=Cf.prototype={constructor:Gs,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function Os(){for(var t=m.event,e;e=t.sourceEvent;)t=e;return t}function ka(t,e){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var a=r.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function si(t){var e=Os();return e.changedTouches&&(e=e.changedTouches[0]),ka(t,e)}function Ly(t){return typeof t=="string"?new Ce([document.querySelectorAll(t)],[document.documentElement]):new Ce([t??[]],Vs)}function yr(t,e,r){arguments.length<3&&(r=e,e=Os().changedTouches);for(var a=0,o=e?e.length:0,u;a<o;++a)if((u=e[a]).identifier===r)return ka(t,u);return null}function My(t,e){e==null&&(e=Os().touches);for(var r=0,a=e?e.length:0,o=new Array(a);r<a;++r)o[r]=ka(t,e[r]);return o}function Ns(){m.event.stopImmediatePropagation()}function Ri(){m.event.preventDefault(),m.event.stopImmediatePropagation()}function Ra(t){var e=t.document.documentElement,r=Fe(t).on("dragstart.drag",Ri,!0);"onselectstart"in e?r.on("selectstart.drag",Ri,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Va(t,e){var r=t.document.documentElement,a=Fe(t).on("dragstart.drag",null);e&&(a.on("click.drag",Ri,!0),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function Ga(t){return function(){return t}}function Ds(t,e,r,a,o,u,f,l,h,d){this.target=t,this.type=e,this.subject=r,this.identifier=a,this.active=o,this.x=u,this.y=f,this.dx=l,this.dy=h,this._=d}Ds.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function $y(){return!m.event.ctrlKey&&!m.event.button}function Ey(){return this.parentNode}function ky(t){return t??{x:m.event.x,y:m.event.y}}function Ry(){return navigator.maxTouchPoints||"ontouchstart"in this}function Vy(){var t=$y,e=Ey,r=ky,a=Ry,o={},u=At("start","drag","end"),f=0,l,h,d,p,_=0;function y(E){E.on("mousedown.drag",x).filter(a).on("touchstart.drag",P).on("touchmove.drag",L).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(){if(!(p||!t.apply(this,arguments))){var E=M("mouse",e.apply(this,arguments),si,this,arguments);E&&(Fe(m.event.view).on("mousemove.drag",S,!0).on("mouseup.drag",b,!0),Ra(m.event.view),Ns(),d=!1,l=m.event.clientX,h=m.event.clientY,E("start"))}}function S(){if(Ri(),!d){var E=m.event.clientX-l,N=m.event.clientY-h;d=E*E+N*N>_}o.mouse("drag")}function b(){Fe(m.event.view).on("mousemove.drag mouseup.drag",null),Va(m.event.view,d),Ri(),o.mouse("end")}function P(){if(t.apply(this,arguments)){var E=m.event.changedTouches,N=e.apply(this,arguments),z=E.length,F,Q;for(F=0;F<z;++F)(Q=M(E[F].identifier,N,yr,this,arguments))&&(Ns(),Q("start"))}}function L(){var E=m.event.changedTouches,N=E.length,z,F;for(z=0;z<N;++z)(F=o[E[z].identifier])&&(Ri(),F("drag"))}function R(){var E=m.event.changedTouches,N=E.length,z,F;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),z=0;z<N;++z)(F=o[E[z].identifier])&&(Ns(),F("end"))}function M(E,N,z,F,Q){var H=z(N,E),W,B,V,X=u.copy();if(pr(new Ds(y,"beforestart",W,E,f,H[0],H[1],0,0,X),function(){return(m.event.subject=W=r.apply(F,Q))==null?!1:(B=W.x-H[0]||0,V=W.y-H[1]||0,!0)}))return function Z(I){var j=H,ft;switch(I){case"start":o[E]=Z,ft=f++;break;case"end":delete o[E],--f;case"drag":H=z(N,E),ft=f;break}pr(new Ds(y,I,W,E,ft,H[0]+B,H[1]+V,H[0]-j[0],H[1]-j[1],X),X.apply,X,[I,F,Q])}}return y.filter=function(E){return arguments.length?(t=typeof E=="function"?E:Ga(!!E),y):t},y.container=function(E){return arguments.length?(e=typeof E=="function"?E:Ga(E),y):e},y.subject=function(E){return arguments.length?(r=typeof E=="function"?E:Ga(E),y):r},y.touchable=function(E){return arguments.length?(a=typeof E=="function"?E:Ga(!!E),y):a},y.on=function(){var E=u.on.apply(u,arguments);return E===u?y:E},y.clickDistance=function(E){return arguments.length?(_=(E=+E)*E,y):Math.sqrt(_)},y}function Vi(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function _r(t,e){var r=Object.create(t.prototype);for(var a in e)r[a]=e[a];return r}function Un(){}var ui=.7,Gi=1/ui,Oi="\\s*([+-]?\\d+)\\s*",mr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",bn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gy=/^#([0-9a-f]{3,8})$/,Oy=new RegExp("^rgb\\("+[Oi,Oi,Oi]+"\\)$"),Ny=new RegExp("^rgb\\("+[bn,bn,bn]+"\\)$"),Dy=new RegExp("^rgba\\("+[Oi,Oi,Oi,mr]+"\\)$"),Fy=new RegExp("^rgba\\("+[bn,bn,bn,mr]+"\\)$"),Iy=new RegExp("^hsl\\("+[mr,bn,bn]+"\\)$"),zy=new RegExp("^hsla\\("+[mr,bn,bn,mr]+"\\)$"),Lf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vi(Un,Wn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Mf,formatHex:Mf,formatHsl:Xy,formatRgb:$f,toString:$f});function Mf(){return this.rgb().formatHex()}function Xy(){return Gf(this).formatHsl()}function $f(){return this.rgb().formatRgb()}function Wn(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Gy.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Ef(e):r===3?new _e(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Oa(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Oa(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Oy.exec(t))?new _e(e[1],e[2],e[3],1):(e=Ny.exec(t))?new _e(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Dy.exec(t))?Oa(e[1],e[2],e[3],e[4]):(e=Fy.exec(t))?Oa(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Iy.exec(t))?Vf(e[1],e[2]/100,e[3]/100,1):(e=zy.exec(t))?Vf(e[1],e[2]/100,e[3]/100,e[4]):Lf.hasOwnProperty(t)?Ef(Lf[t]):t==="transparent"?new _e(NaN,NaN,NaN,0):null}function Ef(t){return new _e(t>>16&255,t>>8&255,t&255,1)}function Oa(t,e,r,a){return a<=0&&(t=e=r=NaN),new _e(t,e,r,a)}function Fs(t){return t instanceof Un||(t=Wn(t)),t?(t=t.rgb(),new _e(t.r,t.g,t.b,t.opacity)):new _e}function Ni(t,e,r,a){return arguments.length===1?Fs(t):new _e(t,e,r,a??1)}function _e(t,e,r,a){this.r=+t,this.g=+e,this.b=+r,this.opacity=+a}Vi(_e,Ni,_r(Un,{brighter:function(t){return t=t==null?Gi:Math.pow(Gi,t),new _e(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?ui:Math.pow(ui,t),new _e(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kf,formatHex:kf,formatRgb:Rf,toString:Rf}));function kf(){return"#"+Is(this.r)+Is(this.g)+Is(this.b)}function Rf(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Is(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Vf(t,e,r,a){return a<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Sn(t,e,r,a)}function Gf(t){if(t instanceof Sn)return new Sn(t.h,t.s,t.l,t.opacity);if(t instanceof Un||(t=Wn(t)),!t)return new Sn;if(t instanceof Sn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,a=t.b/255,o=Math.min(e,r,a),u=Math.max(e,r,a),f=NaN,l=u-o,h=(u+o)/2;return l?(e===u?f=(r-a)/l+(r<a)*6:r===u?f=(a-e)/l+2:f=(e-r)/l+4,l/=h<.5?u+o:2-u-o,f*=60):l=h>0&&h<1?0:f,new Sn(f,l,h,t.opacity)}function Na(t,e,r,a){return arguments.length===1?Gf(t):new Sn(t,e,r,a??1)}function Sn(t,e,r,a){this.h=+t,this.s=+e,this.l=+r,this.opacity=+a}Vi(Sn,Na,_r(Un,{brighter:function(t){return t=t==null?Gi:Math.pow(Gi,t),new Sn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?ui:Math.pow(ui,t),new Sn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*e,o=2*r-a;return new _e(zs(t>=240?t-240:t+120,o,a),zs(t,o,a),zs(t<120?t+240:t-120,o,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function zs(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}var Of=Math.PI/180,Nf=180/Math.PI,Da=18,Df=.96422,Ff=1,If=.82521,zf=4/29,Di=6/29,Xf=3*Di*Di,By=Di*Di*Di;function Bf(t){if(t instanceof ln)return new ln(t.l,t.a,t.b,t.opacity);if(t instanceof Tn)return Hf(t);t instanceof _e||(t=Fs(t));var e=Hs(t.r),r=Hs(t.g),a=Hs(t.b),o=Xs((.2225045*e+.7168786*r+.0606169*a)/Ff),u,f;return e===r&&r===a?u=f=o:(u=Xs((.4360747*e+.3850649*r+.1430804*a)/Df),f=Xs((.0139322*e+.0971045*r+.7141733*a)/If)),new ln(116*o-16,500*(u-o),200*(o-f),t.opacity)}function Yy(t,e){return new ln(t,0,0,e??1)}function Fa(t,e,r,a){return arguments.length===1?Bf(t):new ln(t,e,r,a??1)}function ln(t,e,r,a){this.l=+t,this.a=+e,this.b=+r,this.opacity=+a}Vi(ln,Fa,_r(Un,{brighter:function(t){return new ln(this.l+Da*(t??1),this.a,this.b,this.opacity)},darker:function(t){return new ln(this.l-Da*(t??1),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return e=Df*Bs(e),t=Ff*Bs(t),r=If*Bs(r),new _e(Ys(3.1338561*e-1.6168667*t-.4906146*r),Ys(-.9787684*e+1.9161415*t+.033454*r),Ys(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}}));function Xs(t){return t>By?Math.pow(t,1/3):t/Xf+zf}function Bs(t){return t>Di?t*t*t:Xf*(t-zf)}function Ys(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Hs(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Yf(t){if(t instanceof Tn)return new Tn(t.h,t.c,t.l,t.opacity);if(t instanceof ln||(t=Bf(t)),t.a===0&&t.b===0)return new Tn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Nf;return new Tn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Hy(t,e,r,a){return arguments.length===1?Yf(t):new Tn(r,e,t,a??1)}function Ia(t,e,r,a){return arguments.length===1?Yf(t):new Tn(t,e,r,a??1)}function Tn(t,e,r,a){this.h=+t,this.c=+e,this.l=+r,this.opacity=+a}function Hf(t){if(isNaN(t.h))return new ln(t.l,0,0,t.opacity);var e=t.h*Of;return new ln(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Vi(Tn,Ia,_r(Un,{brighter:function(t){return new Tn(this.h,this.c,this.l+Da*(t??1),this.opacity)},darker:function(t){return new Tn(this.h,this.c,this.l-Da*(t??1),this.opacity)},rgb:function(){return Hf(this).rgb()}}));var Uf=-.14861,Us=1.78277,Ws=-.29227,za=-.90649,vr=1.97294,Wf=vr*za,qf=vr*Us,Qf=Us*Ws-za*Uf;function Uy(t){if(t instanceof ci)return new ci(t.h,t.s,t.l,t.opacity);t instanceof _e||(t=Fs(t));var e=t.r/255,r=t.g/255,a=t.b/255,o=(Qf*a+Wf*e-qf*r)/(Qf+Wf-qf),u=a-o,f=(vr*(r-o)-Ws*u)/za,l=Math.sqrt(f*f+u*u)/(vr*o*(1-o)),h=l?Math.atan2(f,u)*Nf-120:NaN;return new ci(h<0?h+360:h,l,o,t.opacity)}function hn(t,e,r,a){return arguments.length===1?Uy(t):new ci(t,e,r,a??1)}function ci(t,e,r,a){this.h=+t,this.s=+e,this.l=+r,this.opacity=+a}Vi(ci,hn,_r(Un,{brighter:function(t){return t=t==null?Gi:Math.pow(Gi,t),new ci(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?ui:Math.pow(ui,t),new ci(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Of,e=+this.l,r=isNaN(this.s)?0:this.s*e*(1-e),a=Math.cos(t),o=Math.sin(t);return new _e(255*(e+r*(Uf*a+Us*o)),255*(e+r*(Ws*a+za*o)),255*(e+r*(vr*a)),this.opacity)}}));function jf(t,e,r,a,o){var u=t*t,f=u*t;return((1-3*t+3*u-f)*e+(4-6*u+3*f)*r+(1+3*t+3*u-3*f)*a+f*o)/6}function Zf(t){var e=t.length-1;return function(r){var a=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[a],u=t[a+1],f=a>0?t[a-1]:2*o-u,l=a<e-1?t[a+2]:2*u-o;return jf((r-a/e)*e,f,o,u,l)}}function Kf(t){var e=t.length;return function(r){var a=Math.floor(((r%=1)<0?++r:r)*e),o=t[(a+e-1)%e],u=t[a%e],f=t[(a+1)%e],l=t[(a+2)%e];return jf((r-a/e)*e,o,u,f,l)}}function Xa(t){return function(){return t}}function Jf(t,e){return function(r){return t+r*e}}function Wy(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(a){return Math.pow(t+a*e,r)}}function Ba(t,e){var r=e-t;return r?Jf(t,r>180||r<-180?r-360*Math.round(r/360):r):Xa(isNaN(t)?e:t)}function qy(t){return(t=+t)==1?ge:function(e,r){return r-e?Wy(e,r,t):Xa(isNaN(e)?r:e)}}function ge(t,e){var r=e-t;return r?Jf(t,r):Xa(isNaN(t)?e:t)}var xr=function t(e){var r=qy(e);function a(o,u){var f=r((o=Ni(o)).r,(u=Ni(u)).r),l=r(o.g,u.g),h=r(o.b,u.b),d=ge(o.opacity,u.opacity);return function(p){return o.r=f(p),o.g=l(p),o.b=h(p),o.opacity=d(p),o+""}}return a.gamma=t,a}(1);function tl(t){return function(e){var r=e.length,a=new Array(r),o=new Array(r),u=new Array(r),f,l;for(f=0;f<r;++f)l=Ni(e[f]),a[f]=l.r||0,o[f]=l.g||0,u[f]=l.b||0;return a=t(a),o=t(o),u=t(u),l.opacity=1,function(h){return l.r=a(h),l.g=o(h),l.b=u(h),l+""}}}var el=tl(Zf),Qy=tl(Kf);function qs(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,a=e.slice(),o;return function(u){for(o=0;o<r;++o)a[o]=t[o]*(1-u)+e[o]*u;return a}}function nl(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jy(t,e){return(nl(e)?qs:il)(t,e)}function il(t,e){var r=e?e.length:0,a=t?Math.min(r,t.length):0,o=new Array(a),u=new Array(r),f;for(f=0;f<a;++f)o[f]=wr(t[f],e[f]);for(;f<r;++f)u[f]=e[f];return function(l){for(f=0;f<a;++f)u[f]=o[f](l);return u}}function rl(t,e){var r=new Date;return t=+t,e=+e,function(a){return r.setTime(t*(1-a)+e*a),r}}function je(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function al(t,e){var r={},a={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?r[o]=wr(t[o],e[o]):a[o]=e[o];return function(u){for(o in r)a[o]=r[o](u);return a}}var Qs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,js=new RegExp(Qs.source,"g");function Zy(t){return function(){return t}}function Ky(t){return function(e){return t(e)+""}}function Zs(t,e){var r=Qs.lastIndex=js.lastIndex=0,a,o,u,f=-1,l=[],h=[];for(t=t+"",e=e+"";(a=Qs.exec(t))&&(o=js.exec(e));)(u=o.index)>r&&(u=e.slice(r,u),l[f]?l[f]+=u:l[++f]=u),(a=a[0])===(o=o[0])?l[f]?l[f]+=o:l[++f]=o:(l[++f]=null,h.push({i:f,x:je(a,o)})),r=js.lastIndex;return r<e.length&&(u=e.slice(r),l[f]?l[f]+=u:l[++f]=u),l.length<2?h[0]?Ky(h[0].x):Zy(e):(e=h.length,function(d){for(var p=0,_;p<e;++p)l[(_=h[p]).i]=_.x(d);return l.join("")})}function wr(t,e){var r=typeof e,a;return e==null||r==="boolean"?Xa(e):(r==="number"?je:r==="string"?(a=Wn(e))?(e=a,xr):Zs:e instanceof Wn?xr:e instanceof Date?rl:nl(e)?qs:Array.isArray(e)?il:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?al:je)(t,e)}function Jy(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}function t_(t,e){var r=Ba(+t,+e);return function(a){var o=r(a);return o-360*Math.floor(o/360)}}function ol(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var sl=180/Math.PI,Ks={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ul(t,e,r,a,o,u){var f,l,h;return(f=Math.sqrt(t*t+e*e))&&(t/=f,e/=f),(h=t*r+e*a)&&(r-=t*h,a-=e*h),(l=Math.sqrt(r*r+a*a))&&(r/=l,a/=l,h/=l),t*a<e*r&&(t=-t,e=-e,h=-h,f=-f),{translateX:o,translateY:u,rotate:Math.atan2(e,t)*sl,skewX:Math.atan(h)*sl,scaleX:f,scaleY:l}}var br,Js,cl,Ya;function e_(t){return t==="none"?Ks:(br||(br=document.createElement("DIV"),Js=document.documentElement,cl=document.defaultView),br.style.transform=t,t=cl.getComputedStyle(Js.appendChild(br),null).getPropertyValue("transform"),Js.removeChild(br),t=t.slice(7,-1).split(","),ul(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function n_(t){return t==null||(Ya||(Ya=document.createElementNS("http://www.w3.org/2000/svg","g")),Ya.setAttribute("transform",t),!(t=Ya.transform.baseVal.consolidate()))?Ks:(t=t.matrix,ul(t.a,t.b,t.c,t.d,t.e,t.f))}function fl(t,e,r,a){function o(d){return d.length?d.pop()+" ":""}function u(d,p,_,y,x,S){if(d!==_||p!==y){var b=x.push("translate(",null,e,null,r);S.push({i:b-4,x:je(d,_)},{i:b-2,x:je(p,y)})}else(_||y)&&x.push("translate("+_+e+y+r)}function f(d,p,_,y){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),y.push({i:_.push(o(_)+"rotate(",null,a)-2,x:je(d,p)})):p&&_.push(o(_)+"rotate("+p+a)}function l(d,p,_,y){d!==p?y.push({i:_.push(o(_)+"skewX(",null,a)-2,x:je(d,p)}):p&&_.push(o(_)+"skewX("+p+a)}function h(d,p,_,y,x,S){if(d!==_||p!==y){var b=x.push(o(x)+"scale(",null,",",null,")");S.push({i:b-4,x:je(d,_)},{i:b-2,x:je(p,y)})}else(_!==1||y!==1)&&x.push(o(x)+"scale("+_+","+y+")")}return function(d,p){var _=[],y=[];return d=t(d),p=t(p),u(d.translateX,d.translateY,p.translateX,p.translateY,_,y),f(d.rotate,p.rotate,_,y),l(d.skewX,p.skewX,_,y),h(d.scaleX,d.scaleY,p.scaleX,p.scaleY,_,y),d=p=null,function(x){for(var S=-1,b=y.length,P;++S<b;)_[(P=y[S]).i]=P.x(x);return _.join("")}}}var ll=fl(e_,"px, ","px)","deg)"),hl=fl(n_,", ",")",")"),Sr=Math.SQRT2,tu=2,dl=4,i_=1e-12;function gl(t){return((t=Math.exp(t))+1/t)/2}function r_(t){return((t=Math.exp(t))-1/t)/2}function a_(t){return((t=Math.exp(2*t))-1)/(t+1)}function pl(t,e){var r=t[0],a=t[1],o=t[2],u=e[0],f=e[1],l=e[2],h=u-r,d=f-a,p=h*h+d*d,_,y;if(p<i_)y=Math.log(l/o)/Sr,_=function(R){return[r+R*h,a+R*d,o*Math.exp(Sr*R*y)]};else{var x=Math.sqrt(p),S=(l*l-o*o+dl*p)/(2*o*tu*x),b=(l*l-o*o-dl*p)/(2*l*tu*x),P=Math.log(Math.sqrt(S*S+1)-S),L=Math.log(Math.sqrt(b*b+1)-b);y=(L-P)/Sr,_=function(R){var M=R*y,E=gl(P),N=o/(tu*x)*(E*a_(Sr*M+P)-r_(P));return[r+N*h,a+N*d,o*E/gl(Sr*M+P)]}}return _.duration=y*1e3,_}function yl(t){return function(e,r){var a=t((e=Na(e)).h,(r=Na(r)).h),o=ge(e.s,r.s),u=ge(e.l,r.l),f=ge(e.opacity,r.opacity);return function(l){return e.h=a(l),e.s=o(l),e.l=u(l),e.opacity=f(l),e+""}}}var o_=yl(Ba),s_=yl(ge);function u_(t,e){var r=ge((t=Fa(t)).l,(e=Fa(e)).l),a=ge(t.a,e.a),o=ge(t.b,e.b),u=ge(t.opacity,e.opacity);return function(f){return t.l=r(f),t.a=a(f),t.b=o(f),t.opacity=u(f),t+""}}function _l(t){return function(e,r){var a=t((e=Ia(e)).h,(r=Ia(r)).h),o=ge(e.c,r.c),u=ge(e.l,r.l),f=ge(e.opacity,r.opacity);return function(l){return e.h=a(l),e.c=o(l),e.l=u(l),e.opacity=f(l),e+""}}}var c_=_l(Ba),f_=_l(ge);function ml(t){return function e(r){r=+r;function a(o,u){var f=t((o=hn(o)).h,(u=hn(u)).h),l=ge(o.s,u.s),h=ge(o.l,u.l),d=ge(o.opacity,u.opacity);return function(p){return o.h=f(p),o.s=l(p),o.l=h(Math.pow(p,r)),o.opacity=d(p),o+""}}return a.gamma=e,a}(1)}var l_=ml(Ba),Ha=ml(ge);function h_(t,e){for(var r=0,a=e.length-1,o=e[0],u=new Array(a<0?0:a);r<a;)u[r]=t(o,o=e[++r]);return function(f){var l=Math.max(0,Math.min(a-1,Math.floor(f*=a)));return u[l](f-l)}}function d_(t,e){for(var r=new Array(e),a=0;a<e;++a)r[a]=t(a/(e-1));return r}var Fi=0,Tr=0,Ar=0,vl=1e3,Ua,Pr,Wa=0,fi=0,qa=0,Cr=typeof performance=="object"&&performance.now?performance:Date,xl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ii(){return fi||(xl(g_),fi=Cr.now()+qa)}function g_(){fi=0}function Lr(){this._call=this._time=this._next=null}Lr.prototype=Qa.prototype={constructor:Lr,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?Ii():+r)+(e==null?0:+e),!this._next&&Pr!==this&&(Pr?Pr._next=this:Ua=this,Pr=this),this._call=t,this._time=r,eu()},stop:function(){this._call&&(this._call=null,this._time=1/0,eu())}};function Qa(t,e,r){var a=new Lr;return a.restart(t,e,r),a}function wl(){Ii(),++Fi;for(var t=Ua,e;t;)(e=fi-t._time)>=0&&t._call.call(null,e),t=t._next;--Fi}function bl(){fi=(Wa=Cr.now())+qa,Fi=Tr=0;try{wl()}finally{Fi=0,y_(),fi=0}}function p_(){var t=Cr.now(),e=t-Wa;e>vl&&(qa-=e,Wa=t)}function y_(){for(var t,e=Ua,r,a=1/0;e;)e._call?(a>e._time&&(a=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:Ua=r);Pr=t,eu(a)}function eu(t){if(!Fi){Tr&&(Tr=clearTimeout(Tr));var e=t-fi;e>24?(t<1/0&&(Tr=setTimeout(bl,t-Cr.now()-qa)),Ar&&(Ar=clearInterval(Ar))):(Ar||(Wa=Cr.now(),Ar=setInterval(p_,vl)),Fi=1,xl(bl))}}function nu(t,e,r){var a=new Lr;return e=e==null?0:+e,a.restart(function(o){a.stop(),t(o+e)},e,r),a}function __(t,e,r){var a=new Lr,o=e;return e==null?(a.restart(t,e,r),a):(e=+e,r=r==null?Ii():+r,a.restart(function u(f){f+=o,a.restart(u,o+=e,r),t(f)},e,r),a)}var m_=At("start","end","cancel","interrupt"),v_=[],Sl=0,iu=1,ru=2,ja=3,Tl=4,au=5,Za=6;function Ka(t,e,r,a,o,u){var f=t.__transition;if(!f)t.__transition={};else if(r in f)return;x_(t,r,{name:e,index:a,group:o,on:m_,tween:v_,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Sl})}function ou(t,e){var r=dn(t,e);if(r.state>Sl)throw new Error("too late; already scheduled");return r}function kn(t,e){var r=dn(t,e);if(r.state>ja)throw new Error("too late; already running");return r}function dn(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function x_(t,e,r){var a=t.__transition,o;a[e]=r,r.timer=Qa(u,0,r.time);function u(d){r.state=iu,r.timer.restart(f,r.delay,r.time),r.delay<=d&&f(d-r.delay)}function f(d){var p,_,y,x;if(r.state!==iu)return h();for(p in a)if(x=a[p],x.name===r.name){if(x.state===ja)return nu(f);x.state===Tl?(x.state=Za,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete a[p]):+p<e&&(x.state=Za,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete a[p])}if(nu(function(){r.state===ja&&(r.state=Tl,r.timer.restart(l,r.delay,r.time),l(d))}),r.state=ru,r.on.call("start",t,t.__data__,r.index,r.group),r.state===ru){for(r.state=ja,o=new Array(y=r.tween.length),p=0,_=-1;p<y;++p)(x=r.tween[p].value.call(t,t.__data__,r.index,r.group))&&(o[++_]=x);o.length=_+1}}function l(d){for(var p=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(h),r.state=au,1),_=-1,y=o.length;++_<y;)o[_].call(t,p);r.state===au&&(r.on.call("end",t,t.__data__,r.index,r.group),h())}function h(){r.state=Za,r.timer.stop(),delete a[e];for(var d in a)return;delete t.__transition}}function li(t,e){var r=t.__transition,a,o,u=!0,f;if(r){e=e==null?null:e+"";for(f in r){if((a=r[f]).name!==e){u=!1;continue}o=a.state>ru&&a.state<au,a.state=Za,a.timer.stop(),a.on.call(o?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete r[f]}u&&delete t.__transition}}function w_(t){return this.each(function(){li(this,t)})}function b_(t,e){var r,a;return function(){var o=kn(this,t),u=o.tween;if(u!==r){a=r=u;for(var f=0,l=a.length;f<l;++f)if(a[f].name===e){a=a.slice(),a.splice(f,1);break}}o.tween=a}}function S_(t,e,r){var a,o;if(typeof r!="function")throw new Error;return function(){var u=kn(this,t),f=u.tween;if(f!==a){o=(a=f).slice();for(var l={name:e,value:r},h=0,d=o.length;h<d;++h)if(o[h].name===e){o[h]=l;break}h===d&&o.push(l)}u.tween=o}}function T_(t,e){var r=this._id;if(t+="",arguments.length<2){for(var a=dn(this.node(),r).tween,o=0,u=a.length,f;o<u;++o)if((f=a[o]).name===t)return f.value;return null}return this.each((e==null?b_:S_)(r,t,e))}function su(t,e,r){var a=t._id;return t.each(function(){var o=kn(this,a);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return dn(o,a).value[e]}}function Al(t,e){var r;return(typeof e=="number"?je:e instanceof Wn?xr:(r=Wn(e))?(e=r,xr):Zs)(t,e)}function A_(t){return function(){this.removeAttribute(t)}}function P_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function C_(t,e,r){var a,o=r+"",u;return function(){var f=this.getAttribute(t);return f===o?null:f===a?u:u=e(a=f,r)}}function L_(t,e,r){var a,o=r+"",u;return function(){var f=this.getAttributeNS(t.space,t.local);return f===o?null:f===a?u:u=e(a=f,r)}}function M_(t,e,r){var a,o,u;return function(){var f,l=r(this),h;return l==null?void this.removeAttribute(t):(f=this.getAttribute(t),h=l+"",f===h?null:f===a&&h===o?u:(o=h,u=e(a=f,l)))}}function $_(t,e,r){var a,o,u;return function(){var f,l=r(this),h;return l==null?void this.removeAttributeNS(t.space,t.local):(f=this.getAttributeNS(t.space,t.local),h=l+"",f===h?null:f===a&&h===o?u:(o=h,u=e(a=f,l)))}}function E_(t,e){var r=Jt(t),a=r==="transform"?hl:Al;return this.attrTween(t,typeof e=="function"?(r.local?$_:M_)(r,a,su(this,"attr."+t,e)):e==null?(r.local?P_:A_)(r):(r.local?L_:C_)(r,a,e))}function k_(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function R_(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function V_(t,e){var r,a;function o(){var u=e.apply(this,arguments);return u!==a&&(r=(a=u)&&R_(t,u)),r}return o._value=e,o}function G_(t,e){var r,a;function o(){var u=e.apply(this,arguments);return u!==a&&(r=(a=u)&&k_(t,u)),r}return o._value=e,o}function O_(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var a=Jt(t);return this.tween(r,(a.local?V_:G_)(a,e))}function N_(t,e){return function(){ou(this,t).delay=+e.apply(this,arguments)}}function D_(t,e){return e=+e,function(){ou(this,t).delay=e}}function F_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?N_:D_)(e,t)):dn(this.node(),e).delay}function I_(t,e){return function(){kn(this,t).duration=+e.apply(this,arguments)}}function z_(t,e){return e=+e,function(){kn(this,t).duration=e}}function X_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?I_:z_)(e,t)):dn(this.node(),e).duration}function B_(t,e){if(typeof e!="function")throw new Error;return function(){kn(this,t).ease=e}}function Y_(t){var e=this._id;return arguments.length?this.each(B_(e,t)):dn(this.node(),e).ease}function H_(t){typeof t!="function"&&(t=En(t));for(var e=this._groups,r=e.length,a=new Array(r),o=0;o<r;++o)for(var u=e[o],f=u.length,l=a[o]=[],h,d=0;d<f;++d)(h=u[d])&&t.call(h,h.__data__,d,u)&&l.push(h);return new An(a,this._parents,this._name,this._id)}function U_(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,a=e.length,o=r.length,u=Math.min(a,o),f=new Array(a),l=0;l<u;++l)for(var h=e[l],d=r[l],p=h.length,_=f[l]=new Array(p),y,x=0;x<p;++x)(y=h[x]||d[x])&&(_[x]=y);for(;l<a;++l)f[l]=e[l];return new An(f,this._parents,this._name,this._id)}function W_(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function q_(t,e,r){var a,o,u=W_(e)?ou:kn;return function(){var f=u(this,t),l=f.on;l!==a&&(o=(a=l).copy()).on(e,r),f.on=o}}function Q_(t,e){var r=this._id;return arguments.length<2?dn(this.node(),r).on.on(t):this.each(q_(r,t,e))}function j_(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function Z_(){return this.on("end.remove",j_(this._id))}function K_(t){var e=this._name,r=this._id;typeof t!="function"&&(t=ce(t));for(var a=this._groups,o=a.length,u=new Array(o),f=0;f<o;++f)for(var l=a[f],h=l.length,d=u[f]=new Array(h),p,_,y=0;y<h;++y)(p=l[y])&&(_=t.call(p,p.__data__,y,l))&&("__data__"in p&&(_.__data__=p.__data__),d[y]=_,Ka(d[y],e,r,y,d,dn(p,r)));return new An(u,this._parents,e,r)}function J_(t){var e=this._name,r=this._id;typeof t!="function"&&(t=ht(t));for(var a=this._groups,o=a.length,u=[],f=[],l=0;l<o;++l)for(var h=a[l],d=h.length,p,_=0;_<d;++_)if(p=h[_]){for(var y=t.call(p,p.__data__,_,h),x,S=dn(p,r),b=0,P=y.length;b<P;++b)(x=y[b])&&Ka(x,e,r,b,y,S);u.push(y),f.push(p)}return new An(u,f,e,r)}var t1=oi.prototype.constructor;function e1(){return new t1(this._groups,this._parents)}function n1(t,e){var r,a,o;return function(){var u=ai(this,t),f=(this.style.removeProperty(t),ai(this,t));return u===f?null:u===r&&f===a?o:o=e(r=u,a=f)}}function Pl(t){return function(){this.style.removeProperty(t)}}function i1(t,e,r){var a,o=r+"",u;return function(){var f=ai(this,t);return f===o?null:f===a?u:u=e(a=f,r)}}function r1(t,e,r){var a,o,u;return function(){var f=ai(this,t),l=r(this),h=l+"";return l==null&&(h=l=(this.style.removeProperty(t),ai(this,t))),f===h?null:f===a&&h===o?u:(o=h,u=e(a=f,l))}}function a1(t,e){var r,a,o,u="style."+e,f="end."+u,l;return function(){var h=kn(this,t),d=h.on,p=h.value[u]==null?l||(l=Pl(e)):void 0;(d!==r||o!==p)&&(a=(r=d).copy()).on(f,o=p),h.on=a}}function o1(t,e,r){var a=(t+="")=="transform"?ll:Al;return e==null?this.styleTween(t,n1(t,a)).on("end.style."+t,Pl(t)):typeof e=="function"?this.styleTween(t,r1(t,a,su(this,"style."+t,e))).each(a1(this._id,t)):this.styleTween(t,i1(t,a,e),r).on("end.style."+t,null)}function s1(t,e,r){return function(a){this.style.setProperty(t,e.call(this,a),r)}}function u1(t,e,r){var a,o;function u(){var f=e.apply(this,arguments);return f!==o&&(a=(o=f)&&s1(t,f,r)),a}return u._value=e,u}function c1(t,e,r){var a="style."+(t+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(e==null)return this.tween(a,null);if(typeof e!="function")throw new Error;return this.tween(a,u1(t,e,r??""))}function f1(t){return function(){this.textContent=t}}function l1(t){return function(){var e=t(this);this.textContent=e??""}}function h1(t){return this.tween("text",typeof t=="function"?l1(su(this,"text",t)):f1(t==null?"":t+""))}function d1(t){return function(e){this.textContent=t.call(this,e)}}function g1(t){var e,r;function a(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&d1(o)),e}return a._value=t,a}function p1(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,g1(t))}function y1(){for(var t=this._name,e=this._id,r=Ll(),a=this._groups,o=a.length,u=0;u<o;++u)for(var f=a[u],l=f.length,h,d=0;d<l;++d)if(h=f[d]){var p=dn(h,e);Ka(h,t,r,d,f,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new An(a,this._parents,t,r)}function _1(){var t,e,r=this,a=r._id,o=r.size();return new Promise(function(u,f){var l={value:f},h={value:function(){--o===0&&u()}};r.each(function(){var d=kn(this,a),p=d.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(h)),d.on=e})})}var m1=0;function An(t,e,r,a){this._groups=t,this._parents=e,this._name=r,this._id=a}function Cl(t){return oi().transition(t)}function Ll(){return++m1}var zi=oi.prototype;An.prototype=Cl.prototype={constructor:An,select:K_,selectAll:J_,filter:H_,merge:U_,selection:e1,transition:y1,call:zi.call,nodes:zi.nodes,node:zi.node,size:zi.size,empty:zi.empty,each:zi.each,on:Q_,attr:E_,attrTween:O_,style:o1,styleTween:c1,text:h1,textTween:p1,remove:Z_,tween:T_,delay:F_,duration:X_,ease:Y_,end:_1};function v1(t){return+t}function x1(t){return t*t}function w1(t){return t*(2-t)}function Ml(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function b1(t){return t*t*t}function S1(t){return--t*t*t+1}function uu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var cu=3,T1=function t(e){e=+e;function r(a){return Math.pow(a,e)}return r.exponent=t,r}(cu),A1=function t(e){e=+e;function r(a){return 1-Math.pow(1-a,e)}return r.exponent=t,r}(cu),$l=function t(e){e=+e;function r(a){return((a*=2)<=1?Math.pow(a,e):2-Math.pow(2-a,e))/2}return r.exponent=t,r}(cu),El=Math.PI,kl=El/2;function P1(t){return 1-Math.cos(t*kl)}function C1(t){return Math.sin(t*kl)}function Rl(t){return(1-Math.cos(El*t))/2}function L1(t){return Math.pow(2,10*t-10)}function M1(t){return 1-Math.pow(2,-10*t)}function Vl(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function $1(t){return 1-Math.sqrt(1-t*t)}function E1(t){return Math.sqrt(1- --t*t)}function Gl(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var fu=4/11,k1=6/11,R1=8/11,V1=3/4,G1=9/11,O1=10/11,N1=15/16,D1=21/22,F1=63/64,Ja=1/fu/fu;function I1(t){return 1-Mr(1-t)}function Mr(t){return(t=+t)<fu?Ja*t*t:t<R1?Ja*(t-=k1)*t+V1:t<O1?Ja*(t-=G1)*t+N1:Ja*(t-=D1)*t+F1}function z1(t){return((t*=2)<=1?1-Mr(1-t):Mr(t-1)+1)/2}var lu=1.70158,X1=function t(e){e=+e;function r(a){return a*a*((e+1)*a-e)}return r.overshoot=t,r}(lu),B1=function t(e){e=+e;function r(a){return--a*a*((e+1)*a+e)+1}return r.overshoot=t,r}(lu),Ol=function t(e){e=+e;function r(a){return((a*=2)<1?a*a*((e+1)*a-e):(a-=2)*a*((e+1)*a+e)+2)/2}return r.overshoot=t,r}(lu),Xi=2*Math.PI,hu=1,du=.3,Y1=function t(e,r){var a=Math.asin(1/(e=Math.max(1,e)))*(r/=Xi);function o(u){return e*Math.pow(2,10*--u)*Math.sin((a-u)/r)}return o.amplitude=function(u){return t(u,r*Xi)},o.period=function(u){return t(e,u)},o}(hu,du),Nl=function t(e,r){var a=Math.asin(1/(e=Math.max(1,e)))*(r/=Xi);function o(u){return 1-e*Math.pow(2,-10*(u=+u))*Math.sin((u+a)/r)}return o.amplitude=function(u){return t(u,r*Xi)},o.period=function(u){return t(e,u)},o}(hu,du),H1=function t(e,r){var a=Math.asin(1/(e=Math.max(1,e)))*(r/=Xi);function o(u){return((u=u*2-1)<0?e*Math.pow(2,10*u)*Math.sin((a-u)/r):2-e*Math.pow(2,-10*u)*Math.sin((a+u)/r))/2}return o.amplitude=function(u){return t(u,r*Xi)},o.period=function(u){return t(e,u)},o}(hu,du),gu={time:null,delay:0,duration:250,ease:uu};function U1(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))return gu.time=Ii(),gu;return r}function W1(t){var e,r;t instanceof An?(e=t._id,t=t._name):(e=Ll(),(r=gu).time=Ii(),t=t==null?null:t+"");for(var a=this._groups,o=a.length,u=0;u<o;++u)for(var f=a[u],l=f.length,h,d=0;d<l;++d)(h=f[d])&&Ka(h,t,e,d,f,r||U1(h,e));return new An(a,this._parents,t,e)}oi.prototype.interrupt=w_,oi.prototype.transition=W1;var q1=[null];function Q1(t,e){var r=t.__transition,a,o;if(r){e=e==null?null:e+"";for(o in r)if((a=r[o]).state>iu&&a.name===e)return new An([[t]],q1,e,+o)}return null}function pu(t){return function(){return t}}function j1(t,e,r){this.target=t,this.type=e,this.selection=r}function Dl(){m.event.stopImmediatePropagation()}function yu(){m.event.preventDefault(),m.event.stopImmediatePropagation()}var Fl={name:"drag"},_u={name:"space"},Bi={name:"handle"},Yi={name:"center"};function Il(t){return[+t[0],+t[1]]}function mu(t){return[Il(t[0]),Il(t[1])]}function Z1(t){return function(e){return yr(e,m.event.touches,t)}}var to={name:"x",handles:["w","e"].map($r),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},eo={name:"y",handles:["n","s"].map($r),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},K1={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map($r),input:function(t){return t==null?null:mu(t)},output:function(t){return t}},Rn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},zl={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Xl={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},J1={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},tm={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function $r(t){return{type:t}}function em(){return!m.event.ctrlKey&&!m.event.button}function nm(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function im(){return navigator.maxTouchPoints||"ontouchstart"in this}function vu(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function rm(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function am(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function om(){return xu(to)}function sm(){return xu(eo)}function um(){return xu(K1)}function xu(t){var e=nm,r=em,a=im,o=!0,u=At("start","brush","end"),f=6,l;function h(P){var L=P.property("__brush",b).selectAll(".overlay").data([$r("overlay")]);L.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Rn.overlay).merge(L).each(function(){var M=vu(this).extent;Fe(this).attr("x",M[0][0]).attr("y",M[0][1]).attr("width",M[1][0]-M[0][0]).attr("height",M[1][1]-M[0][1])}),P.selectAll(".selection").data([$r("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Rn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var R=P.selectAll(".handle").data(t.handles,function(M){return M.type});R.exit().remove(),R.enter().append("rect").attr("class",function(M){return"handle handle--"+M.type}).attr("cursor",function(M){return Rn[M.type]}),P.each(d).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",y).filter(a).on("touchstart.brush",y).on("touchmove.brush",x).on("touchend.brush touchcancel.brush",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.move=function(P,L){P.selection?P.on("start.brush",function(){p(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){p(this,arguments).end()}).tween("brush",function(){var R=this,M=R.__brush,E=p(R,arguments),N=M.selection,z=t.input(typeof L=="function"?L.apply(this,arguments):L,M.extent),F=wr(N,z);function Q(H){M.selection=H===1&&z===null?null:F(H),d.call(R),E.brush()}return N!==null&&z!==null?Q:Q(1)}):P.each(function(){var R=this,M=arguments,E=R.__brush,N=t.input(typeof L=="function"?L.apply(R,M):L,E.extent),z=p(R,M).beforestart();li(R),E.selection=N===null?null:N,d.call(R),z.start().brush().end()})},h.clear=function(P){h.move(P,null)};function d(){var P=Fe(this),L=vu(this).selection;L?(P.selectAll(".selection").style("display",null).attr("x",L[0][0]).attr("y",L[0][1]).attr("width",L[1][0]-L[0][0]).attr("height",L[1][1]-L[0][1]),P.selectAll(".handle").style("display",null).attr("x",function(R){return R.type[R.type.length-1]==="e"?L[1][0]-f/2:L[0][0]-f/2}).attr("y",function(R){return R.type[0]==="s"?L[1][1]-f/2:L[0][1]-f/2}).attr("width",function(R){return R.type==="n"||R.type==="s"?L[1][0]-L[0][0]+f:f}).attr("height",function(R){return R.type==="e"||R.type==="w"?L[1][1]-L[0][1]+f:f})):P.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function p(P,L,R){return!R&&P.__brush.emitter||new _(P,L)}function _(P,L){this.that=P,this.args=L,this.state=P.__brush,this.active=0}_.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(P){pr(new j1(h,P,t.output(this.state.selection)),u.apply,u,[P,this.that,this.args])}};function y(){if(l&&!m.event.touches||!r.apply(this,arguments))return;var P=this,L=m.event.target.__data__.type,R=(o&&m.event.metaKey?L="overlay":L)==="selection"?Fl:o&&m.event.altKey?Yi:Bi,M=t===eo?null:J1[L],E=t===to?null:tm[L],N=vu(P),z=N.extent,F=N.selection,Q=z[0][0],H,W,B=z[0][1],V,X,Z=z[1][0],I,j,ft=z[1][1],st,dt,wt=0,bt=0,Zt,Yt=M&&E&&o&&m.event.shiftKey,Ot,ae,nn=m.event.touches?Z1(m.event.changedTouches[0].identifier):si,_n=nn(P),mn=_n,rt=p(P,arguments,!0).beforestart();L==="overlay"?(F&&(Zt=!0),N.selection=F=[[H=t===eo?Q:_n[0],V=t===to?B:_n[1]],[I=t===eo?Z:H,st=t===to?ft:V]]):(H=F[0][0],V=F[0][1],I=F[1][0],st=F[1][1]),W=H,X=V,j=I,dt=st;var St=Fe(P).attr("pointer-events","none"),$t=St.selectAll(".overlay").attr("cursor",Rn[L]);if(m.event.touches)rt.moved=ve,rt.ended=Pe;else{var J=Fe(m.event.view).on("mousemove.brush",ve,!0).on("mouseup.brush",Pe,!0);o&&J.on("keydown.brush",Oe,!0).on("keyup.brush",Bn,!0),Ra(m.event.view)}Dl(),li(P),d.call(P),rt.start();function ve(){var Ne=nn(P);Yt&&!Ot&&!ae&&(Math.abs(Ne[0]-mn[0])>Math.abs(Ne[1]-mn[1])?ae=!0:Ot=!0),mn=Ne,Zt=!0,yu(),Nt()}function Nt(){var Ne;switch(wt=mn[0]-_n[0],bt=mn[1]-_n[1],R){case _u:case Fl:{M&&(wt=Math.max(Q-H,Math.min(Z-I,wt)),W=H+wt,j=I+wt),E&&(bt=Math.max(B-V,Math.min(ft-st,bt)),X=V+bt,dt=st+bt);break}case Bi:{M<0?(wt=Math.max(Q-H,Math.min(Z-H,wt)),W=H+wt,j=I):M>0&&(wt=Math.max(Q-I,Math.min(Z-I,wt)),W=H,j=I+wt),E<0?(bt=Math.max(B-V,Math.min(ft-V,bt)),X=V+bt,dt=st):E>0&&(bt=Math.max(B-st,Math.min(ft-st,bt)),X=V,dt=st+bt);break}case Yi:{M&&(W=Math.max(Q,Math.min(Z,H-wt*M)),j=Math.max(Q,Math.min(Z,I+wt*M))),E&&(X=Math.max(B,Math.min(ft,V-bt*E)),dt=Math.max(B,Math.min(ft,st+bt*E)));break}}j<W&&(M*=-1,Ne=H,H=I,I=Ne,Ne=W,W=j,j=Ne,L in zl&&$t.attr("cursor",Rn[L=zl[L]])),dt<X&&(E*=-1,Ne=V,V=st,st=Ne,Ne=X,X=dt,dt=Ne,L in Xl&&$t.attr("cursor",Rn[L=Xl[L]])),N.selection&&(F=N.selection),Ot&&(W=F[0][0],j=F[1][0]),ae&&(X=F[0][1],dt=F[1][1]),(F[0][0]!==W||F[0][1]!==X||F[1][0]!==j||F[1][1]!==dt)&&(N.selection=[[W,X],[j,dt]],d.call(P),rt.brush())}function Pe(){if(Dl(),m.event.touches){if(m.event.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else Va(m.event.view,Zt),J.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);St.attr("pointer-events","all"),$t.attr("cursor",Rn.overlay),N.selection&&(F=N.selection),rm(F)&&(N.selection=null,d.call(P)),rt.end()}function Oe(){switch(m.event.keyCode){case 16:{Yt=M&&E;break}case 18:{R===Bi&&(M&&(I=j-wt*M,H=W+wt*M),E&&(st=dt-bt*E,V=X+bt*E),R=Yi,Nt());break}case 32:{(R===Bi||R===Yi)&&(M<0?I=j-wt:M>0&&(H=W-wt),E<0?st=dt-bt:E>0&&(V=X-bt),R=_u,$t.attr("cursor",Rn.selection),Nt());break}default:return}yu()}function Bn(){switch(m.event.keyCode){case 16:{Yt&&(Ot=ae=Yt=!1,Nt());break}case 18:{R===Yi&&(M<0?I=j:M>0&&(H=W),E<0?st=dt:E>0&&(V=X),R=Bi,Nt());break}case 32:{R===_u&&(m.event.altKey?(M&&(I=j-wt*M,H=W+wt*M),E&&(st=dt-bt*E,V=X+bt*E),R=Yi):(M<0?I=j:M>0&&(H=W),E<0?st=dt:E>0&&(V=X),R=Bi),$t.attr("cursor",Rn[L]),Nt());break}default:return}yu()}}function x(){p(this,arguments).moved()}function S(){p(this,arguments).ended()}function b(){var P=this.__brush||{selection:null};return P.extent=mu(e.apply(this,arguments)),P.dim=t,P}return h.extent=function(P){return arguments.length?(e=typeof P=="function"?P:pu(mu(P)),h):e},h.filter=function(P){return arguments.length?(r=typeof P=="function"?P:pu(!!P),h):r},h.touchable=function(P){return arguments.length?(a=typeof P=="function"?P:pu(!!P),h):a},h.handleSize=function(P){return arguments.length?(f=+P,h):f},h.keyModifiers=function(P){return arguments.length?(o=!!P,h):o},h.on=function(){var P=u.on.apply(u,arguments);return P===u?h:P},h}var Bl=Math.cos,Yl=Math.sin,Hl=Math.PI,no=Hl/2,Ul=Hl*2,Wl=Math.max;function cm(t){return function(e,r){return t(e.source.value+e.target.value,r.source.value+r.target.value)}}function fm(){var t=0,e=null,r=null,a=null;function o(u){var f=u.length,l=[],h=zt(f),d=[],p=[],_=p.groups=new Array(f),y=new Array(f*f),x,S,b,P,L,R;for(x=0,L=-1;++L<f;){for(S=0,R=-1;++R<f;)S+=u[L][R];l.push(S),d.push(zt(f)),x+=S}for(e&&h.sort(function(W,B){return e(l[W],l[B])}),r&&d.forEach(function(W,B){W.sort(function(V,X){return r(u[B][V],u[B][X])})}),x=Wl(0,Ul-t*f)/x,P=x?t:Ul/f,S=0,L=-1;++L<f;){for(b=S,R=-1;++R<f;){var M=h[L],E=d[M][R],N=u[M][E],z=S,F=S+=N*x;y[E*f+M]={index:M,subindex:E,startAngle:z,endAngle:F,value:N}}_[M]={index:M,startAngle:b,endAngle:S,value:l[M]},S+=P}for(L=-1;++L<f;)for(R=L-1;++R<f;){var Q=y[R*f+L],H=y[L*f+R];(Q.value||H.value)&&p.push(Q.value<H.value?{source:H,target:Q}:{source:Q,target:H})}return a?p.sort(a):p}return o.padAngle=function(u){return arguments.length?(t=Wl(0,u),o):t},o.sortGroups=function(u){return arguments.length?(e=u,o):e},o.sortSubgroups=function(u){return arguments.length?(r=u,o):r},o.sortChords=function(u){return arguments.length?(u==null?a=null:(a=cm(u))._=u,o):a&&a._},o}var lm=Array.prototype.slice;function wu(t){return function(){return t}}var bu=Math.PI,Su=2*bu,hi=1e-6,hm=Su-hi;function Tu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function qn(){return new Tu}Tu.prototype=qn.prototype={constructor:Tu,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,r,a){this._+="Q"+ +t+","+ +e+","+(this._x1=+r)+","+(this._y1=+a)},bezierCurveTo:function(t,e,r,a,o,u){this._+="C"+ +t+","+ +e+","+ +r+","+ +a+","+(this._x1=+o)+","+(this._y1=+u)},arcTo:function(t,e,r,a,o){t=+t,e=+e,r=+r,a=+a,o=+o;var u=this._x1,f=this._y1,l=r-t,h=a-e,d=u-t,p=f-e,_=d*d+p*p;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(_>hi)if(!(Math.abs(p*l-h*d)>hi)||!o)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var y=r-u,x=a-f,S=l*l+h*h,b=y*y+x*x,P=Math.sqrt(S),L=Math.sqrt(_),R=o*Math.tan((bu-Math.acos((S+_-b)/(2*P*L)))/2),M=R/L,E=R/P;Math.abs(M-1)>hi&&(this._+="L"+(t+M*d)+","+(e+M*p)),this._+="A"+o+","+o+",0,0,"+ +(p*y>d*x)+","+(this._x1=t+E*l)+","+(this._y1=e+E*h)}},arc:function(t,e,r,a,o,u){t=+t,e=+e,r=+r,u=!!u;var f=r*Math.cos(a),l=r*Math.sin(a),h=t+f,d=e+l,p=1^u,_=u?a-o:o-a;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+h+","+d:(Math.abs(this._x1-h)>hi||Math.abs(this._y1-d)>hi)&&(this._+="L"+h+","+d),r&&(_<0&&(_=_%Su+Su),_>hm?this._+="A"+r+","+r+",0,1,"+p+","+(t-f)+","+(e-l)+"A"+r+","+r+",0,1,"+p+","+(this._x1=h)+","+(this._y1=d):_>hi&&(this._+="A"+r+","+r+",0,"+ +(_>=bu)+","+p+","+(this._x1=t+r*Math.cos(o))+","+(this._y1=e+r*Math.sin(o))))},rect:function(t,e,r,a){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +r+"v"+ +a+"h"+-r+"Z"},toString:function(){return this._}};function dm(t){return t.source}function gm(t){return t.target}function pm(t){return t.radius}function ym(t){return t.startAngle}function _m(t){return t.endAngle}function mm(){var t=dm,e=gm,r=pm,a=ym,o=_m,u=null;function f(){var l,h=lm.call(arguments),d=t.apply(this,h),p=e.apply(this,h),_=+r.apply(this,(h[0]=d,h)),y=a.apply(this,h)-no,x=o.apply(this,h)-no,S=_*Bl(y),b=_*Yl(y),P=+r.apply(this,(h[0]=p,h)),L=a.apply(this,h)-no,R=o.apply(this,h)-no;if(u||(u=l=qn()),u.moveTo(S,b),u.arc(0,0,_,y,x),(y!==L||x!==R)&&(u.quadraticCurveTo(0,0,P*Bl(L),P*Yl(L)),u.arc(0,0,P,L,R)),u.quadraticCurveTo(0,0,S,b),u.closePath(),l)return u=null,l+""||null}return f.radius=function(l){return arguments.length?(r=typeof l=="function"?l:wu(+l),f):r},f.startAngle=function(l){return arguments.length?(a=typeof l=="function"?l:wu(+l),f):a},f.endAngle=function(l){return arguments.length?(o=typeof l=="function"?l:wu(+l),f):o},f.source=function(l){return arguments.length?(t=l,f):t},f.target=function(l){return arguments.length?(e=l,f):e},f.context=function(l){return arguments.length?(u=l??null,f):u},f}var Ze="$";function io(){}io.prototype=Vn.prototype={constructor:io,has:function(t){return Ze+t in this},get:function(t){return this[Ze+t]},set:function(t,e){return this[Ze+t]=e,this},remove:function(t){var e=Ze+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Ze&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Ze&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Ze&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Ze&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Ze&&++t;return t},empty:function(){for(var t in this)if(t[0]===Ze)return!1;return!0},each:function(t){for(var e in this)e[0]===Ze&&t(this[e],e.slice(1),this)}};function Vn(t,e){var r=new io;if(t instanceof io)t.each(function(l,h){r.set(h,l)});else if(Array.isArray(t)){var a=-1,o=t.length,u;if(e==null)for(;++a<o;)r.set(a,t[a]);else for(;++a<o;)r.set(e(u=t[a],a,t),u)}else if(t)for(var f in t)r.set(f,t[f]);return r}function vm(){var t=[],e=[],r,a,o;function u(l,h,d,p){if(h>=t.length)return r!=null&&l.sort(r),a!=null?a(l):l;for(var _=-1,y=l.length,x=t[h++],S,b,P=Vn(),L,R=d();++_<y;)(L=P.get(S=x(b=l[_])+""))?L.push(b):P.set(S,[b]);return P.each(function(M,E){p(R,E,u(M,h,d,p))}),R}function f(l,h){if(++h>t.length)return l;var d,p=e[h-1];return a!=null&&h>=t.length?d=l.entries():(d=[],l.each(function(_,y){d.push({key:y,values:f(_,h)})})),p!=null?d.sort(function(_,y){return p(_.key,y.key)}):d}return o={object:function(l){return u(l,0,xm,wm)},map:function(l){return u(l,0,ql,Ql)},entries:function(l){return f(u(l,0,ql,Ql),0)},key:function(l){return t.push(l),o},sortKeys:function(l){return e[t.length-1]=l,o},sortValues:function(l){return r=l,o},rollup:function(l){return a=l,o}}}function xm(){return{}}function wm(t,e,r){t[e]=r}function ql(){return Vn()}function Ql(t,e,r){t.set(e,r)}function ro(){}var di=Vn.prototype;ro.prototype=jl.prototype={constructor:ro,has:di.has,add:function(t){return t+="",this[Ze+t]=t,this},remove:di.remove,clear:di.clear,values:di.keys,size:di.size,empty:di.empty,each:di.each};function jl(t,e){var r=new ro;if(t instanceof ro)t.each(function(u){r.add(u)});else if(t){var a=-1,o=t.length;if(e==null)for(;++a<o;)r.add(t[a]);else for(;++a<o;)r.add(e(t[a],a,t))}return r}function bm(t){var e=[];for(var r in t)e.push(r);return e}function Sm(t){var e=[];for(var r in t)e.push(t[r]);return e}function Tm(t){var e=[];for(var r in t)e.push({key:r,value:t[r]});return e}var Am=Array.prototype,Zl=Am.slice;function Pm(t,e){return t-e}function Cm(t){for(var e=0,r=t.length,a=t[r-1][1]*t[0][0]-t[r-1][0]*t[0][1];++e<r;)a+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return a}function Qn(t){return function(){return t}}function Lm(t,e){for(var r=-1,a=e.length,o;++r<a;)if(o=Mm(t,e[r]))return o;return 0}function Mm(t,e){for(var r=e[0],a=e[1],o=-1,u=0,f=t.length,l=f-1;u<f;l=u++){var h=t[u],d=h[0],p=h[1],_=t[l],y=_[0],x=_[1];if($m(h,_,e))return 0;p>a!=x>a&&r<(y-d)*(a-p)/(x-p)+d&&(o=-o)}return o}function $m(t,e,r){var a;return Em(t,e,r)&&km(t[a=+(t[0]===e[0])],r[a],e[a])}function Em(t,e,r){return(e[0]-t[0])*(r[1]-t[1])===(r[0]-t[0])*(e[1]-t[1])}function km(t,e,r){return t<=e&&e<=r||r<=e&&e<=t}function Rm(){}var Gn=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Kl(){var t=1,e=1,r=hr,a=h;function o(d){var p=r(d);if(Array.isArray(p))p=p.slice().sort(Pm);else{var _=Li(d),y=_[0],x=_[1];p=De(y,x,p),p=zt(Math.floor(y/p)*p,Math.floor(x/p)*p,p)}return p.map(function(S){return u(d,S)})}function u(d,p){var _=[],y=[];return f(d,p,function(x){a(x,d,p),Cm(x)>0?_.push([x]):y.push(x)}),y.forEach(function(x){for(var S=0,b=_.length,P;S<b;++S)if(Lm((P=_[S])[0],x)!==-1){P.push(x);return}}),{type:"MultiPolygon",value:p,coordinates:_}}function f(d,p,_){var y=new Array,x=new Array,S,b,P,L,R,M;for(S=b=-1,L=d[0]>=p,Gn[L<<1].forEach(E);++S<t-1;)P=L,L=d[S+1]>=p,Gn[P|L<<1].forEach(E);for(Gn[L<<0].forEach(E);++b<e-1;){for(S=-1,L=d[b*t+t]>=p,R=d[b*t]>=p,Gn[L<<1|R<<2].forEach(E);++S<t-1;)P=L,L=d[b*t+t+S+1]>=p,M=R,R=d[b*t+S+1]>=p,Gn[P|L<<1|R<<2|M<<3].forEach(E);Gn[L|R<<3].forEach(E)}for(S=-1,R=d[b*t]>=p,Gn[R<<2].forEach(E);++S<t-1;)M=R,R=d[b*t+S+1]>=p,Gn[R<<2|M<<3].forEach(E);Gn[R<<3].forEach(E);function E(N){var z=[N[0][0]+S,N[0][1]+b],F=[N[1][0]+S,N[1][1]+b],Q=l(z),H=l(F),W,B;(W=x[Q])?(B=y[H])?(delete x[W.end],delete y[B.start],W===B?(W.ring.push(F),_(W.ring)):y[W.start]=x[B.end]={start:W.start,end:B.end,ring:W.ring.concat(B.ring)}):(delete x[W.end],W.ring.push(F),x[W.end=H]=W):(W=y[H])?(B=x[Q])?(delete y[W.start],delete x[B.end],W===B?(W.ring.push(F),_(W.ring)):y[B.start]=x[W.end]={start:B.start,end:W.end,ring:B.ring.concat(W.ring)}):(delete y[W.start],W.ring.unshift(z),y[W.start=Q]=W):y[Q]=x[H]={start:Q,end:H,ring:[z,F]}}}function l(d){return d[0]*2+d[1]*(t+1)*4}function h(d,p,_){d.forEach(function(y){var x=y[0],S=y[1],b=x|0,P=S|0,L,R=p[P*t+b];x>0&&x<t&&b===x&&(L=p[P*t+b-1],y[0]=x+(_-L)/(R-L)-.5),S>0&&S<e&&P===S&&(L=p[(P-1)*t+b],y[1]=S+(_-L)/(R-L)-.5)})}return o.contour=u,o.size=function(d){if(!arguments.length)return[t,e];var p=Math.ceil(d[0]),_=Math.ceil(d[1]);if(!(p>0)||!(_>0))throw new Error("invalid size");return t=p,e=_,o},o.thresholds=function(d){return arguments.length?(r=typeof d=="function"?d:Array.isArray(d)?Qn(Zl.call(d)):Qn(d),o):r},o.smooth=function(d){return arguments.length?(a=d?h:Rm,o):a===h},o}function Au(t,e,r){for(var a=t.width,o=t.height,u=(r<<1)+1,f=0;f<o;++f)for(var l=0,h=0;l<a+r;++l)l<a&&(h+=t.data[l+f*a]),l>=r&&(l>=u&&(h-=t.data[l-u+f*a]),e.data[l-r+f*a]=h/Math.min(l+1,a-1+u-l,u))}function Pu(t,e,r){for(var a=t.width,o=t.height,u=(r<<1)+1,f=0;f<a;++f)for(var l=0,h=0;l<o+r;++l)l<o&&(h+=t.data[f+l*a]),l>=r&&(l>=u&&(h-=t.data[f+(l-u)*a]),e.data[f+(l-r)*a]=h/Math.min(l+1,o-1+u-l,u))}function Vm(t){return t[0]}function Gm(t){return t[1]}function Om(){return 1}function Nm(){var t=Vm,e=Gm,r=Om,a=960,o=500,u=20,f=2,l=u*3,h=a+l*2>>f,d=o+l*2>>f,p=Qn(20);function _(L){var R=new Float32Array(h*d),M=new Float32Array(h*d);L.forEach(function(z,F,Q){var H=+t(z,F,Q)+l>>f,W=+e(z,F,Q)+l>>f,B=+r(z,F,Q);H>=0&&H<h&&W>=0&&W<d&&(R[H+W*h]+=B)}),Au({width:h,height:d,data:R},{width:h,height:d,data:M},u>>f),Pu({width:h,height:d,data:M},{width:h,height:d,data:R},u>>f),Au({width:h,height:d,data:R},{width:h,height:d,data:M},u>>f),Pu({width:h,height:d,data:M},{width:h,height:d,data:R},u>>f),Au({width:h,height:d,data:R},{width:h,height:d,data:M},u>>f),Pu({width:h,height:d,data:M},{width:h,height:d,data:R},u>>f);var E=p(R);if(!Array.isArray(E)){var N=k(R);E=De(0,N,E),E=zt(0,Math.floor(N/E)*E,E),E.shift()}return Kl().thresholds(E).size([h,d])(R).map(y)}function y(L){return L.value*=Math.pow(2,-2*f),L.coordinates.forEach(x),L}function x(L){L.forEach(S)}function S(L){L.forEach(b)}function b(L){L[0]=L[0]*Math.pow(2,f)-l,L[1]=L[1]*Math.pow(2,f)-l}function P(){return l=u*3,h=a+l*2>>f,d=o+l*2>>f,_}return _.x=function(L){return arguments.length?(t=typeof L=="function"?L:Qn(+L),_):t},_.y=function(L){return arguments.length?(e=typeof L=="function"?L:Qn(+L),_):e},_.weight=function(L){return arguments.length?(r=typeof L=="function"?L:Qn(+L),_):r},_.size=function(L){if(!arguments.length)return[a,o];var R=Math.ceil(L[0]),M=Math.ceil(L[1]);if(!(R>=0)&&!(R>=0))throw new Error("invalid size");return a=R,o=M,P()},_.cellSize=function(L){if(!arguments.length)return 1<<f;if(!((L=+L)>=1))throw new Error("invalid cell size");return f=Math.floor(Math.log(L)/Math.LN2),P()},_.thresholds=function(L){return arguments.length?(p=typeof L=="function"?L:Array.isArray(L)?Qn(Zl.call(L)):Qn(L),_):p},_.bandwidth=function(L){if(!arguments.length)return Math.sqrt(u*(u+1));if(!((L=+L)>=0))throw new Error("invalid bandwidth");return u=Math.round((Math.sqrt(4*L*L+1)-1)/2),P()},_}var Jl={},Cu={},Lu=34,Er=10,Mu=13;function th(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function Dm(t,e){var r=th(t);return function(a,o){return e(r(a),o,t)}}function eh(t){var e=Object.create(null),r=[];return t.forEach(function(a){for(var o in a)o in e||r.push(e[o]=o)}),r}function Ie(t,e){var r=t+"",a=r.length;return a<e?new Array(e-a+1).join(0)+r:r}function Fm(t){return t<0?"-"+Ie(-t,6):t>9999?"+"+Ie(t,6):Ie(t,4)}function Im(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),a=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Fm(t.getUTCFullYear())+"-"+Ie(t.getUTCMonth()+1,2)+"-"+Ie(t.getUTCDate(),2)+(o?"T"+Ie(e,2)+":"+Ie(r,2)+":"+Ie(a,2)+"."+Ie(o,3)+"Z":a?"T"+Ie(e,2)+":"+Ie(r,2)+":"+Ie(a,2)+"Z":r||e?"T"+Ie(e,2)+":"+Ie(r,2)+"Z":"")}function ao(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function a(_,y){var x,S,b=o(_,function(P,L){if(x)return x(P,L-1);S=P,x=y?Dm(P,y):th(P)});return b.columns=S||[],b}function o(_,y){var x=[],S=_.length,b=0,P=0,L,R=S<=0,M=!1;_.charCodeAt(S-1)===Er&&--S,_.charCodeAt(S-1)===Mu&&--S;function E(){if(R)return Cu;if(M)return M=!1,Jl;var z,F=b,Q;if(_.charCodeAt(F)===Lu){for(;b++<S&&_.charCodeAt(b)!==Lu||_.charCodeAt(++b)===Lu;);return(z=b)>=S?R=!0:(Q=_.charCodeAt(b++))===Er?M=!0:Q===Mu&&(M=!0,_.charCodeAt(b)===Er&&++b),_.slice(F+1,z-1).replace(/""/g,'"')}for(;b<S;){if((Q=_.charCodeAt(z=b++))===Er)M=!0;else if(Q===Mu)M=!0,_.charCodeAt(b)===Er&&++b;else if(Q!==r)continue;return _.slice(F,z)}return R=!0,_.slice(F,S)}for(;(L=E())!==Cu;){for(var N=[];L!==Jl&&L!==Cu;)N.push(L),L=E();y&&(N=y(N,P++))==null||x.push(N)}return x}function u(_,y){return _.map(function(x){return y.map(function(S){return p(x[S])}).join(t)})}function f(_,y){return y==null&&(y=eh(_)),[y.map(p).join(t)].concat(u(_,y)).join(`
`)}function l(_,y){return y==null&&(y=eh(_)),u(_,y).join(`
`)}function h(_){return _.map(d).join(`
`)}function d(_){return _.map(p).join(t)}function p(_){return _==null?"":_ instanceof Date?Im(_):e.test(_+="")?'"'+_.replace(/"/g,'""')+'"':_}return{parse:a,parseRows:o,format:f,formatBody:l,formatRows:h,formatRow:d,formatValue:p}}var gi=ao(","),nh=gi.parse,zm=gi.parseRows,Xm=gi.format,Bm=gi.formatBody,Ym=gi.formatRows,Hm=gi.formatRow,Um=gi.formatValue,pi=ao("	"),ih=pi.parse,Wm=pi.parseRows,qm=pi.format,Qm=pi.formatBody,jm=pi.formatRows,Zm=pi.formatRow,Km=pi.formatValue;function Jm(t){for(var e in t){var r=t[e].trim(),a,o;if(!r)r=null;else if(r==="true")r=!0;else if(r==="false")r=!1;else if(r==="NaN")r=NaN;else if(!isNaN(a=+r))r=a;else if(o=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))tv&&o[4]&&!o[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r);else continue;t[e]=r}return t}var tv=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function ev(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function nv(t,e){return fetch(t,e).then(ev)}function iv(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function rv(t,e){return fetch(t,e).then(iv)}function av(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function oo(t,e){return fetch(t,e).then(av)}function rh(t){return function(e,r,a){return arguments.length===2&&typeof r=="function"&&(a=r,r=void 0),oo(e,r).then(function(o){return t(o,a)})}}function ov(t,e,r,a){arguments.length===3&&typeof r=="function"&&(a=r,r=void 0);var o=ao(t);return oo(e,r).then(function(u){return o.parse(u,a)})}var sv=rh(nh),uv=rh(ih);function cv(t,e){return new Promise(function(r,a){var o=new Image;for(var u in e)o[u]=e[u];o.onerror=a,o.onload=function(){r(o)},o.src=t})}function fv(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function lv(t,e){return fetch(t,e).then(fv)}function $u(t){return function(e,r){return oo(e,r).then(function(a){return new DOMParser().parseFromString(a,t)})}}var hv=$u("application/xml"),dv=$u("text/html"),gv=$u("image/svg+xml");function pv(t,e){var r;t==null&&(t=0),e==null&&(e=0);function a(){var o,u=r.length,f,l=0,h=0;for(o=0;o<u;++o)f=r[o],l+=f.x,h+=f.y;for(l=l/u-t,h=h/u-e,o=0;o<u;++o)f=r[o],f.x-=l,f.y-=h}return a.initialize=function(o){r=o},a.x=function(o){return arguments.length?(t=+o,a):t},a.y=function(o){return arguments.length?(e=+o,a):e},a}function fe(t){return function(){return t}}function jn(){return(Math.random()-.5)*1e-6}function yv(t){var e=+this._x.call(null,t),r=+this._y.call(null,t);return ah(this.cover(e,r),e,r,t)}function ah(t,e,r,a){if(isNaN(e)||isNaN(r))return t;var o,u=t._root,f={data:a},l=t._x0,h=t._y0,d=t._x1,p=t._y1,_,y,x,S,b,P,L,R;if(!u)return t._root=f,t;for(;u.length;)if((b=e>=(_=(l+d)/2))?l=_:d=_,(P=r>=(y=(h+p)/2))?h=y:p=y,o=u,!(u=u[L=P<<1|b]))return o[L]=f,t;if(x=+t._x.call(null,u.data),S=+t._y.call(null,u.data),e===x&&r===S)return f.next=u,o?o[L]=f:t._root=f,t;do o=o?o[L]=new Array(4):t._root=new Array(4),(b=e>=(_=(l+d)/2))?l=_:d=_,(P=r>=(y=(h+p)/2))?h=y:p=y;while((L=P<<1|b)===(R=(S>=y)<<1|x>=_));return o[R]=u,o[L]=f,t}function _v(t){var e,r,a=t.length,o,u,f=new Array(a),l=new Array(a),h=1/0,d=1/0,p=-1/0,_=-1/0;for(r=0;r<a;++r)isNaN(o=+this._x.call(null,e=t[r]))||isNaN(u=+this._y.call(null,e))||(f[r]=o,l[r]=u,o<h&&(h=o),o>p&&(p=o),u<d&&(d=u),u>_&&(_=u));if(h>p||d>_)return this;for(this.cover(h,d).cover(p,_),r=0;r<a;++r)ah(this,f[r],l[r],t[r]);return this}function mv(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,a=this._y0,o=this._x1,u=this._y1;if(isNaN(r))o=(r=Math.floor(t))+1,u=(a=Math.floor(e))+1;else{for(var f=o-r,l=this._root,h,d;r>t||t>=o||a>e||e>=u;)switch(d=(e<a)<<1|t<r,h=new Array(4),h[d]=l,l=h,f*=2,d){case 0:o=r+f,u=a+f;break;case 1:r=o-f,u=a+f;break;case 2:o=r+f,a=u-f;break;case 3:r=o-f,a=u-f;break}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=a,this._x1=o,this._y1=u,this}function vv(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function xv(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Le(t,e,r,a,o){this.node=t,this.x0=e,this.y0=r,this.x1=a,this.y1=o}function wv(t,e,r){var a,o=this._x0,u=this._y0,f,l,h,d,p=this._x1,_=this._y1,y=[],x=this._root,S,b;for(x&&y.push(new Le(x,o,u,p,_)),r==null?r=1/0:(o=t-r,u=e-r,p=t+r,_=e+r,r*=r);S=y.pop();)if(!(!(x=S.node)||(f=S.x0)>p||(l=S.y0)>_||(h=S.x1)<o||(d=S.y1)<u))if(x.length){var P=(f+h)/2,L=(l+d)/2;y.push(new Le(x[3],P,L,h,d),new Le(x[2],f,L,P,d),new Le(x[1],P,l,h,L),new Le(x[0],f,l,P,L)),(b=(e>=L)<<1|t>=P)&&(S=y[y.length-1],y[y.length-1]=y[y.length-1-b],y[y.length-1-b]=S)}else{var R=t-+this._x.call(null,x.data),M=e-+this._y.call(null,x.data),E=R*R+M*M;if(E<r){var N=Math.sqrt(r=E);o=t-N,u=e-N,p=t+N,_=e+N,a=x.data}}return a}function bv(t){if(isNaN(p=+this._x.call(null,t))||isNaN(_=+this._y.call(null,t)))return this;var e,r=this._root,a,o,u,f=this._x0,l=this._y0,h=this._x1,d=this._y1,p,_,y,x,S,b,P,L;if(!r)return this;if(r.length)for(;;){if((S=p>=(y=(f+h)/2))?f=y:h=y,(b=_>=(x=(l+d)/2))?l=x:d=x,e=r,!(r=r[P=b<<1|S]))return this;if(!r.length)break;(e[P+1&3]||e[P+2&3]||e[P+3&3])&&(a=e,L=P)}for(;r.data!==t;)if(o=r,!(r=r.next))return this;return(u=r.next)&&delete r.next,o?(u?o.next=u:delete o.next,this):e?(u?e[P]=u:delete e[P],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(a?a[L]=r:this._root=r),this):(this._root=u,this)}function Sv(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this}function Tv(){return this._root}function Av(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Pv(t){var e=[],r,a=this._root,o,u,f,l,h;for(a&&e.push(new Le(a,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!t(a=r.node,u=r.x0,f=r.y0,l=r.x1,h=r.y1)&&a.length){var d=(u+l)/2,p=(f+h)/2;(o=a[3])&&e.push(new Le(o,d,p,l,h)),(o=a[2])&&e.push(new Le(o,u,p,d,h)),(o=a[1])&&e.push(new Le(o,d,f,l,p)),(o=a[0])&&e.push(new Le(o,u,f,d,p))}return this}function Cv(t){var e=[],r=[],a;for(this._root&&e.push(new Le(this._root,this._x0,this._y0,this._x1,this._y1));a=e.pop();){var o=a.node;if(o.length){var u,f=a.x0,l=a.y0,h=a.x1,d=a.y1,p=(f+h)/2,_=(l+d)/2;(u=o[0])&&e.push(new Le(u,f,l,p,_)),(u=o[1])&&e.push(new Le(u,p,l,h,_)),(u=o[2])&&e.push(new Le(u,f,_,p,d)),(u=o[3])&&e.push(new Le(u,p,_,h,d))}r.push(a)}for(;a=r.pop();)t(a.node,a.x0,a.y0,a.x1,a.y1);return this}function Lv(t){return t[0]}function Mv(t){return arguments.length?(this._x=t,this):this._x}function $v(t){return t[1]}function Ev(t){return arguments.length?(this._y=t,this):this._y}function so(t,e,r){var a=new Eu(e??Lv,r??$v,NaN,NaN,NaN,NaN);return t==null?a:a.addAll(t)}function Eu(t,e,r,a,o,u){this._x=t,this._y=e,this._x0=r,this._y0=a,this._x1=o,this._y1=u,this._root=void 0}function oh(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var Me=so.prototype=Eu.prototype;Me.copy=function(){var t=new Eu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,a;if(!e)return t;if(!e.length)return t._root=oh(e),t;for(r=[{source:e,target:t._root=new Array(4)}];e=r.pop();)for(var o=0;o<4;++o)(a=e.source[o])&&(a.length?r.push({source:a,target:e.target[o]=new Array(4)}):e.target[o]=oh(a));return t},Me.add=yv,Me.addAll=_v,Me.cover=mv,Me.data=vv,Me.extent=xv,Me.find=wv,Me.remove=bv,Me.removeAll=Sv,Me.root=Tv,Me.size=Av,Me.visit=Pv,Me.visitAfter=Cv,Me.x=Mv,Me.y=Ev;function kv(t){return t.x+t.vx}function Rv(t){return t.y+t.vy}function Vv(t){var e,r,a=1,o=1;typeof t!="function"&&(t=fe(t==null?1:+t));function u(){for(var h,d=e.length,p,_,y,x,S,b,P=0;P<o;++P)for(p=so(e,kv,Rv).visitAfter(f),h=0;h<d;++h)_=e[h],S=r[_.index],b=S*S,y=_.x+_.vx,x=_.y+_.vy,p.visit(L);function L(R,M,E,N,z){var F=R.data,Q=R.r,H=S+Q;if(F){if(F.index>_.index){var W=y-F.x-F.vx,B=x-F.y-F.vy,V=W*W+B*B;V<H*H&&(W===0&&(W=jn(),V+=W*W),B===0&&(B=jn(),V+=B*B),V=(H-(V=Math.sqrt(V)))/V*a,_.vx+=(W*=V)*(H=(Q*=Q)/(b+Q)),_.vy+=(B*=V)*H,F.vx-=W*(H=1-H),F.vy-=B*H)}return}return M>y+H||N<y-H||E>x+H||z<x-H}}function f(h){if(h.data)return h.r=r[h.data.index];for(var d=h.r=0;d<4;++d)h[d]&&h[d].r>h.r&&(h.r=h[d].r)}function l(){if(e){var h,d=e.length,p;for(r=new Array(d),h=0;h<d;++h)p=e[h],r[p.index]=+t(p,h,e)}}return u.initialize=function(h){e=h,l()},u.iterations=function(h){return arguments.length?(o=+h,u):o},u.strength=function(h){return arguments.length?(a=+h,u):a},u.radius=function(h){return arguments.length?(t=typeof h=="function"?h:fe(+h),l(),u):t},u}function Gv(t){return t.index}function sh(t,e){var r=t.get(e);if(!r)throw new Error("missing: "+e);return r}function Ov(t){var e=Gv,r=p,a,o=fe(30),u,f,l,h,d=1;t==null&&(t=[]);function p(b){return 1/Math.min(l[b.source.index],l[b.target.index])}function _(b){for(var P=0,L=t.length;P<d;++P)for(var R=0,M,E,N,z,F,Q,H;R<L;++R)M=t[R],E=M.source,N=M.target,z=N.x+N.vx-E.x-E.vx||jn(),F=N.y+N.vy-E.y-E.vy||jn(),Q=Math.sqrt(z*z+F*F),Q=(Q-u[R])/Q*b*a[R],z*=Q,F*=Q,N.vx-=z*(H=h[R]),N.vy-=F*H,E.vx+=z*(H=1-H),E.vy+=F*H}function y(){if(f){var b,P=f.length,L=t.length,R=Vn(f,e),M;for(b=0,l=new Array(P);b<L;++b)M=t[b],M.index=b,typeof M.source!="object"&&(M.source=sh(R,M.source)),typeof M.target!="object"&&(M.target=sh(R,M.target)),l[M.source.index]=(l[M.source.index]||0)+1,l[M.target.index]=(l[M.target.index]||0)+1;for(b=0,h=new Array(L);b<L;++b)M=t[b],h[b]=l[M.source.index]/(l[M.source.index]+l[M.target.index]);a=new Array(L),x(),u=new Array(L),S()}}function x(){if(f)for(var b=0,P=t.length;b<P;++b)a[b]=+r(t[b],b,t)}function S(){if(f)for(var b=0,P=t.length;b<P;++b)u[b]=+o(t[b],b,t)}return _.initialize=function(b){f=b,y()},_.links=function(b){return arguments.length?(t=b,y(),_):t},_.id=function(b){return arguments.length?(e=b,_):e},_.iterations=function(b){return arguments.length?(d=+b,_):d},_.strength=function(b){return arguments.length?(r=typeof b=="function"?b:fe(+b),x(),_):r},_.distance=function(b){return arguments.length?(o=typeof b=="function"?b:fe(+b),S(),_):o},_}function Nv(t){return t.x}function Dv(t){return t.y}var Fv=10,Iv=Math.PI*(3-Math.sqrt(5));function zv(t){var e,r=1,a=.001,o=1-Math.pow(a,1/300),u=0,f=.6,l=Vn(),h=Qa(p),d=At("tick","end");t==null&&(t=[]);function p(){_(),d.call("tick",e),r<a&&(h.stop(),d.call("end",e))}function _(S){var b,P=t.length,L;S===void 0&&(S=1);for(var R=0;R<S;++R)for(r+=(u-r)*o,l.each(function(M){M(r)}),b=0;b<P;++b)L=t[b],L.fx==null?L.x+=L.vx*=f:(L.x=L.fx,L.vx=0),L.fy==null?L.y+=L.vy*=f:(L.y=L.fy,L.vy=0);return e}function y(){for(var S=0,b=t.length,P;S<b;++S){if(P=t[S],P.index=S,P.fx!=null&&(P.x=P.fx),P.fy!=null&&(P.y=P.fy),isNaN(P.x)||isNaN(P.y)){var L=Fv*Math.sqrt(S),R=S*Iv;P.x=L*Math.cos(R),P.y=L*Math.sin(R)}(isNaN(P.vx)||isNaN(P.vy))&&(P.vx=P.vy=0)}}function x(S){return S.initialize&&S.initialize(t),S}return y(),e={tick:_,restart:function(){return h.restart(p),e},stop:function(){return h.stop(),e},nodes:function(S){return arguments.length?(t=S,y(),l.each(x),e):t},alpha:function(S){return arguments.length?(r=+S,e):r},alphaMin:function(S){return arguments.length?(a=+S,e):a},alphaDecay:function(S){return arguments.length?(o=+S,e):+o},alphaTarget:function(S){return arguments.length?(u=+S,e):u},velocityDecay:function(S){return arguments.length?(f=1-S,e):1-f},force:function(S,b){return arguments.length>1?(b==null?l.remove(S):l.set(S,x(b)),e):l.get(S)},find:function(S,b,P){var L=0,R=t.length,M,E,N,z,F;for(P==null?P=1/0:P*=P,L=0;L<R;++L)z=t[L],M=S-z.x,E=b-z.y,N=M*M+E*E,N<P&&(F=z,P=N);return F},on:function(S,b){return arguments.length>1?(d.on(S,b),e):d.on(S)}}}function Xv(){var t,e,r,a=fe(-30),o,u=1,f=1/0,l=.81;function h(y){var x,S=t.length,b=so(t,Nv,Dv).visitAfter(p);for(r=y,x=0;x<S;++x)e=t[x],b.visit(_)}function d(){if(t){var y,x=t.length,S;for(o=new Array(x),y=0;y<x;++y)S=t[y],o[S.index]=+a(S,y,t)}}function p(y){var x=0,S,b,P=0,L,R,M;if(y.length){for(L=R=M=0;M<4;++M)(S=y[M])&&(b=Math.abs(S.value))&&(x+=S.value,P+=b,L+=b*S.x,R+=b*S.y);y.x=L/P,y.y=R/P}else{S=y,S.x=S.data.x,S.y=S.data.y;do x+=o[S.data.index];while(S=S.next)}y.value=x}function _(y,x,S,b){if(!y.value)return!0;var P=y.x-e.x,L=y.y-e.y,R=b-x,M=P*P+L*L;if(R*R/l<M)return M<f&&(P===0&&(P=jn(),M+=P*P),L===0&&(L=jn(),M+=L*L),M<u&&(M=Math.sqrt(u*M)),e.vx+=P*y.value*r/M,e.vy+=L*y.value*r/M),!0;if(y.length||M>=f)return;(y.data!==e||y.next)&&(P===0&&(P=jn(),M+=P*P),L===0&&(L=jn(),M+=L*L),M<u&&(M=Math.sqrt(u*M)));do y.data!==e&&(R=o[y.data.index]*r/M,e.vx+=P*R,e.vy+=L*R);while(y=y.next)}return h.initialize=function(y){t=y,d()},h.strength=function(y){return arguments.length?(a=typeof y=="function"?y:fe(+y),d(),h):a},h.distanceMin=function(y){return arguments.length?(u=y*y,h):Math.sqrt(u)},h.distanceMax=function(y){return arguments.length?(f=y*y,h):Math.sqrt(f)},h.theta=function(y){return arguments.length?(l=y*y,h):Math.sqrt(l)},h}function Bv(t,e,r){var a,o=fe(.1),u,f;typeof t!="function"&&(t=fe(+t)),e==null&&(e=0),r==null&&(r=0);function l(d){for(var p=0,_=a.length;p<_;++p){var y=a[p],x=y.x-e||1e-6,S=y.y-r||1e-6,b=Math.sqrt(x*x+S*S),P=(f[p]-b)*u[p]*d/b;y.vx+=x*P,y.vy+=S*P}}function h(){if(a){var d,p=a.length;for(u=new Array(p),f=new Array(p),d=0;d<p;++d)f[d]=+t(a[d],d,a),u[d]=isNaN(f[d])?0:+o(a[d],d,a)}}return l.initialize=function(d){a=d,h()},l.strength=function(d){return arguments.length?(o=typeof d=="function"?d:fe(+d),h(),l):o},l.radius=function(d){return arguments.length?(t=typeof d=="function"?d:fe(+d),h(),l):t},l.x=function(d){return arguments.length?(e=+d,l):e},l.y=function(d){return arguments.length?(r=+d,l):r},l}function Yv(t){var e=fe(.1),r,a,o;typeof t!="function"&&(t=fe(t==null?0:+t));function u(l){for(var h=0,d=r.length,p;h<d;++h)p=r[h],p.vx+=(o[h]-p.x)*a[h]*l}function f(){if(r){var l,h=r.length;for(a=new Array(h),o=new Array(h),l=0;l<h;++l)a[l]=isNaN(o[l]=+t(r[l],l,r))?0:+e(r[l],l,r)}}return u.initialize=function(l){r=l,f()},u.strength=function(l){return arguments.length?(e=typeof l=="function"?l:fe(+l),f(),u):e},u.x=function(l){return arguments.length?(t=typeof l=="function"?l:fe(+l),f(),u):t},u}function Hv(t){var e=fe(.1),r,a,o;typeof t!="function"&&(t=fe(t==null?0:+t));function u(l){for(var h=0,d=r.length,p;h<d;++h)p=r[h],p.vy+=(o[h]-p.y)*a[h]*l}function f(){if(r){var l,h=r.length;for(a=new Array(h),o=new Array(h),l=0;l<h;++l)a[l]=isNaN(o[l]=+t(r[l],l,r))?0:+e(r[l],l,r)}}return u.initialize=function(l){r=l,f()},u.strength=function(l){return arguments.length?(e=typeof l=="function"?l:fe(+l),f(),u):e},u.y=function(l){return arguments.length?(t=typeof l=="function"?l:fe(+l),f(),u):t},u}function uo(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,a=t.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+t.slice(r+1)]}function Hi(t){return t=uo(Math.abs(t)),t?t[1]:NaN}function Uv(t,e){return function(r,a){for(var o=r.length,u=[],f=0,l=t[0],h=0;o>0&&l>0&&(h+l+1>a&&(l=Math.max(1,a-h)),u.push(r.substring(o-=l,o+l)),!((h+=l+1)>a));)l=t[f=(f+1)%t.length];return u.reverse().join(e)}}function Wv(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var qv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kr(t){if(!(e=qv.exec(t)))throw new Error("invalid format: "+t);var e;return new co({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}kr.prototype=co.prototype;function co(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}co.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qv(t){t:for(var e=t.length,r=1,a=-1,o;r<e;++r)switch(t[r]){case".":a=o=r;break;case"0":a===0&&(a=r),o=r;break;default:if(!+t[r])break t;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(o+1):t}var uh;function jv(t,e){var r=uo(t,e);if(!r)return t+"";var a=r[0],o=r[1],u=o-(uh=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,f=a.length;return u===f?a:u>f?a+new Array(u-f+1).join("0"):u>0?a.slice(0,u)+"."+a.slice(u):"0."+new Array(1-u).join("0")+uo(t,Math.max(0,e+u-1))[0]}function ch(t,e){var r=uo(t,e);if(!r)return t+"";var a=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+a:a.length>o+1?a.slice(0,o+1)+"."+a.slice(o+1):a+new Array(o-a.length+2).join("0")}var fh={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ch(t*100,e)},r:ch,s:jv,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function lh(t){return t}var hh=Array.prototype.map,dh=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function gh(t){var e=t.grouping===void 0||t.thousands===void 0?lh:Uv(hh.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",a=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?lh:Wv(hh.call(t.numerals,String)),f=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"-":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function d(_){_=kr(_);var y=_.fill,x=_.align,S=_.sign,b=_.symbol,P=_.zero,L=_.width,R=_.comma,M=_.precision,E=_.trim,N=_.type;N==="n"?(R=!0,N="g"):fh[N]||(M===void 0&&(M=12),E=!0,N="g"),(P||y==="0"&&x==="=")&&(P=!0,y="0",x="=");var z=b==="$"?r:b==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",F=b==="$"?a:/[%p]/.test(N)?f:"",Q=fh[N],H=/[defgprs%]/.test(N);M=M===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function W(B){var V=z,X=F,Z,I,j;if(N==="c")X=Q(B)+X,B="";else{B=+B;var ft=B<0||1/B<0;if(B=isNaN(B)?h:Q(Math.abs(B),M),E&&(B=Qv(B)),ft&&+B==0&&S!=="+"&&(ft=!1),V=(ft?S==="("?S:l:S==="-"||S==="("?"":S)+V,X=(N==="s"?dh[8+uh/3]:"")+X+(ft&&S==="("?")":""),H){for(Z=-1,I=B.length;++Z<I;)if(j=B.charCodeAt(Z),48>j||j>57){X=(j===46?o+B.slice(Z+1):B.slice(Z))+X,B=B.slice(0,Z);break}}}R&&!P&&(B=e(B,1/0));var st=V.length+B.length+X.length,dt=st<L?new Array(L-st+1).join(y):"";switch(R&&P&&(B=e(dt+B,dt.length?L-X.length:1/0),dt=""),x){case"<":B=V+B+X+dt;break;case"=":B=V+dt+B+X;break;case"^":B=dt.slice(0,st=dt.length>>1)+V+B+X+dt.slice(st);break;default:B=dt+V+B+X;break}return u(B)}return W.toString=function(){return _+""},W}function p(_,y){var x=d((_=kr(_),_.type="f",_)),S=Math.max(-8,Math.min(8,Math.floor(Hi(y)/3)))*3,b=Math.pow(10,-S),P=dh[8+S/3];return function(L){return x(b*L)+P}}return{format:d,formatPrefix:p}}var fo;ph({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function ph(t){return fo=gh(t),m.format=fo.format,m.formatPrefix=fo.formatPrefix,fo}function yh(t){return Math.max(0,-Hi(Math.abs(t)))}function _h(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hi(e)/3)))*3-Hi(Math.abs(t)))}function mh(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hi(e)-Hi(t))+1}function Zn(){return new lo}function lo(){this.reset()}lo.prototype={constructor:lo,reset:function(){this.s=this.t=0},add:function(t){vh(ho,t,this.t),vh(this,ho.s,this.s),this.s?this.t+=ho.t:this.s=ho.t},valueOf:function(){return this.s}};var ho=new lo;function vh(t,e,r){var a=t.s=e+r,o=a-e,u=a-o;t.t=e-u+(r-o)}var pt=1e-6,go=1e-12,Pt=Math.PI,ie=Pt/2,po=Pt/4,$e=Pt*2,Ut=180/Pt,_t=Pt/180,Gt=Math.abs,Ui=Math.atan,Ee=Math.atan2,gt=Math.cos,yo=Math.ceil,xh=Math.exp,_o=Math.log,ku=Math.pow,ct=Math.sin,Ke=Math.sign||function(t){return t>0?1:t<0?-1:0},ue=Math.sqrt,Ru=Math.tan;function wh(t){return t>1?0:t<-1?Pt:Math.acos(t)}function ke(t){return t>1?ie:t<-1?-ie:Math.asin(t)}function bh(t){return(t=ct(t/2))*t}function ee(){}function mo(t,e){t&&Th.hasOwnProperty(t.type)&&Th[t.type](t,e)}var Sh={Feature:function(t,e){mo(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,a=-1,o=r.length;++a<o;)mo(r[a].geometry,e)}},Th={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,a=-1,o=r.length;++a<o;)t=r[a],e.point(t[0],t[1],t[2])},LineString:function(t,e){Vu(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,a=-1,o=r.length;++a<o;)Vu(r[a],e,0)},Polygon:function(t,e){Ah(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,a=-1,o=r.length;++a<o;)Ah(r[a],e)},GeometryCollection:function(t,e){for(var r=t.geometries,a=-1,o=r.length;++a<o;)mo(r[a],e)}};function Vu(t,e,r){var a=-1,o=t.length-r,u;for(e.lineStart();++a<o;)u=t[a],e.point(u[0],u[1],u[2]);e.lineEnd()}function Ah(t,e){var r=-1,a=t.length;for(e.polygonStart();++r<a;)Vu(t[r],e,1);e.polygonEnd()}function gn(t,e){t&&Sh.hasOwnProperty(t.type)?Sh[t.type](t,e):mo(t,e)}var vo=Zn(),xo=Zn(),Ph,Ch,Gu,Ou,Nu,Pn={point:ee,lineStart:ee,lineEnd:ee,polygonStart:function(){vo.reset(),Pn.lineStart=Zv,Pn.lineEnd=Kv},polygonEnd:function(){var t=+vo;xo.add(t<0?$e+t:t),this.lineStart=this.lineEnd=this.point=ee},sphere:function(){xo.add($e)}};function Zv(){Pn.point=Jv}function Kv(){Lh(Ph,Ch)}function Jv(t,e){Pn.point=Lh,Ph=t,Ch=e,t*=_t,e*=_t,Gu=t,Ou=gt(e=e/2+po),Nu=ct(e)}function Lh(t,e){t*=_t,e*=_t,e=e/2+po;var r=t-Gu,a=r>=0?1:-1,o=a*r,u=gt(e),f=ct(e),l=Nu*f,h=Ou*u+l*gt(o),d=l*a*ct(o);vo.add(Ee(d,h)),Gu=t,Ou=u,Nu=f}function tx(t){return xo.reset(),gn(t,Pn),xo*2}function wo(t){return[Ee(t[1],t[0]),ke(t[2])]}function yi(t){var e=t[0],r=t[1],a=gt(r);return[a*gt(e),a*ct(e),ct(r)]}function bo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Wi(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Du(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function So(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function To(t){var e=ue(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ne,ze,re,Ye,_i,Mh,$h,qi,Rr=Zn(),Kn,On,Nn={point:Fu,lineStart:kh,lineEnd:Rh,polygonStart:function(){Nn.point=Vh,Nn.lineStart=ex,Nn.lineEnd=nx,Rr.reset(),Pn.polygonStart()},polygonEnd:function(){Pn.polygonEnd(),Nn.point=Fu,Nn.lineStart=kh,Nn.lineEnd=Rh,vo<0?(ne=-(re=180),ze=-(Ye=90)):Rr>pt?Ye=90:Rr<-pt&&(ze=-90),On[0]=ne,On[1]=re},sphere:function(){ne=-(re=180),ze=-(Ye=90)}};function Fu(t,e){Kn.push(On=[ne=t,re=t]),e<ze&&(ze=e),e>Ye&&(Ye=e)}function Eh(t,e){var r=yi([t*_t,e*_t]);if(qi){var a=Wi(qi,r),o=[a[1],-a[0],0],u=Wi(o,a);To(u),u=wo(u);var f=t-_i,l=f>0?1:-1,h=u[0]*Ut*l,d,p=Gt(f)>180;p^(l*_i<h&&h<l*t)?(d=u[1]*Ut,d>Ye&&(Ye=d)):(h=(h+360)%360-180,p^(l*_i<h&&h<l*t)?(d=-u[1]*Ut,d<ze&&(ze=d)):(e<ze&&(ze=e),e>Ye&&(Ye=e))),p?t<_i?He(ne,t)>He(ne,re)&&(re=t):He(t,re)>He(ne,re)&&(ne=t):re>=ne?(t<ne&&(ne=t),t>re&&(re=t)):t>_i?He(ne,t)>He(ne,re)&&(re=t):He(t,re)>He(ne,re)&&(ne=t)}else Kn.push(On=[ne=t,re=t]);e<ze&&(ze=e),e>Ye&&(Ye=e),qi=r,_i=t}function kh(){Nn.point=Eh}function Rh(){On[0]=ne,On[1]=re,Nn.point=Fu,qi=null}function Vh(t,e){if(qi){var r=t-_i;Rr.add(Gt(r)>180?r+(r>0?360:-360):r)}else Mh=t,$h=e;Pn.point(t,e),Eh(t,e)}function ex(){Pn.lineStart()}function nx(){Vh(Mh,$h),Pn.lineEnd(),Gt(Rr)>pt&&(ne=-(re=180)),On[0]=ne,On[1]=re,qi=null}function He(t,e){return(e-=t)<0?e+360:e}function ix(t,e){return t[0]-e[0]}function Gh(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function rx(t){var e,r,a,o,u,f,l;if(Ye=re=-(ne=ze=1/0),Kn=[],gn(t,Nn),r=Kn.length){for(Kn.sort(ix),e=1,a=Kn[0],u=[a];e<r;++e)o=Kn[e],Gh(a,o[0])||Gh(a,o[1])?(He(a[0],o[1])>He(a[0],a[1])&&(a[1]=o[1]),He(o[0],a[1])>He(a[0],a[1])&&(a[0]=o[0])):u.push(a=o);for(f=-1/0,r=u.length-1,e=0,a=u[r];e<=r;a=o,++e)o=u[e],(l=He(a[1],o[0]))>f&&(f=l,ne=o[0],re=a[1])}return Kn=On=null,ne===1/0||ze===1/0?[[NaN,NaN],[NaN,NaN]]:[[ne,ze],[re,Ye]]}var Vr,Ao,Po,Co,Lo,Mo,$o,Eo,Iu,zu,Xu,Oh,Nh,Re,Ve,Ge,pn={sphere:ee,point:Bu,lineStart:Dh,lineEnd:Fh,polygonStart:function(){pn.lineStart=sx,pn.lineEnd=ux},polygonEnd:function(){pn.lineStart=Dh,pn.lineEnd=Fh}};function Bu(t,e){t*=_t,e*=_t;var r=gt(e);Gr(r*gt(t),r*ct(t),ct(e))}function Gr(t,e,r){++Vr,Po+=(t-Po)/Vr,Co+=(e-Co)/Vr,Lo+=(r-Lo)/Vr}function Dh(){pn.point=ax}function ax(t,e){t*=_t,e*=_t;var r=gt(e);Re=r*gt(t),Ve=r*ct(t),Ge=ct(e),pn.point=ox,Gr(Re,Ve,Ge)}function ox(t,e){t*=_t,e*=_t;var r=gt(e),a=r*gt(t),o=r*ct(t),u=ct(e),f=Ee(ue((f=Ve*u-Ge*o)*f+(f=Ge*a-Re*u)*f+(f=Re*o-Ve*a)*f),Re*a+Ve*o+Ge*u);Ao+=f,Mo+=f*(Re+(Re=a)),$o+=f*(Ve+(Ve=o)),Eo+=f*(Ge+(Ge=u)),Gr(Re,Ve,Ge)}function Fh(){pn.point=Bu}function sx(){pn.point=cx}function ux(){Ih(Oh,Nh),pn.point=Bu}function cx(t,e){Oh=t,Nh=e,t*=_t,e*=_t,pn.point=Ih;var r=gt(e);Re=r*gt(t),Ve=r*ct(t),Ge=ct(e),Gr(Re,Ve,Ge)}function Ih(t,e){t*=_t,e*=_t;var r=gt(e),a=r*gt(t),o=r*ct(t),u=ct(e),f=Ve*u-Ge*o,l=Ge*a-Re*u,h=Re*o-Ve*a,d=ue(f*f+l*l+h*h),p=ke(d),_=d&&-p/d;Iu+=_*f,zu+=_*l,Xu+=_*h,Ao+=p,Mo+=p*(Re+(Re=a)),$o+=p*(Ve+(Ve=o)),Eo+=p*(Ge+(Ge=u)),Gr(Re,Ve,Ge)}function fx(t){Vr=Ao=Po=Co=Lo=Mo=$o=Eo=Iu=zu=Xu=0,gn(t,pn);var e=Iu,r=zu,a=Xu,o=e*e+r*r+a*a;return o<go&&(e=Mo,r=$o,a=Eo,Ao<pt&&(e=Po,r=Co,a=Lo),o=e*e+r*r+a*a,o<go)?[NaN,NaN]:[Ee(r,e)*Ut,ke(a/ue(o))*Ut]}function Qi(t){return function(){return t}}function Yu(t,e){function r(a,o){return a=t(a,o),e(a[0],a[1])}return t.invert&&e.invert&&(r.invert=function(a,o){return a=e.invert(a,o),a&&t.invert(a[0],a[1])}),r}function Hu(t,e){return[Gt(t)>Pt?t+Math.round(-t/$e)*$e:t,e]}Hu.invert=Hu;function Uu(t,e,r){return(t%=$e)?e||r?Yu(Xh(t),Bh(e,r)):Xh(t):e||r?Bh(e,r):Hu}function zh(t){return function(e,r){return e+=t,[e>Pt?e-$e:e<-Pt?e+$e:e,r]}}function Xh(t){var e=zh(t);return e.invert=zh(-t),e}function Bh(t,e){var r=gt(t),a=ct(t),o=gt(e),u=ct(e);function f(l,h){var d=gt(h),p=gt(l)*d,_=ct(l)*d,y=ct(h),x=y*r+p*a;return[Ee(_*o-x*u,p*r-y*a),ke(x*o+_*u)]}return f.invert=function(l,h){var d=gt(h),p=gt(l)*d,_=ct(l)*d,y=ct(h),x=y*o-_*u;return[Ee(_*o+y*u,p*r+x*a),ke(x*r-p*a)]},f}function Yh(t){t=Uu(t[0]*_t,t[1]*_t,t.length>2?t[2]*_t:0);function e(r){return r=t(r[0]*_t,r[1]*_t),r[0]*=Ut,r[1]*=Ut,r}return e.invert=function(r){return r=t.invert(r[0]*_t,r[1]*_t),r[0]*=Ut,r[1]*=Ut,r},e}function Hh(t,e,r,a,o,u){if(r){var f=gt(e),l=ct(e),h=a*r;o==null?(o=e+a*$e,u=e-h/2):(o=Uh(f,o),u=Uh(f,u),(a>0?o<u:o>u)&&(o+=a*$e));for(var d,p=o;a>0?p>u:p<u;p-=h)d=wo([f,-l*gt(p),-l*ct(p)]),t.point(d[0],d[1])}}function Uh(t,e){e=yi(e),e[0]-=t,To(e);var r=wh(-e[1]);return((-e[2]<0?-r:r)+$e-pt)%$e}function lx(){var t=Qi([0,0]),e=Qi(90),r=Qi(6),a,o,u={point:f};function f(h,d){a.push(h=o(h,d)),h[0]*=Ut,h[1]*=Ut}function l(){var h=t.apply(this,arguments),d=e.apply(this,arguments)*_t,p=r.apply(this,arguments)*_t;return a=[],o=Uu(-h[0]*_t,-h[1]*_t,0).invert,Hh(u,d,p,1),h={type:"Polygon",coordinates:[a]},a=o=null,h}return l.center=function(h){return arguments.length?(t=typeof h=="function"?h:Qi([+h[0],+h[1]]),l):t},l.radius=function(h){return arguments.length?(e=typeof h=="function"?h:Qi(+h),l):e},l.precision=function(h){return arguments.length?(r=typeof h=="function"?h:Qi(+h),l):r},l}function Wh(){var t=[],e;return{point:function(r,a){e.push([r,a])},lineStart:function(){t.push(e=[])},lineEnd:ee,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],e=null,r}}}function ko(t,e){return Gt(t[0]-e[0])<pt&&Gt(t[1]-e[1])<pt}function Ro(t,e,r,a){this.x=t,this.z=e,this.o=r,this.e=a,this.v=!1,this.n=this.p=null}function qh(t,e,r,a,o){var u=[],f=[],l,h;if(t.forEach(function(S){if(!((b=S.length-1)<=0)){var b,P=S[0],L=S[b],R;if(ko(P,L)){for(o.lineStart(),l=0;l<b;++l)o.point((P=S[l])[0],P[1]);o.lineEnd();return}u.push(R=new Ro(P,S,null,!0)),f.push(R.o=new Ro(P,null,R,!1)),u.push(R=new Ro(L,S,null,!1)),f.push(R.o=new Ro(L,null,R,!0))}}),!!u.length){for(f.sort(e),Qh(u),Qh(f),l=0,h=f.length;l<h;++l)f[l].e=r=!r;for(var d=u[0],p,_;;){for(var y=d,x=!0;y.v;)if((y=y.n)===d)return;p=y.z,o.lineStart();do{if(y.v=y.o.v=!0,y.e){if(x)for(l=0,h=p.length;l<h;++l)o.point((_=p[l])[0],_[1]);else a(y.x,y.n.x,1,o);y=y.n}else{if(x)for(p=y.p.z,l=p.length-1;l>=0;--l)o.point((_=p[l])[0],_[1]);else a(y.x,y.p.x,-1,o);y=y.p}y=y.o,p=y.z,x=!x}while(!y.v);o.lineEnd()}}}function Qh(t){if(e=t.length){for(var e,r=0,a=t[0],o;++r<e;)a.n=o=t[r],o.p=a,a=o;a.n=o=t[0],o.p=a}}var Wu=Zn();function qu(t){return Gt(t[0])<=Pt?t[0]:Ke(t[0])*((Gt(t[0])+Pt)%$e-Pt)}function jh(t,e){var r=qu(e),a=e[1],o=ct(a),u=[ct(r),-gt(r),0],f=0,l=0;Wu.reset(),o===1?a=ie+pt:o===-1&&(a=-ie-pt);for(var h=0,d=t.length;h<d;++h)if(_=(p=t[h]).length)for(var p,_,y=p[_-1],x=qu(y),S=y[1]/2+po,b=ct(S),P=gt(S),L=0;L<_;++L,x=M,b=N,P=z,y=R){var R=p[L],M=qu(R),E=R[1]/2+po,N=ct(E),z=gt(E),F=M-x,Q=F>=0?1:-1,H=Q*F,W=H>Pt,B=b*N;if(Wu.add(Ee(B*Q*ct(H),P*z+B*gt(H))),f+=W?F+Q*$e:F,W^x>=r^M>=r){var V=Wi(yi(y),yi(R));To(V);var X=Wi(u,V);To(X);var Z=(W^F>=0?-1:1)*ke(X[2]);(a>Z||a===Z&&(V[0]||V[1]))&&(l+=W^F>=0?1:-1)}}return(f<-pt||f<pt&&Wu<-pt)^l&1}function Zh(t,e,r,a){return function(o){var u=e(o),f=Wh(),l=e(f),h=!1,d,p,_,y={point:x,lineStart:b,lineEnd:P,polygonStart:function(){y.point=L,y.lineStart=R,y.lineEnd=M,p=[],d=[]},polygonEnd:function(){y.point=x,y.lineStart=b,y.lineEnd=P,p=Ei(p);var E=jh(d,a);p.length?(h||(o.polygonStart(),h=!0),qh(p,dx,E,r,o)):E&&(h||(o.polygonStart(),h=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),h&&(o.polygonEnd(),h=!1),p=d=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function x(E,N){t(E,N)&&o.point(E,N)}function S(E,N){u.point(E,N)}function b(){y.point=S,u.lineStart()}function P(){y.point=x,u.lineEnd()}function L(E,N){_.push([E,N]),l.point(E,N)}function R(){l.lineStart(),_=[]}function M(){L(_[0][0],_[0][1]),l.lineEnd();var E=l.clean(),N=f.result(),z,F=N.length,Q,H,W;if(_.pop(),d.push(_),_=null,!!F){if(E&1){if(H=N[0],(Q=H.length-1)>0){for(h||(o.polygonStart(),h=!0),o.lineStart(),z=0;z<Q;++z)o.point((W=H[z])[0],W[1]);o.lineEnd()}return}F>1&&E&2&&N.push(N.pop().concat(N.shift())),p.push(N.filter(hx))}}return y}}function hx(t){return t.length>1}function dx(t,e){return((t=t.x)[0]<0?t[1]-ie-pt:ie-t[1])-((e=e.x)[0]<0?e[1]-ie-pt:ie-e[1])}var Qu=Zh(function(){return!0},gx,yx,[-Pt,-ie]);function gx(t){var e=NaN,r=NaN,a=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(u,f){var l=u>0?Pt:-Pt,h=Gt(u-e);Gt(h-Pt)<pt?(t.point(e,r=(r+f)/2>0?ie:-ie),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(u,r),o=0):a!==l&&h>=Pt&&(Gt(e-a)<pt&&(e-=a*pt),Gt(u-l)<pt&&(u-=l*pt),r=px(e,r,u,f),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(l,r),o=0),t.point(e=u,r=f),a=l},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-o}}}function px(t,e,r,a){var o,u,f=ct(t-r);return Gt(f)>pt?Ui((ct(e)*(u=gt(a))*ct(r)-ct(a)*(o=gt(e))*ct(t))/(o*u*f)):(e+a)/2}function yx(t,e,r,a){var o;if(t==null)o=r*ie,a.point(-Pt,o),a.point(0,o),a.point(Pt,o),a.point(Pt,0),a.point(Pt,-o),a.point(0,-o),a.point(-Pt,-o),a.point(-Pt,0),a.point(-Pt,o);else if(Gt(t[0]-e[0])>pt){var u=t[0]<e[0]?Pt:-Pt;o=r*u/2,a.point(-u,o),a.point(0,o),a.point(u,o)}else a.point(e[0],e[1])}function Kh(t){var e=gt(t),r=6*_t,a=e>0,o=Gt(e)>pt;function u(p,_,y,x){Hh(x,t,r,y,p,_)}function f(p,_){return gt(p)*gt(_)>e}function l(p){var _,y,x,S,b;return{lineStart:function(){S=x=!1,b=1},point:function(P,L){var R=[P,L],M,E=f(P,L),N=a?E?0:d(P,L):E?d(P+(P<0?Pt:-Pt),L):0;if(!_&&(S=x=E)&&p.lineStart(),E!==x&&(M=h(_,R),(!M||ko(_,M)||ko(R,M))&&(R[0]+=pt,R[1]+=pt,E=f(R[0],R[1]))),E!==x)b=0,E?(p.lineStart(),M=h(R,_),p.point(M[0],M[1])):(M=h(_,R),p.point(M[0],M[1]),p.lineEnd()),_=M;else if(o&&_&&a^E){var z;!(N&y)&&(z=h(R,_,!0))&&(b=0,a?(p.lineStart(),p.point(z[0][0],z[0][1]),p.point(z[1][0],z[1][1]),p.lineEnd()):(p.point(z[1][0],z[1][1]),p.lineEnd(),p.lineStart(),p.point(z[0][0],z[0][1])))}E&&(!_||!ko(_,R))&&p.point(R[0],R[1]),_=R,x=E,y=N},lineEnd:function(){x&&p.lineEnd(),_=null},clean:function(){return b|(S&&x)<<1}}}function h(p,_,y){var x=yi(p),S=yi(_),b=[1,0,0],P=Wi(x,S),L=bo(P,P),R=P[0],M=L-R*R;if(!M)return!y&&p;var E=e*L/M,N=-e*R/M,z=Wi(b,P),F=So(b,E),Q=So(P,N);Du(F,Q);var H=z,W=bo(F,H),B=bo(H,H),V=W*W-B*(bo(F,F)-1);if(!(V<0)){var X=ue(V),Z=So(H,(-W-X)/B);if(Du(Z,F),Z=wo(Z),!y)return Z;var I=p[0],j=_[0],ft=p[1],st=_[1],dt;j<I&&(dt=I,I=j,j=dt);var wt=j-I,bt=Gt(wt-Pt)<pt,Zt=bt||wt<pt;if(!bt&&st<ft&&(dt=ft,ft=st,st=dt),Zt?bt?ft+st>0^Z[1]<(Gt(Z[0]-I)<pt?ft:st):ft<=Z[1]&&Z[1]<=st:wt>Pt^(I<=Z[0]&&Z[0]<=j)){var Yt=So(H,(-W+X)/B);return Du(Yt,F),[Z,wo(Yt)]}}}function d(p,_){var y=a?t:Pt-t,x=0;return p<-y?x|=1:p>y&&(x|=2),_<-y?x|=4:_>y&&(x|=8),x}return Zh(f,l,u,a?[0,-t]:[-Pt,t-Pt])}function _x(t,e,r,a,o,u){var f=t[0],l=t[1],h=e[0],d=e[1],p=0,_=1,y=h-f,x=d-l,S;if(S=r-f,!(!y&&S>0)){if(S/=y,y<0){if(S<p)return;S<_&&(_=S)}else if(y>0){if(S>_)return;S>p&&(p=S)}if(S=o-f,!(!y&&S<0)){if(S/=y,y<0){if(S>_)return;S>p&&(p=S)}else if(y>0){if(S<p)return;S<_&&(_=S)}if(S=a-l,!(!x&&S>0)){if(S/=x,x<0){if(S<p)return;S<_&&(_=S)}else if(x>0){if(S>_)return;S>p&&(p=S)}if(S=u-l,!(!x&&S<0)){if(S/=x,x<0){if(S>_)return;S>p&&(p=S)}else if(x>0){if(S<p)return;S<_&&(_=S)}return p>0&&(t[0]=f+p*y,t[1]=l+p*x),_<1&&(e[0]=f+_*y,e[1]=l+_*x),!0}}}}}var Or=1e9,Vo=-Or;function Go(t,e,r,a){function o(d,p){return t<=d&&d<=r&&e<=p&&p<=a}function u(d,p,_,y){var x=0,S=0;if(d==null||(x=f(d,_))!==(S=f(p,_))||h(d,p)<0^_>0)do y.point(x===0||x===3?t:r,x>1?a:e);while((x=(x+_+4)%4)!==S);else y.point(p[0],p[1])}function f(d,p){return Gt(d[0]-t)<pt?p>0?0:3:Gt(d[0]-r)<pt?p>0?2:1:Gt(d[1]-e)<pt?p>0?1:0:p>0?3:2}function l(d,p){return h(d.x,p.x)}function h(d,p){var _=f(d,1),y=f(p,1);return _!==y?_-y:_===0?p[1]-d[1]:_===1?d[0]-p[0]:_===2?d[1]-p[1]:p[0]-d[0]}return function(d){var p=d,_=Wh(),y,x,S,b,P,L,R,M,E,N,z,F={point:Q,lineStart:V,lineEnd:X,polygonStart:W,polygonEnd:B};function Q(I,j){o(I,j)&&p.point(I,j)}function H(){for(var I=0,j=0,ft=x.length;j<ft;++j)for(var st=x[j],dt=1,wt=st.length,bt=st[0],Zt,Yt,Ot=bt[0],ae=bt[1];dt<wt;++dt)Zt=Ot,Yt=ae,bt=st[dt],Ot=bt[0],ae=bt[1],Yt<=a?ae>a&&(Ot-Zt)*(a-Yt)>(ae-Yt)*(t-Zt)&&++I:ae<=a&&(Ot-Zt)*(a-Yt)<(ae-Yt)*(t-Zt)&&--I;return I}function W(){p=_,y=[],x=[],z=!0}function B(){var I=H(),j=z&&I,ft=(y=Ei(y)).length;(j||ft)&&(d.polygonStart(),j&&(d.lineStart(),u(null,null,1,d),d.lineEnd()),ft&&qh(y,l,I,u,d),d.polygonEnd()),p=d,y=x=S=null}function V(){F.point=Z,x&&x.push(S=[]),N=!0,E=!1,R=M=NaN}function X(){y&&(Z(b,P),L&&E&&_.rejoin(),y.push(_.result())),F.point=Q,E&&p.lineEnd()}function Z(I,j){var ft=o(I,j);if(x&&S.push([I,j]),N)b=I,P=j,L=ft,N=!1,ft&&(p.lineStart(),p.point(I,j));else if(ft&&E)p.point(I,j);else{var st=[R=Math.max(Vo,Math.min(Or,R)),M=Math.max(Vo,Math.min(Or,M))],dt=[I=Math.max(Vo,Math.min(Or,I)),j=Math.max(Vo,Math.min(Or,j))];_x(st,dt,t,e,r,a)?(E||(p.lineStart(),p.point(st[0],st[1])),p.point(dt[0],dt[1]),ft||p.lineEnd(),z=!1):ft&&(p.lineStart(),p.point(I,j),z=!1)}R=I,M=j,E=ft}return F}}function mx(){var t=0,e=0,r=960,a=500,o,u,f;return f={stream:function(l){return o&&u===l?o:o=Go(t,e,r,a)(u=l)},extent:function(l){return arguments.length?(t=+l[0][0],e=+l[0][1],r=+l[1][0],a=+l[1][1],o=u=null,f):[[t,e],[r,a]]}}}var ju=Zn(),Zu,Oo,No,ji={sphere:ee,point:ee,lineStart:vx,lineEnd:ee,polygonStart:ee,polygonEnd:ee};function vx(){ji.point=wx,ji.lineEnd=xx}function xx(){ji.point=ji.lineEnd=ee}function wx(t,e){t*=_t,e*=_t,Zu=t,Oo=ct(e),No=gt(e),ji.point=bx}function bx(t,e){t*=_t,e*=_t;var r=ct(e),a=gt(e),o=Gt(t-Zu),u=gt(o),f=ct(o),l=a*f,h=No*r-Oo*a*u,d=Oo*r+No*a*u;ju.add(Ee(ue(l*l+h*h),d)),Zu=t,Oo=r,No=a}function Jh(t){return ju.reset(),gn(t,ji),+ju}var Ku=[null,null],Sx={type:"LineString",coordinates:Ku};function Do(t,e){return Ku[0]=t,Ku[1]=e,Jh(Sx)}var td={Feature:function(t,e){return Fo(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,a=-1,o=r.length;++a<o;)if(Fo(r[a].geometry,e))return!0;return!1}},ed={Sphere:function(){return!0},Point:function(t,e){return nd(t.coordinates,e)},MultiPoint:function(t,e){for(var r=t.coordinates,a=-1,o=r.length;++a<o;)if(nd(r[a],e))return!0;return!1},LineString:function(t,e){return id(t.coordinates,e)},MultiLineString:function(t,e){for(var r=t.coordinates,a=-1,o=r.length;++a<o;)if(id(r[a],e))return!0;return!1},Polygon:function(t,e){return rd(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,a=-1,o=r.length;++a<o;)if(rd(r[a],e))return!0;return!1},GeometryCollection:function(t,e){for(var r=t.geometries,a=-1,o=r.length;++a<o;)if(Fo(r[a],e))return!0;return!1}};function Fo(t,e){return t&&ed.hasOwnProperty(t.type)?ed[t.type](t,e):!1}function nd(t,e){return Do(t,e)===0}function id(t,e){for(var r,a,o,u=0,f=t.length;u<f;u++){if(a=Do(t[u],e),a===0||u>0&&(o=Do(t[u],t[u-1]),o>0&&r<=o&&a<=o&&(r+a-o)*(1-Math.pow((r-a)/o,2))<go*o))return!0;r=a}return!1}function rd(t,e){return!!jh(t.map(Tx),ad(e))}function Tx(t){return t=t.map(ad),t.pop(),t}function ad(t){return[t[0]*_t,t[1]*_t]}function Ax(t,e){return(t&&td.hasOwnProperty(t.type)?td[t.type]:Fo)(t,e)}function od(t,e,r){var a=zt(t,e-pt,r).concat(e);return function(o){return a.map(function(u){return[o,u]})}}function sd(t,e,r){var a=zt(t,e-pt,r).concat(e);return function(o){return a.map(function(u){return[u,o]})}}function ud(){var t,e,r,a,o,u,f,l,h=10,d=h,p=90,_=360,y,x,S,b,P=2.5;function L(){return{type:"MultiLineString",coordinates:R()}}function R(){return zt(yo(a/p)*p,r,p).map(S).concat(zt(yo(l/_)*_,f,_).map(b)).concat(zt(yo(e/h)*h,t,h).filter(function(M){return Gt(M%p)>pt}).map(y)).concat(zt(yo(u/d)*d,o,d).filter(function(M){return Gt(M%_)>pt}).map(x))}return L.lines=function(){return R().map(function(M){return{type:"LineString",coordinates:M}})},L.outline=function(){return{type:"Polygon",coordinates:[S(a).concat(b(f).slice(1),S(r).reverse().slice(1),b(l).reverse().slice(1))]}},L.extent=function(M){return arguments.length?L.extentMajor(M).extentMinor(M):L.extentMinor()},L.extentMajor=function(M){return arguments.length?(a=+M[0][0],r=+M[1][0],l=+M[0][1],f=+M[1][1],a>r&&(M=a,a=r,r=M),l>f&&(M=l,l=f,f=M),L.precision(P)):[[a,l],[r,f]]},L.extentMinor=function(M){return arguments.length?(e=+M[0][0],t=+M[1][0],u=+M[0][1],o=+M[1][1],e>t&&(M=e,e=t,t=M),u>o&&(M=u,u=o,o=M),L.precision(P)):[[e,u],[t,o]]},L.step=function(M){return arguments.length?L.stepMajor(M).stepMinor(M):L.stepMinor()},L.stepMajor=function(M){return arguments.length?(p=+M[0],_=+M[1],L):[p,_]},L.stepMinor=function(M){return arguments.length?(h=+M[0],d=+M[1],L):[h,d]},L.precision=function(M){return arguments.length?(P=+M,y=od(u,o,90),x=sd(e,t,P),S=od(l,f,90),b=sd(a,r,P),L):P},L.extentMajor([[-180,-90+pt],[180,90-pt]]).extentMinor([[-180,-80-pt],[180,80+pt]])}function Px(){return ud()()}function Cx(t,e){var r=t[0]*_t,a=t[1]*_t,o=e[0]*_t,u=e[1]*_t,f=gt(a),l=ct(a),h=gt(u),d=ct(u),p=f*gt(r),_=f*ct(r),y=h*gt(o),x=h*ct(o),S=2*ke(ue(bh(u-a)+f*h*bh(o-r))),b=ct(S),P=S?function(L){var R=ct(L*=S)/b,M=ct(S-L)/b,E=M*p+R*y,N=M*_+R*x,z=M*l+R*d;return[Ee(N,E)*Ut,Ee(z,ue(E*E+N*N))*Ut]}:function(){return[r*Ut,a*Ut]};return P.distance=S,P}function Nr(t){return t}var Ju=Zn(),tc=Zn(),cd,fd,ec,nc,Dn={point:ee,lineStart:ee,lineEnd:ee,polygonStart:function(){Dn.lineStart=Lx,Dn.lineEnd=$x},polygonEnd:function(){Dn.lineStart=Dn.lineEnd=Dn.point=ee,Ju.add(Gt(tc)),tc.reset()},result:function(){var t=Ju/2;return Ju.reset(),t}};function Lx(){Dn.point=Mx}function Mx(t,e){Dn.point=ld,cd=ec=t,fd=nc=e}function ld(t,e){tc.add(nc*t-ec*e),ec=t,nc=e}function $x(){ld(cd,fd)}var Zi=1/0,Io=Zi,Dr=-Zi,zo=Dr,Xo={point:Ex,lineStart:ee,lineEnd:ee,polygonStart:ee,polygonEnd:ee,result:function(){var t=[[Zi,Io],[Dr,zo]];return Dr=zo=-(Io=Zi=1/0),t}};function Ex(t,e){t<Zi&&(Zi=t),t>Dr&&(Dr=t),e<Io&&(Io=e),e>zo&&(zo=e)}var ic=0,rc=0,Fr=0,Bo=0,Yo=0,Ki=0,ac=0,oc=0,Ir=0,hd,dd,Cn,Ln,Je={point:mi,lineStart:gd,lineEnd:pd,polygonStart:function(){Je.lineStart=Vx,Je.lineEnd=Gx},polygonEnd:function(){Je.point=mi,Je.lineStart=gd,Je.lineEnd=pd},result:function(){var t=Ir?[ac/Ir,oc/Ir]:Ki?[Bo/Ki,Yo/Ki]:Fr?[ic/Fr,rc/Fr]:[NaN,NaN];return ic=rc=Fr=Bo=Yo=Ki=ac=oc=Ir=0,t}};function mi(t,e){ic+=t,rc+=e,++Fr}function gd(){Je.point=kx}function kx(t,e){Je.point=Rx,mi(Cn=t,Ln=e)}function Rx(t,e){var r=t-Cn,a=e-Ln,o=ue(r*r+a*a);Bo+=o*(Cn+t)/2,Yo+=o*(Ln+e)/2,Ki+=o,mi(Cn=t,Ln=e)}function pd(){Je.point=mi}function Vx(){Je.point=Ox}function Gx(){yd(hd,dd)}function Ox(t,e){Je.point=yd,mi(hd=Cn=t,dd=Ln=e)}function yd(t,e){var r=t-Cn,a=e-Ln,o=ue(r*r+a*a);Bo+=o*(Cn+t)/2,Yo+=o*(Ln+e)/2,Ki+=o,o=Ln*t-Cn*e,ac+=o*(Cn+t),oc+=o*(Ln+e),Ir+=o*3,mi(Cn=t,Ln=e)}function _d(t){this._context=t}_d.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,$e);break}}},result:ee};var sc=Zn(),uc,md,vd,zr,Xr,Br={point:ee,lineStart:function(){Br.point=Nx},lineEnd:function(){uc&&xd(md,vd),Br.point=ee},polygonStart:function(){uc=!0},polygonEnd:function(){uc=null},result:function(){var t=+sc;return sc.reset(),t}};function Nx(t,e){Br.point=xd,md=zr=t,vd=Xr=e}function xd(t,e){zr-=t,Xr-=e,sc.add(ue(zr*zr+Xr*Xr)),zr=t,Xr=e}function wd(){this._string=[]}wd.prototype={_radius:4.5,_circle:bd(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=bd(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function bd(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Dx(t,e){var r=4.5,a,o;function u(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),gn(f,a(o))),o.result()}return u.area=function(f){return gn(f,a(Dn)),Dn.result()},u.measure=function(f){return gn(f,a(Br)),Br.result()},u.bounds=function(f){return gn(f,a(Xo)),Xo.result()},u.centroid=function(f){return gn(f,a(Je)),Je.result()},u.projection=function(f){return arguments.length?(a=f==null?(t=null,Nr):(t=f).stream,u):t},u.context=function(f){return arguments.length?(o=f==null?(e=null,new wd):new _d(e=f),typeof r!="function"&&o.pointRadius(r),u):e},u.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),u):r},u.projection(t).context(e)}function Fx(t){return{stream:Yr(t)}}function Yr(t){return function(e){var r=new cc;for(var a in t)r[a]=t[a];return r.stream=e,r}}function cc(){}cc.prototype={constructor:cc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function fc(t,e,r){var a=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),a!=null&&t.clipExtent(null),gn(r,t.stream(Xo)),e(Xo.result()),a!=null&&t.clipExtent(a),t}function Ho(t,e,r){return fc(t,function(a){var o=e[1][0]-e[0][0],u=e[1][1]-e[0][1],f=Math.min(o/(a[1][0]-a[0][0]),u/(a[1][1]-a[0][1])),l=+e[0][0]+(o-f*(a[1][0]+a[0][0]))/2,h=+e[0][1]+(u-f*(a[1][1]+a[0][1]))/2;t.scale(150*f).translate([l,h])},r)}function lc(t,e,r){return Ho(t,[[0,0],e],r)}function hc(t,e,r){return fc(t,function(a){var o=+e,u=o/(a[1][0]-a[0][0]),f=(o-u*(a[1][0]+a[0][0]))/2,l=-u*a[0][1];t.scale(150*u).translate([f,l])},r)}function dc(t,e,r){return fc(t,function(a){var o=+e,u=o/(a[1][1]-a[0][1]),f=-u*a[0][0],l=(o-u*(a[1][1]+a[0][1]))/2;t.scale(150*u).translate([f,l])},r)}var Sd=16,Ix=gt(30*_t);function Td(t,e){return+e?Xx(t,e):zx(t)}function zx(t){return Yr({point:function(e,r){e=t(e,r),this.stream.point(e[0],e[1])}})}function Xx(t,e){function r(a,o,u,f,l,h,d,p,_,y,x,S,b,P){var L=d-a,R=p-o,M=L*L+R*R;if(M>4*e&&b--){var E=f+y,N=l+x,z=h+S,F=ue(E*E+N*N+z*z),Q=ke(z/=F),H=Gt(Gt(z)-1)<pt||Gt(u-_)<pt?(u+_)/2:Ee(N,E),W=t(H,Q),B=W[0],V=W[1],X=B-a,Z=V-o,I=R*X-L*Z;(I*I/M>e||Gt((L*X+R*Z)/M-.5)>.3||f*y+l*x+h*S<Ix)&&(r(a,o,u,f,l,h,B,V,H,E/=F,N/=F,z,b,P),P.point(B,V),r(B,V,H,E,N,z,d,p,_,y,x,S,b,P))}}return function(a){var o,u,f,l,h,d,p,_,y,x,S,b,P={point:L,lineStart:R,lineEnd:E,polygonStart:function(){a.polygonStart(),P.lineStart=N},polygonEnd:function(){a.polygonEnd(),P.lineStart=R}};function L(Q,H){Q=t(Q,H),a.point(Q[0],Q[1])}function R(){_=NaN,P.point=M,a.lineStart()}function M(Q,H){var W=yi([Q,H]),B=t(Q,H);r(_,y,p,x,S,b,_=B[0],y=B[1],p=Q,x=W[0],S=W[1],b=W[2],Sd,a),a.point(_,y)}function E(){P.point=L,a.lineEnd()}function N(){R(),P.point=z,P.lineEnd=F}function z(Q,H){M(o=Q,H),u=_,f=y,l=x,h=S,d=b,P.point=M}function F(){r(_,y,p,x,S,b,u,f,o,l,h,d,Sd,a),P.lineEnd=E,E()}return P}}var Bx=Yr({point:function(t,e){this.stream.point(t*_t,e*_t)}});function Yx(t){return Yr({point:function(e,r){var a=t(e,r);return this.stream.point(a[0],a[1])}})}function Hx(t,e,r,a,o){function u(f,l){return f*=a,l*=o,[e+t*f,r-t*l]}return u.invert=function(f,l){return[(f-e)/t*a,(r-l)/t*o]},u}function Ad(t,e,r,a,o,u){var f=gt(u),l=ct(u),h=f*t,d=l*t,p=f/t,_=l/t,y=(l*r-f*e)/t,x=(l*e+f*r)/t;function S(b,P){return b*=a,P*=o,[h*b-d*P+e,r-d*b-h*P]}return S.invert=function(b,P){return[a*(p*b-_*P+y),o*(x-_*b-p*P)]},S}function Mn(t){return gc(function(){return t})()}function gc(t){var e,r=150,a=480,o=250,u=0,f=0,l=0,h=0,d=0,p,_=0,y=1,x=1,S=null,b=Qu,P=null,L,R,M,E=Nr,N=.5,z,F,Q,H,W;function B(I){return Q(I[0]*_t,I[1]*_t)}function V(I){return I=Q.invert(I[0],I[1]),I&&[I[0]*Ut,I[1]*Ut]}B.stream=function(I){return H&&W===I?H:H=Bx(Yx(p)(b(z(E(W=I)))))},B.preclip=function(I){return arguments.length?(b=I,S=void 0,Z()):b},B.postclip=function(I){return arguments.length?(E=I,P=L=R=M=null,Z()):E},B.clipAngle=function(I){return arguments.length?(b=+I?Kh(S=I*_t):(S=null,Qu),Z()):S*Ut},B.clipExtent=function(I){return arguments.length?(E=I==null?(P=L=R=M=null,Nr):Go(P=+I[0][0],L=+I[0][1],R=+I[1][0],M=+I[1][1]),Z()):P==null?null:[[P,L],[R,M]]},B.scale=function(I){return arguments.length?(r=+I,X()):r},B.translate=function(I){return arguments.length?(a=+I[0],o=+I[1],X()):[a,o]},B.center=function(I){return arguments.length?(u=I[0]%360*_t,f=I[1]%360*_t,X()):[u*Ut,f*Ut]},B.rotate=function(I){return arguments.length?(l=I[0]%360*_t,h=I[1]%360*_t,d=I.length>2?I[2]%360*_t:0,X()):[l*Ut,h*Ut,d*Ut]},B.angle=function(I){return arguments.length?(_=I%360*_t,X()):_*Ut},B.reflectX=function(I){return arguments.length?(y=I?-1:1,X()):y<0},B.reflectY=function(I){return arguments.length?(x=I?-1:1,X()):x<0},B.precision=function(I){return arguments.length?(z=Td(F,N=I*I),Z()):ue(N)},B.fitExtent=function(I,j){return Ho(B,I,j)},B.fitSize=function(I,j){return lc(B,I,j)},B.fitWidth=function(I,j){return hc(B,I,j)},B.fitHeight=function(I,j){return dc(B,I,j)};function X(){var I=Ad(r,0,0,y,x,_).apply(null,e(u,f)),j=(_?Ad:Hx)(r,a-I[0],o-I[1],y,x,_);return p=Uu(l,h,d),F=Yu(e,j),Q=Yu(p,F),z=Td(F,N),Z()}function Z(){return H=W=null,B}return function(){return e=t.apply(this,arguments),B.invert=e.invert&&V,X()}}function pc(t){var e=0,r=Pt/3,a=gc(t),o=a(e,r);return o.parallels=function(u){return arguments.length?a(e=u[0]*_t,r=u[1]*_t):[e*Ut,r*Ut]},o}function Ux(t){var e=gt(t);function r(a,o){return[a*e,ct(o)/e]}return r.invert=function(a,o){return[a/e,ke(o*e)]},r}function Pd(t,e){var r=ct(t),a=(r+ct(e))/2;if(Gt(a)<pt)return Ux(t);var o=1+r*(2*a-r),u=ue(o)/a;function f(l,h){var d=ue(o-2*a*ct(h))/a;return[d*ct(l*=a),u-d*gt(l)]}return f.invert=function(l,h){var d=u-h,p=Ee(l,Gt(d))*Ke(d);return d*a<0&&(p-=Pt*Ke(l)*Ke(d)),[p/a,ke((o-(l*l+d*d)*a*a)/(2*a))]},f}function Uo(){return pc(Pd).scale(155.424).center([0,33.6442])}function Cd(){return Uo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Wx(t){var e=t.length;return{point:function(r,a){for(var o=-1;++o<e;)t[o].point(r,a)},sphere:function(){for(var r=-1;++r<e;)t[r].sphere()},lineStart:function(){for(var r=-1;++r<e;)t[r].lineStart()},lineEnd:function(){for(var r=-1;++r<e;)t[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<e;)t[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<e;)t[r].polygonEnd()}}}function qx(){var t,e,r=Cd(),a,o=Uo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u,f=Uo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,h,d={point:function(y,x){h=[y,x]}};function p(y){var x=y[0],S=y[1];return h=null,a.point(x,S),h||(u.point(x,S),h)||(l.point(x,S),h)}p.invert=function(y){var x=r.scale(),S=r.translate(),b=(y[0]-S[0])/x,P=(y[1]-S[1])/x;return(P>=.12&&P<.234&&b>=-.425&&b<-.214?o:P>=.166&&P<.234&&b>=-.214&&b<-.115?f:r).invert(y)},p.stream=function(y){return t&&e===y?t:t=Wx([r.stream(e=y),o.stream(y),f.stream(y)])},p.precision=function(y){return arguments.length?(r.precision(y),o.precision(y),f.precision(y),_()):r.precision()},p.scale=function(y){return arguments.length?(r.scale(y),o.scale(y*.35),f.scale(y),p.translate(r.translate())):r.scale()},p.translate=function(y){if(!arguments.length)return r.translate();var x=r.scale(),S=+y[0],b=+y[1];return a=r.translate(y).clipExtent([[S-.455*x,b-.238*x],[S+.455*x,b+.238*x]]).stream(d),u=o.translate([S-.307*x,b+.201*x]).clipExtent([[S-.425*x+pt,b+.12*x+pt],[S-.214*x-pt,b+.234*x-pt]]).stream(d),l=f.translate([S-.205*x,b+.212*x]).clipExtent([[S-.214*x+pt,b+.166*x+pt],[S-.115*x-pt,b+.234*x-pt]]).stream(d),_()},p.fitExtent=function(y,x){return Ho(p,y,x)},p.fitSize=function(y,x){return lc(p,y,x)},p.fitWidth=function(y,x){return hc(p,y,x)},p.fitHeight=function(y,x){return dc(p,y,x)};function _(){return t=e=null,p}return p.scale(1070)}function Ld(t){return function(e,r){var a=gt(e),o=gt(r),u=t(a*o);return[u*o*ct(e),u*ct(r)]}}function Hr(t){return function(e,r){var a=ue(e*e+r*r),o=t(a),u=ct(o),f=gt(o);return[Ee(e*u,a*f),ke(a&&r*u/a)]}}var yc=Ld(function(t){return ue(2/(1+t))});yc.invert=Hr(function(t){return 2*ke(t/2)});function Qx(){return Mn(yc).scale(124.75).clipAngle(180-.001)}var _c=Ld(function(t){return(t=wh(t))&&t/ct(t)});_c.invert=Hr(function(t){return t});function jx(){return Mn(_c).scale(79.4188).clipAngle(180-.001)}function Ur(t,e){return[t,_o(Ru((ie+e)/2))]}Ur.invert=function(t,e){return[t,2*Ui(xh(e))-ie]};function Zx(){return Md(Ur).scale(961/$e)}function Md(t){var e=Mn(t),r=e.center,a=e.scale,o=e.translate,u=e.clipExtent,f=null,l,h,d;e.scale=function(_){return arguments.length?(a(_),p()):a()},e.translate=function(_){return arguments.length?(o(_),p()):o()},e.center=function(_){return arguments.length?(r(_),p()):r()},e.clipExtent=function(_){return arguments.length?(_==null?f=l=h=d=null:(f=+_[0][0],l=+_[0][1],h=+_[1][0],d=+_[1][1]),p()):f==null?null:[[f,l],[h,d]]};function p(){var _=Pt*a(),y=e(Yh(e.rotate()).invert([0,0]));return u(f==null?[[y[0]-_,y[1]-_],[y[0]+_,y[1]+_]]:t===Ur?[[Math.max(y[0]-_,f),l],[Math.min(y[0]+_,h),d]]:[[f,Math.max(y[1]-_,l)],[h,Math.min(y[1]+_,d)]])}return p()}function Wo(t){return Ru((ie+t)/2)}function $d(t,e){var r=gt(t),a=t===e?ct(t):_o(r/gt(e))/_o(Wo(e)/Wo(t)),o=r*ku(Wo(t),a)/a;if(!a)return Ur;function u(f,l){o>0?l<-ie+pt&&(l=-ie+pt):l>ie-pt&&(l=ie-pt);var h=o/ku(Wo(l),a);return[h*ct(a*f),o-h*gt(a*f)]}return u.invert=function(f,l){var h=o-l,d=Ke(a)*ue(f*f+h*h),p=Ee(f,Gt(h))*Ke(h);return h*a<0&&(p-=Pt*Ke(f)*Ke(h)),[p/a,2*Ui(ku(o/d,1/a))-ie]},u}function Kx(){return pc($d).scale(109.5).parallels([30,30])}function Wr(t,e){return[t,e]}Wr.invert=Wr;function Jx(){return Mn(Wr).scale(152.63)}function Ed(t,e){var r=gt(t),a=t===e?ct(t):(r-gt(e))/(e-t),o=r/a+t;if(Gt(a)<pt)return Wr;function u(f,l){var h=o-l,d=a*f;return[h*ct(d),o-h*gt(d)]}return u.invert=function(f,l){var h=o-l,d=Ee(f,Gt(h))*Ke(h);return h*a<0&&(d-=Pt*Ke(f)*Ke(h)),[d/a,o-Ke(a)*ue(f*f+h*h)]},u}function tw(){return pc(Ed).scale(131.154).center([0,13.9389])}var qr=1.340264,Qr=-.081106,jr=893e-6,Zr=.003796,qo=ue(3)/2,ew=12;function mc(t,e){var r=ke(qo*ct(e)),a=r*r,o=a*a*a;return[t*gt(r)/(qo*(qr+3*Qr*a+o*(7*jr+9*Zr*a))),r*(qr+Qr*a+o*(jr+Zr*a))]}mc.invert=function(t,e){for(var r=e,a=r*r,o=a*a*a,u=0,f,l,h;u<ew&&(l=r*(qr+Qr*a+o*(jr+Zr*a))-e,h=qr+3*Qr*a+o*(7*jr+9*Zr*a),r-=f=l/h,a=r*r,o=a*a*a,!(Gt(f)<go));++u);return[qo*t*(qr+3*Qr*a+o*(7*jr+9*Zr*a))/gt(r),ke(ct(r)/qo)]};function nw(){return Mn(mc).scale(177.158)}function vc(t,e){var r=gt(e),a=gt(t)*r;return[r*ct(t)/a,ct(e)/a]}vc.invert=Hr(Ui);function iw(){return Mn(vc).scale(144.049).clipAngle(60)}function rw(){var t=1,e=0,r=0,a=1,o=1,u=0,f,l,h=null,d,p,_,y=1,x=1,S=Yr({point:function(E,N){var z=M([E,N]);this.stream.point(z[0],z[1])}}),b=Nr,P,L;function R(){return y=t*a,x=t*o,P=L=null,M}function M(E){var N=E[0]*y,z=E[1]*x;if(u){var F=z*f-N*l;N=N*f+z*l,z=F}return[N+e,z+r]}return M.invert=function(E){var N=E[0]-e,z=E[1]-r;if(u){var F=z*f+N*l;N=N*f-z*l,z=F}return[N/y,z/x]},M.stream=function(E){return P&&L===E?P:P=S(b(L=E))},M.postclip=function(E){return arguments.length?(b=E,h=d=p=_=null,R()):b},M.clipExtent=function(E){return arguments.length?(b=E==null?(h=d=p=_=null,Nr):Go(h=+E[0][0],d=+E[0][1],p=+E[1][0],_=+E[1][1]),R()):h==null?null:[[h,d],[p,_]]},M.scale=function(E){return arguments.length?(t=+E,R()):t},M.translate=function(E){return arguments.length?(e=+E[0],r=+E[1],R()):[e,r]},M.angle=function(E){return arguments.length?(u=E%360*_t,l=ct(u),f=gt(u),R()):u*Ut},M.reflectX=function(E){return arguments.length?(a=E?-1:1,R()):a<0},M.reflectY=function(E){return arguments.length?(o=E?-1:1,R()):o<0},M.fitExtent=function(E,N){return Ho(M,E,N)},M.fitSize=function(E,N){return lc(M,E,N)},M.fitWidth=function(E,N){return hc(M,E,N)},M.fitHeight=function(E,N){return dc(M,E,N)},M}function xc(t,e){var r=e*e,a=r*r;return[t*(.8707-.131979*r+a*(-.013791+a*(.003971*r-.001529*a))),e*(1.007226+r*(.015085+a*(-.044475+.028874*r-.005916*a)))]}xc.invert=function(t,e){var r=e,a=25,o;do{var u=r*r,f=u*u;r-=o=(r*(1.007226+u*(.015085+f*(-.044475+.028874*u-.005916*f)))-e)/(1.007226+u*(.015085*3+f*(-.044475*7+.028874*9*u-.005916*11*f)))}while(Gt(o)>pt&&--a>0);return[t/(.8707+(u=r*r)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),r]};function aw(){return Mn(xc).scale(175.295)}function wc(t,e){return[gt(e)*ct(t),ct(e)]}wc.invert=Hr(ke);function ow(){return Mn(wc).scale(249.5).clipAngle(90+pt)}function bc(t,e){var r=gt(e),a=1+gt(t)*r;return[r*ct(t)/a,ct(e)/a]}bc.invert=Hr(function(t){return 2*Ui(t)});function sw(){return Mn(bc).scale(250).clipAngle(142)}function Sc(t,e){return[_o(Ru((ie+e)/2)),-t]}Sc.invert=function(t,e){return[-e,2*Ui(xh(t))-ie]};function uw(){var t=Md(Sc),e=t.center,r=t.rotate;return t.center=function(a){return arguments.length?e([-a[1],a[0]]):(a=e(),[a[1],-a[0]])},t.rotate=function(a){return arguments.length?r([a[0],a[1],a.length>2?a[2]+90:90]):(a=r(),[a[0],a[1],a[2]-90])},r([0,0,90]).scale(159.155)}function cw(t,e){return t.parent===e.parent?1:2}function fw(t){return t.reduce(lw,0)/t.length}function lw(t,e){return t+e.x}function hw(t){return 1+t.reduce(dw,0)}function dw(t,e){return Math.max(t,e.y)}function gw(t){for(var e;e=t.children;)t=e[0];return t}function pw(t){for(var e;e=t.children;)t=e[e.length-1];return t}function yw(){var t=cw,e=1,r=1,a=!1;function o(u){var f,l=0;u.eachAfter(function(y){var x=y.children;x?(y.x=fw(x),y.y=hw(x)):(y.x=f?l+=t(y,f):0,y.y=0,f=y)});var h=gw(u),d=pw(u),p=h.x-t(h,d)/2,_=d.x+t(d,h)/2;return u.eachAfter(a?function(y){y.x=(y.x-u.x)*e,y.y=(u.y-y.y)*r}:function(y){y.x=(y.x-p)/(_-p)*e,y.y=(1-(u.y?y.y/u.y:1))*r})}return o.separation=function(u){return arguments.length?(t=u,o):t},o.size=function(u){return arguments.length?(a=!1,e=+u[0],r=+u[1],o):a?null:[e,r]},o.nodeSize=function(u){return arguments.length?(a=!0,e=+u[0],r=+u[1],o):a?[e,r]:null},o}function _w(t){var e=0,r=t.children,a=r&&r.length;if(!a)e=1;else for(;--a>=0;)e+=r[a].value;t.value=e}function mw(){return this.eachAfter(_w)}function vw(t){var e=this,r,a=[e],o,u,f;do for(r=a.reverse(),a=[];e=r.pop();)if(t(e),o=e.children,o)for(u=0,f=o.length;u<f;++u)a.push(o[u]);while(a.length);return this}function xw(t){for(var e=this,r=[e],a,o;e=r.pop();)if(t(e),a=e.children,a)for(o=a.length-1;o>=0;--o)r.push(a[o]);return this}function ww(t){for(var e=this,r=[e],a=[],o,u,f;e=r.pop();)if(a.push(e),o=e.children,o)for(u=0,f=o.length;u<f;++u)r.push(o[u]);for(;e=a.pop();)t(e);return this}function bw(t){return this.eachAfter(function(e){for(var r=+t(e.data)||0,a=e.children,o=a&&a.length;--o>=0;)r+=a[o].value;e.value=r})}function Sw(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Tw(t){for(var e=this,r=Aw(e,t),a=[e];e!==r;)e=e.parent,a.push(e);for(var o=a.length;t!==r;)a.splice(o,0,t),t=t.parent;return a}function Aw(t,e){if(t===e)return t;var r=t.ancestors(),a=e.ancestors(),o=null;for(t=r.pop(),e=a.pop();t===e;)o=t,t=r.pop(),e=a.pop();return o}function Pw(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Cw(){var t=[];return this.each(function(e){t.push(e)}),t}function Lw(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Mw(){var t=this,e=[];return t.each(function(r){r!==t&&e.push({source:r.parent,target:r})}),e}function Tc(t,e){var r=new Ji(t),a=+t.value&&(r.value=t.value),o,u=[r],f,l,h,d;for(e==null&&(e=Ew);o=u.pop();)if(a&&(o.value=+o.data.value),(l=e(o.data))&&(d=l.length))for(o.children=new Array(d),h=d-1;h>=0;--h)u.push(f=o.children[h]=new Ji(l[h])),f.parent=o,f.depth=o.depth+1;return r.eachBefore(kd)}function $w(){return Tc(this).eachBefore(kw)}function Ew(t){return t.children}function kw(t){t.data=t.data.data}function kd(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Ji(t){this.data=t,this.depth=this.height=0,this.parent=null}Ji.prototype=Tc.prototype={constructor:Ji,count:mw,each:vw,eachAfter:ww,eachBefore:xw,sum:bw,sort:Sw,path:Tw,ancestors:Pw,descendants:Cw,leaves:Lw,links:Mw,copy:$w};var Rw=Array.prototype.slice;function Vw(t){for(var e=t.length,r,a;e;)a=Math.random()*e--|0,r=t[e],t[e]=t[a],t[a]=r;return t}function Rd(t){for(var e=0,r=(t=Vw(Rw.call(t))).length,a=[],o,u;e<r;)o=t[e],u&&Vd(u,o)?++e:(u=Ow(a=Gw(a,o)),e=0);return u}function Gw(t,e){var r,a;if(Ac(e,t))return[e];for(r=0;r<t.length;++r)if(Qo(e,t[r])&&Ac(Kr(t[r],e),t))return[t[r],e];for(r=0;r<t.length-1;++r)for(a=r+1;a<t.length;++a)if(Qo(Kr(t[r],t[a]),e)&&Qo(Kr(t[r],e),t[a])&&Qo(Kr(t[a],e),t[r])&&Ac(Gd(t[r],t[a],e),t))return[t[r],t[a],e];throw new Error}function Qo(t,e){var r=t.r-e.r,a=e.x-t.x,o=e.y-t.y;return r<0||r*r<a*a+o*o}function Vd(t,e){var r=t.r-e.r+1e-6,a=e.x-t.x,o=e.y-t.y;return r>0&&r*r>a*a+o*o}function Ac(t,e){for(var r=0;r<e.length;++r)if(!Vd(t,e[r]))return!1;return!0}function Ow(t){switch(t.length){case 1:return Nw(t[0]);case 2:return Kr(t[0],t[1]);case 3:return Gd(t[0],t[1],t[2])}}function Nw(t){return{x:t.x,y:t.y,r:t.r}}function Kr(t,e){var r=t.x,a=t.y,o=t.r,u=e.x,f=e.y,l=e.r,h=u-r,d=f-a,p=l-o,_=Math.sqrt(h*h+d*d);return{x:(r+u+h/_*p)/2,y:(a+f+d/_*p)/2,r:(_+o+l)/2}}function Gd(t,e,r){var a=t.x,o=t.y,u=t.r,f=e.x,l=e.y,h=e.r,d=r.x,p=r.y,_=r.r,y=a-f,x=a-d,S=o-l,b=o-p,P=h-u,L=_-u,R=a*a+o*o-u*u,M=R-f*f-l*l+h*h,E=R-d*d-p*p+_*_,N=x*S-y*b,z=(S*E-b*M)/(N*2)-a,F=(b*P-S*L)/N,Q=(x*M-y*E)/(N*2)-o,H=(y*L-x*P)/N,W=F*F+H*H-1,B=2*(u+z*F+Q*H),V=z*z+Q*Q-u*u,X=-(W?(B+Math.sqrt(B*B-4*W*V))/(2*W):V/B);return{x:a+z+F*X,y:o+Q+H*X,r:X}}function Od(t,e,r){var a=t.x-e.x,o,u,f=t.y-e.y,l,h,d=a*a+f*f;d?(u=e.r+r.r,u*=u,h=t.r+r.r,h*=h,u>h?(o=(d+h-u)/(2*d),l=Math.sqrt(Math.max(0,h/d-o*o)),r.x=t.x-o*a-l*f,r.y=t.y-o*f+l*a):(o=(d+u-h)/(2*d),l=Math.sqrt(Math.max(0,u/d-o*o)),r.x=e.x+o*a-l*f,r.y=e.y+o*f+l*a)):(r.x=e.x+r.r,r.y=e.y)}function Nd(t,e){var r=t.r+e.r-1e-6,a=e.x-t.x,o=e.y-t.y;return r>0&&r*r>a*a+o*o}function Dd(t){var e=t._,r=t.next._,a=e.r+r.r,o=(e.x*r.r+r.x*e.r)/a,u=(e.y*r.r+r.y*e.r)/a;return o*o+u*u}function jo(t){this._=t,this.next=null,this.previous=null}function Fd(t){if(!(o=t.length))return 0;var e,r,a,o,u,f,l,h,d,p,_;if(e=t[0],e.x=0,e.y=0,!(o>1))return e.r;if(r=t[1],e.x=-r.r,r.x=e.r,r.y=0,!(o>2))return e.r+r.r;Od(r,e,a=t[2]),e=new jo(e),r=new jo(r),a=new jo(a),e.next=a.previous=r,r.next=e.previous=a,a.next=r.previous=e;t:for(l=3;l<o;++l){Od(e._,r._,a=t[l]),a=new jo(a),h=r.next,d=e.previous,p=r._.r,_=e._.r;do if(p<=_){if(Nd(h._,a._)){r=h,e.next=r,r.previous=e,--l;continue t}p+=h._.r,h=h.next}else{if(Nd(d._,a._)){e=d,e.next=r,r.previous=e,--l;continue t}_+=d._.r,d=d.previous}while(h!==d.next);for(a.previous=e,a.next=r,e.next=r.previous=r=a,u=Dd(e);(a=a.next)!==r;)(f=Dd(a))<u&&(e=a,u=f);r=e.next}for(e=[r._],a=r;(a=a.next)!==r;)e.push(a._);for(a=Rd(e),l=0;l<o;++l)e=t[l],e.x-=a.x,e.y-=a.y;return a.r}function Dw(t){return Fd(t),t}function Fw(t){return t==null?null:Zo(t)}function Zo(t){if(typeof t!="function")throw new Error;return t}function vi(){return 0}function tr(t){return function(){return t}}function Iw(t){return Math.sqrt(t.value)}function zw(){var t=null,e=1,r=1,a=vi;function o(u){return u.x=e/2,u.y=r/2,t?u.eachBefore(Id(t)).eachAfter(Pc(a,.5)).eachBefore(zd(1)):u.eachBefore(Id(Iw)).eachAfter(Pc(vi,1)).eachAfter(Pc(a,u.r/Math.min(e,r))).eachBefore(zd(Math.min(e,r)/(2*u.r))),u}return o.radius=function(u){return arguments.length?(t=Fw(u),o):t},o.size=function(u){return arguments.length?(e=+u[0],r=+u[1],o):[e,r]},o.padding=function(u){return arguments.length?(a=typeof u=="function"?u:tr(+u),o):a},o}function Id(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Pc(t,e){return function(r){if(a=r.children){var a,o,u=a.length,f=t(r)*e||0,l;if(f)for(o=0;o<u;++o)a[o].r+=f;if(l=Fd(a),f)for(o=0;o<u;++o)a[o].r-=f;r.r=l+f}}}function zd(t){return function(e){var r=e.parent;e.r*=t,r&&(e.x=r.x+t*e.x,e.y=r.y+t*e.y)}}function Xd(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Jr(t,e,r,a,o){for(var u=t.children,f,l=-1,h=u.length,d=t.value&&(a-e)/t.value;++l<h;)f=u[l],f.y0=r,f.y1=o,f.x0=e,f.x1=e+=f.value*d}function Xw(){var t=1,e=1,r=0,a=!1;function o(f){var l=f.height+1;return f.x0=f.y0=r,f.x1=t,f.y1=e/l,f.eachBefore(u(e,l)),a&&f.eachBefore(Xd),f}function u(f,l){return function(h){h.children&&Jr(h,h.x0,f*(h.depth+1)/l,h.x1,f*(h.depth+2)/l);var d=h.x0,p=h.y0,_=h.x1-r,y=h.y1-r;_<d&&(d=_=(d+_)/2),y<p&&(p=y=(p+y)/2),h.x0=d,h.y0=p,h.x1=_,h.y1=y}}return o.round=function(f){return arguments.length?(a=!!f,o):a},o.size=function(f){return arguments.length?(t=+f[0],e=+f[1],o):[t,e]},o.padding=function(f){return arguments.length?(r=+f,o):r},o}var Bd="$",Bw={depth:-1},Yd={};function Yw(t){return t.id}function Hw(t){return t.parentId}function Uw(){var t=Yw,e=Hw;function r(a){var o,u,f=a.length,l,h,d,p=new Array(f),_,y,x={};for(u=0;u<f;++u)o=a[u],d=p[u]=new Ji(o),(_=t(o,u,a))!=null&&(_+="")&&(y=Bd+(d.id=_),x[y]=y in x?Yd:d);for(u=0;u<f;++u)if(d=p[u],_=e(a[u],u,a),_==null||!(_+="")){if(l)throw new Error("multiple roots");l=d}else{if(h=x[Bd+_],!h)throw new Error("missing: "+_);if(h===Yd)throw new Error("ambiguous: "+_);h.children?h.children.push(d):h.children=[d],d.parent=h}if(!l)throw new Error("no root");if(l.parent=Bw,l.eachBefore(function(S){S.depth=S.parent.depth+1,--f}).eachBefore(kd),l.parent=null,f>0)throw new Error("cycle");return l}return r.id=function(a){return arguments.length?(t=Zo(a),r):t},r.parentId=function(a){return arguments.length?(e=Zo(a),r):e},r}function Ww(t,e){return t.parent===e.parent?1:2}function Cc(t){var e=t.children;return e?e[0]:t.t}function Lc(t){var e=t.children;return e?e[e.length-1]:t.t}function qw(t,e,r){var a=r/(e.i-t.i);e.c-=a,e.s+=r,t.c+=a,e.z+=r,e.m+=r}function Qw(t){for(var e=0,r=0,a=t.children,o=a.length,u;--o>=0;)u=a[o],u.z+=e,u.m+=e,e+=u.s+(r+=u.c)}function jw(t,e,r){return t.a.parent===e.parent?t.a:r}function Ko(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Ko.prototype=Object.create(Ji.prototype);function Zw(t){for(var e=new Ko(t,0),r,a=[e],o,u,f,l;r=a.pop();)if(u=r._.children)for(r.children=new Array(l=u.length),f=l-1;f>=0;--f)a.push(o=r.children[f]=new Ko(u[f],f)),o.parent=r;return(e.parent=new Ko(null,0)).children=[e],e}function Kw(){var t=Ww,e=1,r=1,a=null;function o(d){var p=Zw(d);if(p.eachAfter(u),p.parent.m=-p.z,p.eachBefore(f),a)d.eachBefore(h);else{var _=d,y=d,x=d;d.eachBefore(function(R){R.x<_.x&&(_=R),R.x>y.x&&(y=R),R.depth>x.depth&&(x=R)});var S=_===y?1:t(_,y)/2,b=S-_.x,P=e/(y.x+S+b),L=r/(x.depth||1);d.eachBefore(function(R){R.x=(R.x+b)*P,R.y=R.depth*L})}return d}function u(d){var p=d.children,_=d.parent.children,y=d.i?_[d.i-1]:null;if(p){Qw(d);var x=(p[0].z+p[p.length-1].z)/2;y?(d.z=y.z+t(d._,y._),d.m=d.z-x):d.z=x}else y&&(d.z=y.z+t(d._,y._));d.parent.A=l(d,y,d.parent.A||_[0])}function f(d){d._.x=d.z+d.parent.m,d.m+=d.parent.m}function l(d,p,_){if(p){for(var y=d,x=d,S=p,b=y.parent.children[0],P=y.m,L=x.m,R=S.m,M=b.m,E;S=Lc(S),y=Cc(y),S&&y;)b=Cc(b),x=Lc(x),x.a=d,E=S.z+R-y.z-P+t(S._,y._),E>0&&(qw(jw(S,d,_),d,E),P+=E,L+=E),R+=S.m,P+=y.m,M+=b.m,L+=x.m;S&&!Lc(x)&&(x.t=S,x.m+=R-L),y&&!Cc(b)&&(b.t=y,b.m+=P-M,_=d)}return _}function h(d){d.x*=e,d.y=d.depth*r}return o.separation=function(d){return arguments.length?(t=d,o):t},o.size=function(d){return arguments.length?(a=!1,e=+d[0],r=+d[1],o):a?null:[e,r]},o.nodeSize=function(d){return arguments.length?(a=!0,e=+d[0],r=+d[1],o):a?[e,r]:null},o}function Jo(t,e,r,a,o){for(var u=t.children,f,l=-1,h=u.length,d=t.value&&(o-r)/t.value;++l<h;)f=u[l],f.x0=e,f.x1=a,f.y0=r,f.y1=r+=f.value*d}var Hd=(1+Math.sqrt(5))/2;function Ud(t,e,r,a,o,u){for(var f=[],l=e.children,h,d,p=0,_=0,y=l.length,x,S,b=e.value,P,L,R,M,E,N,z;p<y;){x=o-r,S=u-a;do P=l[_++].value;while(!P&&_<y);for(L=R=P,N=Math.max(S/x,x/S)/(b*t),z=P*P*N,E=Math.max(R/z,z/L);_<y;++_){if(P+=d=l[_].value,d<L&&(L=d),d>R&&(R=d),z=P*P*N,M=Math.max(R/z,z/L),M>E){P-=d;break}E=M}f.push(h={value:P,dice:x<S,children:l.slice(p,_)}),h.dice?Jr(h,r,a,o,b?a+=S*P/b:u):Jo(h,r,a,b?r+=x*P/b:o,u),b-=P,p=_}return f}var Wd=function t(e){function r(a,o,u,f,l){Ud(e,a,o,u,f,l)}return r.ratio=function(a){return t((a=+a)>1?a:1)},r}(Hd);function Jw(){var t=Wd,e=!1,r=1,a=1,o=[0],u=vi,f=vi,l=vi,h=vi,d=vi;function p(y){return y.x0=y.y0=0,y.x1=r,y.y1=a,y.eachBefore(_),o=[0],e&&y.eachBefore(Xd),y}function _(y){var x=o[y.depth],S=y.x0+x,b=y.y0+x,P=y.x1-x,L=y.y1-x;P<S&&(S=P=(S+P)/2),L<b&&(b=L=(b+L)/2),y.x0=S,y.y0=b,y.x1=P,y.y1=L,y.children&&(x=o[y.depth+1]=u(y)/2,S+=d(y)-x,b+=f(y)-x,P-=l(y)-x,L-=h(y)-x,P<S&&(S=P=(S+P)/2),L<b&&(b=L=(b+L)/2),t(y,S,b,P,L))}return p.round=function(y){return arguments.length?(e=!!y,p):e},p.size=function(y){return arguments.length?(r=+y[0],a=+y[1],p):[r,a]},p.tile=function(y){return arguments.length?(t=Zo(y),p):t},p.padding=function(y){return arguments.length?p.paddingInner(y).paddingOuter(y):p.paddingInner()},p.paddingInner=function(y){return arguments.length?(u=typeof y=="function"?y:tr(+y),p):u},p.paddingOuter=function(y){return arguments.length?p.paddingTop(y).paddingRight(y).paddingBottom(y).paddingLeft(y):p.paddingTop()},p.paddingTop=function(y){return arguments.length?(f=typeof y=="function"?y:tr(+y),p):f},p.paddingRight=function(y){return arguments.length?(l=typeof y=="function"?y:tr(+y),p):l},p.paddingBottom=function(y){return arguments.length?(h=typeof y=="function"?y:tr(+y),p):h},p.paddingLeft=function(y){return arguments.length?(d=typeof y=="function"?y:tr(+y),p):d},p}function tb(t,e,r,a,o){var u=t.children,f,l=u.length,h,d=new Array(l+1);for(d[0]=h=f=0;f<l;++f)d[f+1]=h+=u[f].value;p(0,l,t.value,e,r,a,o);function p(_,y,x,S,b,P,L){if(_>=y-1){var R=u[_];R.x0=S,R.y0=b,R.x1=P,R.y1=L;return}for(var M=d[_],E=x/2+M,N=_+1,z=y-1;N<z;){var F=N+z>>>1;d[F]<E?N=F+1:z=F}E-d[N-1]<d[N]-E&&_+1<N&&--N;var Q=d[N]-M,H=x-Q;if(P-S>L-b){var W=(S*H+P*Q)/x;p(_,N,Q,S,b,W,L),p(N,y,H,W,b,P,L)}else{var B=(b*H+L*Q)/x;p(_,N,Q,S,b,P,B),p(N,y,H,S,B,P,L)}}}function eb(t,e,r,a,o){(t.depth&1?Jo:Jr)(t,e,r,a,o)}var nb=function t(e){function r(a,o,u,f,l){if((h=a._squarify)&&h.ratio===e)for(var h,d,p,_,y=-1,x,S=h.length,b=a.value;++y<S;){for(d=h[y],p=d.children,_=d.value=0,x=p.length;_<x;++_)d.value+=p[_].value;d.dice?Jr(d,o,u,f,u+=(l-u)*d.value/b):Jo(d,o,u,o+=(f-o)*d.value/b,l),b-=d.value}else a._squarify=h=Ud(e,a,o,u,f,l),h.ratio=e}return r.ratio=function(a){return t((a=+a)>1?a:1)},r}(Hd);function ib(t){for(var e=-1,r=t.length,a,o=t[r-1],u=0;++e<r;)a=o,o=t[e],u+=a[1]*o[0]-a[0]*o[1];return u/2}function rb(t){for(var e=-1,r=t.length,a=0,o=0,u,f=t[r-1],l,h=0;++e<r;)u=f,f=t[e],h+=l=u[0]*f[1]-f[0]*u[1],a+=(u[0]+f[0])*l,o+=(u[1]+f[1])*l;return h*=3,[a/h,o/h]}function ab(t,e,r){return(e[0]-t[0])*(r[1]-t[1])-(e[1]-t[1])*(r[0]-t[0])}function ob(t,e){return t[0]-e[0]||t[1]-e[1]}function qd(t){for(var e=t.length,r=[0,1],a=2,o=2;o<e;++o){for(;a>1&&ab(t[r[a-2]],t[r[a-1]],t[o])<=0;)--a;r[a++]=o}return r.slice(0,a)}function sb(t){if((r=t.length)<3)return null;var e,r,a=new Array(r),o=new Array(r);for(e=0;e<r;++e)a[e]=[+t[e][0],+t[e][1],e];for(a.sort(ob),e=0;e<r;++e)o[e]=[a[e][0],-a[e][1]];var u=qd(a),f=qd(o),l=f[0]===u[0],h=f[f.length-1]===u[u.length-1],d=[];for(e=u.length-1;e>=0;--e)d.push(t[a[u[e]][2]]);for(e=+l;e<f.length-h;++e)d.push(t[a[f[e]][2]]);return d}function ub(t,e){for(var r=t.length,a=t[r-1],o=e[0],u=e[1],f=a[0],l=a[1],h,d,p=!1,_=0;_<r;++_)a=t[_],h=a[0],d=a[1],d>u!=l>u&&o<(f-h)*(u-d)/(l-d)+h&&(p=!p),f=h,l=d;return p}function cb(t){for(var e=-1,r=t.length,a=t[r-1],o,u,f=a[0],l=a[1],h=0;++e<r;)o=f,u=l,a=t[e],f=a[0],l=a[1],o-=f,u-=l,h+=Math.sqrt(o*o+u*u);return h}function er(){return Math.random()}var fb=function t(e){function r(a,o){return a=a==null?0:+a,o=o==null?1:+o,arguments.length===1?(o=a,a=0):o-=a,function(){return e()*o+a}}return r.source=t,r}(er),Qd=function t(e){function r(a,o){var u,f;return a=a==null?0:+a,o=o==null?1:+o,function(){var l;if(u!=null)l=u,u=null;else do u=e()*2-1,l=e()*2-1,f=u*u+l*l;while(!f||f>1);return a+o*l*Math.sqrt(-2*Math.log(f)/f)}}return r.source=t,r}(er),lb=function t(e){function r(){var a=Qd.source(e).apply(this,arguments);return function(){return Math.exp(a())}}return r.source=t,r}(er),jd=function t(e){function r(a){return function(){for(var o=0,u=0;u<a;++u)o+=e();return o}}return r.source=t,r}(er),hb=function t(e){function r(a){var o=jd.source(e)(a);return function(){return o()/a}}return r.source=t,r}(er),db=function t(e){function r(a){return function(){return-Math.log(1-e())/a}}return r.source=t,r}(er);function yn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fn(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t);break}return this}var Zd=Array.prototype,ts=Zd.map,xi=Zd.slice,Mc={name:"implicit"};function $c(){var t=Vn(),e=[],r=[],a=Mc;function o(u){var f=u+"",l=t.get(f);if(!l){if(a!==Mc)return a;t.set(f,l=e.push(u))}return r[(l-1)%r.length]}return o.domain=function(u){if(!arguments.length)return e.slice();e=[],t=Vn();for(var f=-1,l=u.length,h,d;++f<l;)t.has(d=(h=u[f])+"")||t.set(d,e.push(h));return o},o.range=function(u){return arguments.length?(r=xi.call(u),o):r.slice()},o.unknown=function(u){return arguments.length?(a=u,o):a},o.copy=function(){return $c(e,r).unknown(a)},yn.apply(o,arguments),o}function Ec(){var t=$c().unknown(void 0),e=t.domain,r=t.range,a=[0,1],o,u,f=!1,l=0,h=0,d=.5;delete t.unknown;function p(){var _=e().length,y=a[1]<a[0],x=a[y-0],S=a[1-y];o=(S-x)/Math.max(1,_-l+h*2),f&&(o=Math.floor(o)),x+=(S-x-o*(_-l))*d,u=o*(1-l),f&&(x=Math.round(x),u=Math.round(u));var b=zt(_).map(function(P){return x+o*P});return r(y?b.reverse():b)}return t.domain=function(_){return arguments.length?(e(_),p()):e()},t.range=function(_){return arguments.length?(a=[+_[0],+_[1]],p()):a.slice()},t.rangeRound=function(_){return a=[+_[0],+_[1]],f=!0,p()},t.bandwidth=function(){return u},t.step=function(){return o},t.round=function(_){return arguments.length?(f=!!_,p()):f},t.padding=function(_){return arguments.length?(l=Math.min(1,h=+_),p()):l},t.paddingInner=function(_){return arguments.length?(l=Math.min(1,_),p()):l},t.paddingOuter=function(_){return arguments.length?(h=+_,p()):h},t.align=function(_){return arguments.length?(d=Math.max(0,Math.min(1,_)),p()):d},t.copy=function(){return Ec(e(),a).round(f).paddingInner(l).paddingOuter(h).align(d)},yn.apply(p(),arguments)}function Kd(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Kd(e())},t}function gb(){return Kd(Ec.apply(null,arguments).paddingInner(1))}function pb(t){return function(){return t}}function kc(t){return+t}var Jd=[0,1];function me(t){return t}function Rc(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:pb(isNaN(e)?NaN:.5)}function tg(t){var e=t[0],r=t[t.length-1],a;return e>r&&(a=e,e=r,r=a),function(o){return Math.max(e,Math.min(r,o))}}function yb(t,e,r){var a=t[0],o=t[1],u=e[0],f=e[1];return o<a?(a=Rc(o,a),u=r(f,u)):(a=Rc(a,o),u=r(u,f)),function(l){return u(a(l))}}function _b(t,e,r){var a=Math.min(t.length,e.length)-1,o=new Array(a),u=new Array(a),f=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++f<a;)o[f]=Rc(t[f],t[f+1]),u[f]=r(e[f],e[f+1]);return function(l){var h=Be(t,l,1,a)-1;return u[h](o[h](l))}}function ta(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function es(){var t=Jd,e=Jd,r=wr,a,o,u,f=me,l,h,d;function p(){return l=Math.min(t.length,e.length)>2?_b:yb,h=d=null,_}function _(y){return isNaN(y=+y)?u:(h||(h=l(t.map(a),e,r)))(a(f(y)))}return _.invert=function(y){return f(o((d||(d=l(e,t.map(a),je)))(y)))},_.domain=function(y){return arguments.length?(t=ts.call(y,kc),f===me||(f=tg(t)),p()):t.slice()},_.range=function(y){return arguments.length?(e=xi.call(y),p()):e.slice()},_.rangeRound=function(y){return e=xi.call(y),r=ol,p()},_.clamp=function(y){return arguments.length?(f=y?tg(t):me,_):f!==me},_.interpolate=function(y){return arguments.length?(r=y,p()):r},_.unknown=function(y){return arguments.length?(u=y,_):u},function(y,x){return a=y,o=x,p()}}function eg(t,e){return es()(t,e)}function ng(t,e,r,a){var o=De(t,e,r),u;switch(a=kr(a??",f"),a.type){case"s":{var f=Math.max(Math.abs(t),Math.abs(e));return a.precision==null&&!isNaN(u=_h(o,f))&&(a.precision=u),m.formatPrefix(a,f)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(u=mh(o,Math.max(Math.abs(t),Math.abs(e))))&&(a.precision=u-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(u=yh(o))&&(a.precision=u-(a.type==="%")*2);break}}return m.format(a)}function wi(t){var e=t.domain;return t.ticks=function(r){var a=e();return Et(a[0],a[a.length-1],r??10)},t.tickFormat=function(r,a){var o=e();return ng(o[0],o[o.length-1],r??10,a)},t.nice=function(r){r==null&&(r=10);var a=e(),o=0,u=a.length-1,f=a[o],l=a[u],h;return l<f&&(h=f,f=l,l=h,h=o,o=u,u=h),h=he(f,l,r),h>0?(f=Math.floor(f/h)*h,l=Math.ceil(l/h)*h,h=he(f,l,r)):h<0&&(f=Math.ceil(f*h)/h,l=Math.floor(l*h)/h,h=he(f,l,r)),h>0?(a[o]=Math.floor(f/h)*h,a[u]=Math.ceil(l/h)*h,e(a)):h<0&&(a[o]=Math.ceil(f*h)/h,a[u]=Math.floor(l*h)/h,e(a)),t},t}function ig(){var t=eg(me,me);return t.copy=function(){return ta(t,ig())},yn.apply(t,arguments),wi(t)}function rg(t){var e;function r(a){return isNaN(a=+a)?e:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(t=ts.call(a,kc),r):t.slice()},r.unknown=function(a){return arguments.length?(e=a,r):e},r.copy=function(){return rg(t).unknown(e)},t=arguments.length?ts.call(t,kc):[0,1],wi(r)}function ag(t,e){t=t.slice();var r=0,a=t.length-1,o=t[r],u=t[a],f;return u<o&&(f=r,r=a,a=f,f=o,o=u,u=f),t[r]=e.floor(o),t[a]=e.ceil(u),t}function og(t){return Math.log(t)}function sg(t){return Math.exp(t)}function mb(t){return-Math.log(-t)}function vb(t){return-Math.exp(-t)}function xb(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wb(t){return t===10?xb:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function bb(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function ug(t){return function(e){return-t(-e)}}function Vc(t){var e=t(og,sg),r=e.domain,a=10,o,u;function f(){return o=bb(a),u=wb(a),r()[0]<0?(o=ug(o),u=ug(u),t(mb,vb)):t(og,sg),e}return e.base=function(l){return arguments.length?(a=+l,f()):a},e.domain=function(l){return arguments.length?(r(l),f()):r()},e.ticks=function(l){var h=r(),d=h[0],p=h[h.length-1],_;(_=p<d)&&(y=d,d=p,p=y);var y=o(d),x=o(p),S,b,P,L=l==null?10:+l,R=[];if(!(a%1)&&x-y<L){if(y=Math.round(y)-1,x=Math.round(x)+1,d>0){for(;y<x;++y)for(b=1,S=u(y);b<a;++b)if(P=S*b,!(P<d)){if(P>p)break;R.push(P)}}else for(;y<x;++y)for(b=a-1,S=u(y);b>=1;--b)if(P=S*b,!(P<d)){if(P>p)break;R.push(P)}}else R=Et(y,x,Math.min(x-y,L)).map(u);return _?R.reverse():R},e.tickFormat=function(l,h){if(h==null&&(h=a===10?".0e":","),typeof h!="function"&&(h=m.format(h)),l===1/0)return h;l==null&&(l=10);var d=Math.max(1,a*l/e.ticks().length);return function(p){var _=p/u(Math.round(o(p)));return _*a<a-.5&&(_*=a),_<=d?h(p):""}},e.nice=function(){return r(ag(r(),{floor:function(l){return u(Math.floor(o(l)))},ceil:function(l){return u(Math.ceil(o(l)))}}))},e}function cg(){var t=Vc(es()).domain([1,10]);return t.copy=function(){return ta(t,cg()).base(t.base())},yn.apply(t,arguments),t}function fg(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function lg(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Gc(t){var e=1,r=t(fg(e),lg(e));return r.constant=function(a){return arguments.length?t(fg(e=+a),lg(e)):e},wi(r)}function hg(){var t=Gc(es());return t.copy=function(){return ta(t,hg()).constant(t.constant())},yn.apply(t,arguments)}function dg(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Sb(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Tb(t){return t<0?-t*t:t*t}function Oc(t){var e=t(me,me),r=1;function a(){return r===1?t(me,me):r===.5?t(Sb,Tb):t(dg(r),dg(1/r))}return e.exponent=function(o){return arguments.length?(r=+o,a()):r},wi(e)}function Nc(){var t=Oc(es());return t.copy=function(){return ta(t,Nc()).exponent(t.exponent())},yn.apply(t,arguments),t}function Ab(){return Nc.apply(null,arguments).exponent(.5)}function gg(){var t=[],e=[],r=[],a;function o(){var f=0,l=Math.max(1,e.length);for(r=new Array(l-1);++f<l;)r[f-1]=ri(t,f/l);return u}function u(f){return isNaN(f=+f)?a:e[Be(r,f)]}return u.invertExtent=function(f){var l=e.indexOf(f);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},u.domain=function(f){if(!arguments.length)return t.slice();t=[];for(var l=0,h=f.length,d;l<h;++l)d=f[l],d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Vt),o()},u.range=function(f){return arguments.length?(e=xi.call(f),o()):e.slice()},u.unknown=function(f){return arguments.length?(a=f,u):a},u.quantiles=function(){return r.slice()},u.copy=function(){return gg().domain(t).range(e).unknown(a)},yn.apply(u,arguments)}function pg(){var t=0,e=1,r=1,a=[.5],o=[0,1],u;function f(h){return h<=h?o[Be(a,h,0,r)]:u}function l(){var h=-1;for(a=new Array(r);++h<r;)a[h]=((h+1)*e-(h-r)*t)/(r+1);return f}return f.domain=function(h){return arguments.length?(t=+h[0],e=+h[1],l()):[t,e]},f.range=function(h){return arguments.length?(r=(o=xi.call(h)).length-1,l()):o.slice()},f.invertExtent=function(h){var d=o.indexOf(h);return d<0?[NaN,NaN]:d<1?[t,a[0]]:d>=r?[a[r-1],e]:[a[d-1],a[d]]},f.unknown=function(h){return arguments.length&&(u=h),f},f.thresholds=function(){return a.slice()},f.copy=function(){return pg().domain([t,e]).range(o).unknown(u)},yn.apply(wi(f),arguments)}function yg(){var t=[.5],e=[0,1],r,a=1;function o(u){return u<=u?e[Be(t,u,0,a)]:r}return o.domain=function(u){return arguments.length?(t=xi.call(u),a=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(u){return arguments.length?(e=xi.call(u),a=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(u){var f=e.indexOf(u);return[t[f-1],t[f]]},o.unknown=function(u){return arguments.length?(r=u,o):r},o.copy=function(){return yg().domain(t).range(e).unknown(r)},yn.apply(o,arguments)}var Dc=new Date,Fc=new Date;function le(t,e,r,a){function o(u){return t(u=arguments.length===0?new Date:new Date(+u)),u}return o.floor=function(u){return t(u=new Date(+u)),u},o.ceil=function(u){return t(u=new Date(u-1)),e(u,1),t(u),u},o.round=function(u){var f=o(u),l=o.ceil(u);return u-f<l-u?f:l},o.offset=function(u,f){return e(u=new Date(+u),f==null?1:Math.floor(f)),u},o.range=function(u,f,l){var h=[],d;if(u=o.ceil(u),l=l==null?1:Math.floor(l),!(u<f)||!(l>0))return h;do h.push(d=new Date(+u)),e(u,l),t(u);while(d<u&&u<f);return h},o.filter=function(u){return le(function(f){if(f>=f)for(;t(f),!u(f);)f.setTime(f-1)},function(f,l){if(f>=f)if(l<0)for(;++l<=0;)for(;e(f,-1),!u(f););else for(;--l>=0;)for(;e(f,1),!u(f););})},r&&(o.count=function(u,f){return Dc.setTime(+u),Fc.setTime(+f),t(Dc),t(Fc),Math.floor(r(Dc,Fc))},o.every=function(u){return u=Math.floor(u),!isFinite(u)||!(u>0)?null:u>1?o.filter(a?function(f){return a(f)%u===0}:function(f){return o.count(0,f)%u===0}):o}),o}var bi=le(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});bi.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?le(function(e){e.setTime(Math.floor(e/t)*t)},function(e,r){e.setTime(+e+r*t)},function(e,r){return(r-e)/t}):bi};var _g=bi.range,ns=1e3,Si=6e4,is=36e5,mg=864e5,vg=6048e5,ea=le(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*ns)},function(t,e){return(e-t)/ns},function(t){return t.getUTCSeconds()}),xg=ea.range,Ic=le(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ns)},function(t,e){t.setTime(+t+e*Si)},function(t,e){return(e-t)/Si},function(t){return t.getMinutes()}),Pb=Ic.range,zc=le(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ns-t.getMinutes()*Si)},function(t,e){t.setTime(+t+e*is)},function(t,e){return(e-t)/is},function(t){return t.getHours()}),Cb=zc.range,na=le(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Si)/mg},function(t){return t.getDate()-1}),Lb=na.range;function Ti(t){return le(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,r){e.setDate(e.getDate()+r*7)},function(e,r){return(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Si)/vg})}var ia=Ti(0),ra=Ti(1),wg=Ti(2),bg=Ti(3),aa=Ti(4),Sg=Ti(5),Tg=Ti(6),Ag=ia.range,Mb=ra.range,$b=wg.range,Eb=bg.range,kb=aa.range,Rb=Sg.range,Vb=Tg.range,Xc=le(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),Gb=Xc.range,In=le(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});In.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:le(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,r){e.setFullYear(e.getFullYear()+r*t)})};var Ob=In.range,Bc=le(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Si)},function(t,e){return(e-t)/Si},function(t){return t.getUTCMinutes()}),Nb=Bc.range,Yc=le(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*is)},function(t,e){return(e-t)/is},function(t){return t.getUTCHours()}),Db=Yc.range,oa=le(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/mg},function(t){return t.getUTCDate()-1}),Fb=oa.range;function Ai(t){return le(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCDate(e.getUTCDate()+r*7)},function(e,r){return(r-e)/vg})}var sa=Ai(0),ua=Ai(1),Pg=Ai(2),Cg=Ai(3),ca=Ai(4),Lg=Ai(5),Mg=Ai(6),$g=sa.range,Ib=ua.range,zb=Pg.range,Xb=Cg.range,Bb=ca.range,Yb=Lg.range,Hb=Mg.range,Hc=le(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()}),Ub=Hc.range,zn=le(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});zn.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:le(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r*t)})};var Wb=zn.range;function Uc(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Wc(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function fa(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Eg(t){var e=t.dateTime,r=t.date,a=t.time,o=t.periods,u=t.days,f=t.shortDays,l=t.months,h=t.shortMonths,d=la(o),p=ha(o),_=la(u),y=ha(u),x=la(f),S=ha(f),b=la(l),P=ha(l),L=la(h),R=ha(h),M={a:ft,A:st,b:dt,B:wt,c:null,d:Gg,e:Gg,f:m2,H:p2,I:y2,j:_2,L:Og,m:v2,M:x2,p:bt,q:Zt,Q:Ig,s:zg,S:w2,u:b2,U:S2,V:T2,w:A2,W:P2,x:null,X:null,y:C2,Y:L2,Z:M2,"%":Fg},E={a:Yt,A:Ot,b:ae,B:nn,c:null,d:Ng,e:Ng,f:R2,H:$2,I:E2,j:k2,L:Dg,m:V2,M:G2,p:_n,q:mn,Q:Ig,s:zg,S:O2,u:N2,U:D2,V:F2,w:I2,W:z2,x:null,X:null,y:X2,Y:B2,Z:Y2,"%":Fg},N={a:W,A:B,b:V,B:X,c:Z,d:Rg,e:Rg,f:l2,H:Vg,I:Vg,j:s2,L:f2,m:o2,M:u2,p:H,q:a2,Q:d2,s:g2,S:c2,u:Kb,U:Jb,V:t2,w:Zb,W:e2,x:I,X:j,y:i2,Y:n2,Z:r2,"%":h2};M.x=z(r,M),M.X=z(a,M),M.c=z(e,M),E.x=z(r,E),E.X=z(a,E),E.c=z(e,E);function z(rt,St){return function($t){var J=[],ve=-1,Nt=0,Pe=rt.length,Oe,Bn,Ne;for($t instanceof Date||($t=new Date(+$t));++ve<Pe;)rt.charCodeAt(ve)===37&&(J.push(rt.slice(Nt,ve)),(Bn=kg[Oe=rt.charAt(++ve)])!=null?Oe=rt.charAt(++ve):Bn=Oe==="e"?" ":"0",(Ne=St[Oe])&&(Oe=Ne($t,Bn)),J.push(Oe),Nt=ve+1);return J.push(rt.slice(Nt,ve)),J.join("")}}function F(rt,St){return function($t){var J=fa(1900,void 0,1),ve=Q(J,rt,$t+="",0),Nt,Pe;if(ve!=$t.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(St&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(Nt=Wc(fa(J.y,0,1)),Pe=Nt.getUTCDay(),Nt=Pe>4||Pe===0?ua.ceil(Nt):ua(Nt),Nt=oa.offset(Nt,(J.V-1)*7),J.y=Nt.getUTCFullYear(),J.m=Nt.getUTCMonth(),J.d=Nt.getUTCDate()+(J.w+6)%7):(Nt=Uc(fa(J.y,0,1)),Pe=Nt.getDay(),Nt=Pe>4||Pe===0?ra.ceil(Nt):ra(Nt),Nt=na.offset(Nt,(J.V-1)*7),J.y=Nt.getFullYear(),J.m=Nt.getMonth(),J.d=Nt.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),Pe="Z"in J?Wc(fa(J.y,0,1)).getUTCDay():Uc(fa(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(Pe+5)%7:J.w+J.U*7-(Pe+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,Wc(J)):Uc(J)}}function Q(rt,St,$t,J){for(var ve=0,Nt=St.length,Pe=$t.length,Oe,Bn;ve<Nt;){if(J>=Pe)return-1;if(Oe=St.charCodeAt(ve++),Oe===37){if(Oe=St.charAt(ve++),Bn=N[Oe in kg?St.charAt(ve++):Oe],!Bn||(J=Bn(rt,$t,J))<0)return-1}else if(Oe!=$t.charCodeAt(J++))return-1}return J}function H(rt,St,$t){var J=d.exec(St.slice($t));return J?(rt.p=p[J[0].toLowerCase()],$t+J[0].length):-1}function W(rt,St,$t){var J=x.exec(St.slice($t));return J?(rt.w=S[J[0].toLowerCase()],$t+J[0].length):-1}function B(rt,St,$t){var J=_.exec(St.slice($t));return J?(rt.w=y[J[0].toLowerCase()],$t+J[0].length):-1}function V(rt,St,$t){var J=L.exec(St.slice($t));return J?(rt.m=R[J[0].toLowerCase()],$t+J[0].length):-1}function X(rt,St,$t){var J=b.exec(St.slice($t));return J?(rt.m=P[J[0].toLowerCase()],$t+J[0].length):-1}function Z(rt,St,$t){return Q(rt,e,St,$t)}function I(rt,St,$t){return Q(rt,r,St,$t)}function j(rt,St,$t){return Q(rt,a,St,$t)}function ft(rt){return f[rt.getDay()]}function st(rt){return u[rt.getDay()]}function dt(rt){return h[rt.getMonth()]}function wt(rt){return l[rt.getMonth()]}function bt(rt){return o[+(rt.getHours()>=12)]}function Zt(rt){return 1+~~(rt.getMonth()/3)}function Yt(rt){return f[rt.getUTCDay()]}function Ot(rt){return u[rt.getUTCDay()]}function ae(rt){return h[rt.getUTCMonth()]}function nn(rt){return l[rt.getUTCMonth()]}function _n(rt){return o[+(rt.getUTCHours()>=12)]}function mn(rt){return 1+~~(rt.getUTCMonth()/3)}return{format:function(rt){var St=z(rt+="",M);return St.toString=function(){return rt},St},parse:function(rt){var St=F(rt+="",!1);return St.toString=function(){return rt},St},utcFormat:function(rt){var St=z(rt+="",E);return St.toString=function(){return rt},St},utcParse:function(rt){var St=F(rt+="",!0);return St.toString=function(){return rt},St}}}var kg={"-":"",_:" ",0:"0"},pe=/^\s*\d+/,qb=/^%/,Qb=/[\\^$*+?|[\]().{}]/g;function Xt(t,e,r){var a=t<0?"-":"",o=(a?-t:t)+"",u=o.length;return a+(u<r?new Array(r-u+1).join(e)+o:o)}function jb(t){return t.replace(Qb,"\\$&")}function la(t){return new RegExp("^(?:"+t.map(jb).join("|")+")","i")}function ha(t){for(var e={},r=-1,a=t.length;++r<a;)e[t[r].toLowerCase()]=r;return e}function Zb(t,e,r){var a=pe.exec(e.slice(r,r+1));return a?(t.w=+a[0],r+a[0].length):-1}function Kb(t,e,r){var a=pe.exec(e.slice(r,r+1));return a?(t.u=+a[0],r+a[0].length):-1}function Jb(t,e,r){var a=pe.exec(e.slice(r,r+2));return a?(t.U=+a[0],r+a[0].length):-1}function t2(t,e,r){var a=pe.exec(e.slice(r,r+2));return a?(t.V=+a[0],r+a[0].length):-1}function e2(t,e,r){var a=pe.exec(e.slice(r,r+2));return a?(t.W=+a[0],r+a[0].length):-1}function n2(t,e,r){var a=pe.exec(e.slice(r,r+4));return a?(t.y=+a[0],r+a[0].length):-1}function i2(t,e,r){var a=pe.exec(e.slice(r,r+2));return a?(t.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function r2(t,e,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function a2(t,e,r){var a=pe.exec(e.slice(r,r+1));return a?(t.q=a[0]*3-3,r+a[0].length):-1}function o2(t,e,r){var a=pe.exec(e.slice(r,r+2));return a?(t.m=a[0]-1,r+a[0].length):-1}function Rg(t,e,r){var a=pe.exec(e.slice(r,r+2));return a?(t.d=+a[0],r+a[0].length):-1}function s2(t,e,r){var a=pe.exec(e.slice(r,r+3));return a?(t.m=0,t.d=+a[0],r+a[0].length):-1}function Vg(t,e,r){var a=pe.exec(e.slice(r,r+2));return a?(t.H=+a[0],r+a[0].length):-1}function u2(t,e,r){var a=pe.exec(e.slice(r,r+2));return a?(t.M=+a[0],r+a[0].length):-1}function c2(t,e,r){var a=pe.exec(e.slice(r,r+2));return a?(t.S=+a[0],r+a[0].length):-1}function f2(t,e,r){var a=pe.exec(e.slice(r,r+3));return a?(t.L=+a[0],r+a[0].length):-1}function l2(t,e,r){var a=pe.exec(e.slice(r,r+6));return a?(t.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function h2(t,e,r){var a=qb.exec(e.slice(r,r+1));return a?r+a[0].length:-1}function d2(t,e,r){var a=pe.exec(e.slice(r));return a?(t.Q=+a[0],r+a[0].length):-1}function g2(t,e,r){var a=pe.exec(e.slice(r));return a?(t.s=+a[0],r+a[0].length):-1}function Gg(t,e){return Xt(t.getDate(),e,2)}function p2(t,e){return Xt(t.getHours(),e,2)}function y2(t,e){return Xt(t.getHours()%12||12,e,2)}function _2(t,e){return Xt(1+na.count(In(t),t),e,3)}function Og(t,e){return Xt(t.getMilliseconds(),e,3)}function m2(t,e){return Og(t,e)+"000"}function v2(t,e){return Xt(t.getMonth()+1,e,2)}function x2(t,e){return Xt(t.getMinutes(),e,2)}function w2(t,e){return Xt(t.getSeconds(),e,2)}function b2(t){var e=t.getDay();return e===0?7:e}function S2(t,e){return Xt(ia.count(In(t)-1,t),e,2)}function T2(t,e){var r=t.getDay();return t=r>=4||r===0?aa(t):aa.ceil(t),Xt(aa.count(In(t),t)+(In(t).getDay()===4),e,2)}function A2(t){return t.getDay()}function P2(t,e){return Xt(ra.count(In(t)-1,t),e,2)}function C2(t,e){return Xt(t.getFullYear()%100,e,2)}function L2(t,e){return Xt(t.getFullYear()%1e4,e,4)}function M2(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xt(e/60|0,"0",2)+Xt(e%60,"0",2)}function Ng(t,e){return Xt(t.getUTCDate(),e,2)}function $2(t,e){return Xt(t.getUTCHours(),e,2)}function E2(t,e){return Xt(t.getUTCHours()%12||12,e,2)}function k2(t,e){return Xt(1+oa.count(zn(t),t),e,3)}function Dg(t,e){return Xt(t.getUTCMilliseconds(),e,3)}function R2(t,e){return Dg(t,e)+"000"}function V2(t,e){return Xt(t.getUTCMonth()+1,e,2)}function G2(t,e){return Xt(t.getUTCMinutes(),e,2)}function O2(t,e){return Xt(t.getUTCSeconds(),e,2)}function N2(t){var e=t.getUTCDay();return e===0?7:e}function D2(t,e){return Xt(sa.count(zn(t)-1,t),e,2)}function F2(t,e){var r=t.getUTCDay();return t=r>=4||r===0?ca(t):ca.ceil(t),Xt(ca.count(zn(t),t)+(zn(t).getUTCDay()===4),e,2)}function I2(t){return t.getUTCDay()}function z2(t,e){return Xt(ua.count(zn(t)-1,t),e,2)}function X2(t,e){return Xt(t.getUTCFullYear()%100,e,2)}function B2(t,e){return Xt(t.getUTCFullYear()%1e4,e,4)}function Y2(){return"+0000"}function Fg(){return"%"}function Ig(t){return+t}function zg(t){return Math.floor(+t/1e3)}var nr;Xg({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Xg(t){return nr=Eg(t),m.timeFormat=nr.format,m.timeParse=nr.parse,m.utcFormat=nr.utcFormat,m.utcParse=nr.utcParse,nr}var Bg="%Y-%m-%dT%H:%M:%S.%LZ";function H2(t){return t.toISOString()}var U2=Date.prototype.toISOString?H2:m.utcFormat(Bg);function W2(t){var e=new Date(t);return isNaN(e)?null:e}var q2=+new Date("2000-01-01T00:00:00.000Z")?W2:m.utcParse(Bg),da=1e3,ga=da*60,pa=ga*60,ya=pa*24,Q2=ya*7,Yg=ya*30,qc=ya*365;function j2(t){return new Date(t)}function Z2(t){return t instanceof Date?+t:+new Date(+t)}function Qc(t,e,r,a,o,u,f,l,h){var d=eg(me,me),p=d.invert,_=d.domain,y=h(".%L"),x=h(":%S"),S=h("%I:%M"),b=h("%I %p"),P=h("%a %d"),L=h("%b %d"),R=h("%B"),M=h("%Y"),E=[[f,1,da],[f,5,5*da],[f,15,15*da],[f,30,30*da],[u,1,ga],[u,5,5*ga],[u,15,15*ga],[u,30,30*ga],[o,1,pa],[o,3,3*pa],[o,6,6*pa],[o,12,12*pa],[a,1,ya],[a,2,2*ya],[r,1,Q2],[e,1,Yg],[e,3,3*Yg],[t,1,qc]];function N(F){return(f(F)<F?y:u(F)<F?x:o(F)<F?S:a(F)<F?b:e(F)<F?r(F)<F?P:L:t(F)<F?R:M)(F)}function z(F,Q,H,W){if(F==null&&(F=10),typeof F=="number"){var B=Math.abs(H-Q)/F,V=It(function(X){return X[2]}).right(E,B);V===E.length?(W=De(Q/qc,H/qc,F),F=t):V?(V=E[B/E[V-1][2]<E[V][2]/B?V-1:V],W=V[1],F=V[0]):(W=Math.max(De(Q,H,F),1),F=l)}return W==null?F:F.every(W)}return d.invert=function(F){return new Date(p(F))},d.domain=function(F){return arguments.length?_(ts.call(F,Z2)):_().map(j2)},d.ticks=function(F,Q){var H=_(),W=H[0],B=H[H.length-1],V=B<W,X;return V&&(X=W,W=B,B=X),X=z(F,W,B,Q),X=X?X.range(W,B+1):[],V?X.reverse():X},d.tickFormat=function(F,Q){return Q==null?N:h(Q)},d.nice=function(F,Q){var H=_();return(F=z(F,H[0],H[H.length-1],Q))?_(ag(H,F)):d},d.copy=function(){return ta(d,Qc(t,e,r,a,o,u,f,l,h))},d}function K2(){return yn.apply(Qc(In,Xc,ia,na,zc,Ic,ea,bi,m.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function J2(){return yn.apply(Qc(zn,Hc,sa,oa,Yc,Bc,ea,bi,m.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rs(){var t=0,e=1,r,a,o,u,f=me,l=!1,h;function d(p){return isNaN(p=+p)?h:f(o===0?.5:(p=(u(p)-r)*o,l?Math.max(0,Math.min(1,p)):p))}return d.domain=function(p){return arguments.length?(r=u(t=+p[0]),a=u(e=+p[1]),o=r===a?0:1/(a-r),d):[t,e]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(f=p,d):f},d.unknown=function(p){return arguments.length?(h=p,d):h},function(p){return u=p,r=p(t),a=p(e),o=r===a?0:1/(a-r),d}}function Jn(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Hg(){var t=wi(rs()(me));return t.copy=function(){return Jn(t,Hg())},Fn.apply(t,arguments)}function Ug(){var t=Vc(rs()).domain([1,10]);return t.copy=function(){return Jn(t,Ug()).base(t.base())},Fn.apply(t,arguments)}function Wg(){var t=Gc(rs());return t.copy=function(){return Jn(t,Wg()).constant(t.constant())},Fn.apply(t,arguments)}function jc(){var t=Oc(rs());return t.copy=function(){return Jn(t,jc()).exponent(t.exponent())},Fn.apply(t,arguments)}function tS(){return jc.apply(null,arguments).exponent(.5)}function qg(){var t=[],e=me;function r(a){if(!isNaN(a=+a))return e((Be(t,a)-1)/(t.length-1))}return r.domain=function(a){if(!arguments.length)return t.slice();t=[];for(var o=0,u=a.length,f;o<u;++o)f=a[o],f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Vt),r},r.interpolator=function(a){return arguments.length?(e=a,r):e},r.copy=function(){return qg(e).domain(t)},Fn.apply(r,arguments)}function as(){var t=0,e=.5,r=1,a,o,u,f,l,h=me,d,p=!1,_;function y(x){return isNaN(x=+x)?_:(x=.5+((x=+d(x))-o)*(x<o?f:l),h(p?Math.max(0,Math.min(1,x)):x))}return y.domain=function(x){return arguments.length?(a=d(t=+x[0]),o=d(e=+x[1]),u=d(r=+x[2]),f=a===o?0:.5/(o-a),l=o===u?0:.5/(u-o),y):[t,e,r]},y.clamp=function(x){return arguments.length?(p=!!x,y):p},y.interpolator=function(x){return arguments.length?(h=x,y):h},y.unknown=function(x){return arguments.length?(_=x,y):_},function(x){return d=x,a=x(t),o=x(e),u=x(r),f=a===o?0:.5/(o-a),l=o===u?0:.5/(u-o),y}}function Qg(){var t=wi(as()(me));return t.copy=function(){return Jn(t,Qg())},Fn.apply(t,arguments)}function jg(){var t=Vc(as()).domain([.1,1,10]);return t.copy=function(){return Jn(t,jg()).base(t.base())},Fn.apply(t,arguments)}function Zg(){var t=Gc(as());return t.copy=function(){return Jn(t,Zg()).constant(t.constant())},Fn.apply(t,arguments)}function Zc(){var t=Oc(as());return t.copy=function(){return Jn(t,Zc()).exponent(t.exponent())},Fn.apply(t,arguments)}function eS(){return Zc.apply(null,arguments).exponent(.5)}function Tt(t){for(var e=t.length/6|0,r=new Array(e),a=0;a<e;)r[a]="#"+t.slice(a*6,++a*6);return r}var nS=Tt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),iS=Tt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),rS=Tt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),aS=Tt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),oS=Tt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),sS=Tt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),uS=Tt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),cS=Tt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),fS=Tt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),lS=Tt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Wt(t){return el(t[t.length-1])}var Kg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Tt),hS=Wt(Kg),Jg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Tt),dS=Wt(Jg),tp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Tt),gS=Wt(tp),ep=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Tt),pS=Wt(ep),np=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Tt),yS=Wt(np),ip=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Tt),_S=Wt(ip),rp=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Tt),mS=Wt(rp),ap=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Tt),vS=Wt(ap),op=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Tt),xS=Wt(op),sp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Tt),wS=Wt(sp),up=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Tt),bS=Wt(up),cp=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Tt),SS=Wt(cp),fp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Tt),TS=Wt(fp),lp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Tt),AS=Wt(lp),hp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Tt),PS=Wt(hp),dp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Tt),CS=Wt(dp),gp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Tt),LS=Wt(gp),pp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Tt),MS=Wt(pp),yp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Tt),$S=Wt(yp),_p=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Tt),ES=Wt(_p),mp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Tt),kS=Wt(mp),vp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Tt),RS=Wt(vp),xp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Tt),VS=Wt(xp),wp=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Tt),GS=Wt(wp),bp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Tt),OS=Wt(bp),Sp=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Tt),NS=Wt(Sp),Tp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Tt),DS=Wt(Tp);function FS(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var IS=Ha(hn(300,.5,0),hn(-240,.5,1)),zS=Ha(hn(-100,.75,.35),hn(80,1.5,.8)),XS=Ha(hn(260,.75,.35),hn(80,1.5,.8)),os=hn();function BS(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return os.h=360*t-100,os.s=1.5-1.5*e,os.l=.8-.9*e,os+""}var ss=Ni(),YS=Math.PI/3,HS=Math.PI*2/3;function US(t){var e;return t=(.5-t)*Math.PI,ss.r=255*(e=Math.sin(t))*e,ss.g=255*(e=Math.sin(t+YS))*e,ss.b=255*(e=Math.sin(t+HS))*e,ss+""}function WS(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function us(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}var qS=us(Tt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),QS=us(Tt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),jS=us(Tt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ZS=us(Tt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Mt(t){return function(){return t}}var Ap=Math.abs,Se=Math.atan2,Pi=Math.cos,KS=Math.max,Kc=Math.min,$n=Math.sin,ir=Math.sqrt,Te=1e-12,ti=Math.PI,cs=ti/2,ei=2*ti;function JS(t){return t>1?0:t<-1?ti:Math.acos(t)}function Pp(t){return t>=1?cs:t<=-1?-cs:Math.asin(t)}function tT(t){return t.innerRadius}function eT(t){return t.outerRadius}function nT(t){return t.startAngle}function iT(t){return t.endAngle}function rT(t){return t&&t.padAngle}function aT(t,e,r,a,o,u,f,l){var h=r-t,d=a-e,p=f-o,_=l-u,y=_*h-p*d;if(!(y*y<Te))return y=(p*(e-u)-_*(t-o))/y,[t+y*h,e+y*d]}function fs(t,e,r,a,o,u,f){var l=t-r,h=e-a,d=(f?u:-u)/ir(l*l+h*h),p=d*h,_=-d*l,y=t+p,x=e+_,S=r+p,b=a+_,P=(y+S)/2,L=(x+b)/2,R=S-y,M=b-x,E=R*R+M*M,N=o-u,z=y*b-S*x,F=(M<0?-1:1)*ir(KS(0,N*N*E-z*z)),Q=(z*M-R*F)/E,H=(-z*R-M*F)/E,W=(z*M+R*F)/E,B=(-z*R+M*F)/E,V=Q-P,X=H-L,Z=W-P,I=B-L;return V*V+X*X>Z*Z+I*I&&(Q=W,H=B),{cx:Q,cy:H,x01:-p,y01:-_,x11:Q*(o/N-1),y11:H*(o/N-1)}}function oT(){var t=tT,e=eT,r=Mt(0),a=null,o=nT,u=iT,f=rT,l=null;function h(){var d,p,_=+t.apply(this,arguments),y=+e.apply(this,arguments),x=o.apply(this,arguments)-cs,S=u.apply(this,arguments)-cs,b=Ap(S-x),P=S>x;if(l||(l=d=qn()),y<_&&(p=y,y=_,_=p),!(y>Te))l.moveTo(0,0);else if(b>ei-Te)l.moveTo(y*Pi(x),y*$n(x)),l.arc(0,0,y,x,S,!P),_>Te&&(l.moveTo(_*Pi(S),_*$n(S)),l.arc(0,0,_,S,x,P));else{var L=x,R=S,M=x,E=S,N=b,z=b,F=f.apply(this,arguments)/2,Q=F>Te&&(a?+a.apply(this,arguments):ir(_*_+y*y)),H=Kc(Ap(y-_)/2,+r.apply(this,arguments)),W=H,B=H,V,X;if(Q>Te){var Z=Pp(Q/_*$n(F)),I=Pp(Q/y*$n(F));(N-=Z*2)>Te?(Z*=P?1:-1,M+=Z,E-=Z):(N=0,M=E=(x+S)/2),(z-=I*2)>Te?(I*=P?1:-1,L+=I,R-=I):(z=0,L=R=(x+S)/2)}var j=y*Pi(L),ft=y*$n(L),st=_*Pi(E),dt=_*$n(E);if(H>Te){var wt=y*Pi(R),bt=y*$n(R),Zt=_*Pi(M),Yt=_*$n(M),Ot;if(b<ti&&(Ot=aT(j,ft,Zt,Yt,wt,bt,st,dt))){var ae=j-Ot[0],nn=ft-Ot[1],_n=wt-Ot[0],mn=bt-Ot[1],rt=1/$n(JS((ae*_n+nn*mn)/(ir(ae*ae+nn*nn)*ir(_n*_n+mn*mn)))/2),St=ir(Ot[0]*Ot[0]+Ot[1]*Ot[1]);W=Kc(H,(_-St)/(rt-1)),B=Kc(H,(y-St)/(rt+1))}}z>Te?B>Te?(V=fs(Zt,Yt,j,ft,y,B,P),X=fs(wt,bt,st,dt,y,B,P),l.moveTo(V.cx+V.x01,V.cy+V.y01),B<H?l.arc(V.cx,V.cy,B,Se(V.y01,V.x01),Se(X.y01,X.x01),!P):(l.arc(V.cx,V.cy,B,Se(V.y01,V.x01),Se(V.y11,V.x11),!P),l.arc(0,0,y,Se(V.cy+V.y11,V.cx+V.x11),Se(X.cy+X.y11,X.cx+X.x11),!P),l.arc(X.cx,X.cy,B,Se(X.y11,X.x11),Se(X.y01,X.x01),!P))):(l.moveTo(j,ft),l.arc(0,0,y,L,R,!P)):l.moveTo(j,ft),!(_>Te)||!(N>Te)?l.lineTo(st,dt):W>Te?(V=fs(st,dt,wt,bt,_,-W,P),X=fs(j,ft,Zt,Yt,_,-W,P),l.lineTo(V.cx+V.x01,V.cy+V.y01),W<H?l.arc(V.cx,V.cy,W,Se(V.y01,V.x01),Se(X.y01,X.x01),!P):(l.arc(V.cx,V.cy,W,Se(V.y01,V.x01),Se(V.y11,V.x11),!P),l.arc(0,0,_,Se(V.cy+V.y11,V.cx+V.x11),Se(X.cy+X.y11,X.cx+X.x11),P),l.arc(X.cx,X.cy,W,Se(X.y11,X.x11),Se(X.y01,X.x01),!P))):l.arc(0,0,_,E,M,P)}if(l.closePath(),d)return l=null,d+""||null}return h.centroid=function(){var d=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,p=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-ti/2;return[Pi(p)*d,$n(p)*d]},h.innerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:Mt(+d),h):t},h.outerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:Mt(+d),h):e},h.cornerRadius=function(d){return arguments.length?(r=typeof d=="function"?d:Mt(+d),h):r},h.padRadius=function(d){return arguments.length?(a=d==null?null:typeof d=="function"?d:Mt(+d),h):a},h.startAngle=function(d){return arguments.length?(o=typeof d=="function"?d:Mt(+d),h):o},h.endAngle=function(d){return arguments.length?(u=typeof d=="function"?d:Mt(+d),h):u},h.padAngle=function(d){return arguments.length?(f=typeof d=="function"?d:Mt(+d),h):f},h.context=function(d){return arguments.length?(l=d??null,h):l},h}function Cp(t){this._context=t}Cp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ls(t){return new Cp(t)}function Jc(t){return t[0]}function tf(t){return t[1]}function ef(){var t=Jc,e=tf,r=Mt(!0),a=null,o=ls,u=null;function f(l){var h,d=l.length,p,_=!1,y;for(a==null&&(u=o(y=qn())),h=0;h<=d;++h)!(h<d&&r(p=l[h],h,l))===_&&((_=!_)?u.lineStart():u.lineEnd()),_&&u.point(+t(p,h,l),+e(p,h,l));if(y)return u=null,y+""||null}return f.x=function(l){return arguments.length?(t=typeof l=="function"?l:Mt(+l),f):t},f.y=function(l){return arguments.length?(e=typeof l=="function"?l:Mt(+l),f):e},f.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Mt(!!l),f):r},f.curve=function(l){return arguments.length?(o=l,a!=null&&(u=o(a)),f):o},f.context=function(l){return arguments.length?(l==null?a=u=null:u=o(a=l),f):a},f}function Lp(){var t=Jc,e=null,r=Mt(0),a=tf,o=Mt(!0),u=null,f=ls,l=null;function h(p){var _,y,x,S=p.length,b,P=!1,L,R=new Array(S),M=new Array(S);for(u==null&&(l=f(L=qn())),_=0;_<=S;++_){if(!(_<S&&o(b=p[_],_,p))===P)if(P=!P)y=_,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=_-1;x>=y;--x)l.point(R[x],M[x]);l.lineEnd(),l.areaEnd()}P&&(R[_]=+t(b,_,p),M[_]=+r(b,_,p),l.point(e?+e(b,_,p):R[_],a?+a(b,_,p):M[_]))}if(L)return l=null,L+""||null}function d(){return ef().defined(o).curve(f).context(u)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:Mt(+p),e=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Mt(+p),h):t},h.x1=function(p){return arguments.length?(e=p==null?null:typeof p=="function"?p:Mt(+p),h):e},h.y=function(p){return arguments.length?(r=typeof p=="function"?p:Mt(+p),a=null,h):r},h.y0=function(p){return arguments.length?(r=typeof p=="function"?p:Mt(+p),h):r},h.y1=function(p){return arguments.length?(a=p==null?null:typeof p=="function"?p:Mt(+p),h):a},h.lineX0=h.lineY0=function(){return d().x(t).y(r)},h.lineY1=function(){return d().x(t).y(a)},h.lineX1=function(){return d().x(e).y(r)},h.defined=function(p){return arguments.length?(o=typeof p=="function"?p:Mt(!!p),h):o},h.curve=function(p){return arguments.length?(f=p,u!=null&&(l=f(u)),h):f},h.context=function(p){return arguments.length?(p==null?u=l=null:l=f(u=p),h):u},h}function sT(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function uT(t){return t}function cT(){var t=uT,e=sT,r=null,a=Mt(0),o=Mt(ei),u=Mt(0);function f(l){var h,d=l.length,p,_,y=0,x=new Array(d),S=new Array(d),b=+a.apply(this,arguments),P=Math.min(ei,Math.max(-ei,o.apply(this,arguments)-b)),L,R=Math.min(Math.abs(P)/d,u.apply(this,arguments)),M=R*(P<0?-1:1),E;for(h=0;h<d;++h)(E=S[x[h]=h]=+t(l[h],h,l))>0&&(y+=E);for(e!=null?x.sort(function(N,z){return e(S[N],S[z])}):r!=null&&x.sort(function(N,z){return r(l[N],l[z])}),h=0,_=y?(P-d*M)/y:0;h<d;++h,b=L)p=x[h],E=S[p],L=b+(E>0?E*_:0)+M,S[p]={data:l[p],index:h,value:E,startAngle:b,endAngle:L,padAngle:R};return S}return f.value=function(l){return arguments.length?(t=typeof l=="function"?l:Mt(+l),f):t},f.sortValues=function(l){return arguments.length?(e=l,r=null,f):e},f.sort=function(l){return arguments.length?(r=l,e=null,f):r},f.startAngle=function(l){return arguments.length?(a=typeof l=="function"?l:Mt(+l),f):a},f.endAngle=function(l){return arguments.length?(o=typeof l=="function"?l:Mt(+l),f):o},f.padAngle=function(l){return arguments.length?(u=typeof l=="function"?l:Mt(+l),f):u},f}var Mp=nf(ls);function $p(t){this._curve=t}$p.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function nf(t){function e(r){return new $p(t(r))}return e._curve=t,e}function _a(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(r){return arguments.length?e(nf(r)):e()._curve},t}function Ep(){return _a(ef().curve(Mp))}function kp(){var t=Lp().curve(Mp),e=t.curve,r=t.lineX0,a=t.lineX1,o=t.lineY0,u=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return _a(r())},delete t.lineX0,t.lineEndAngle=function(){return _a(a())},delete t.lineX1,t.lineInnerRadius=function(){return _a(o())},delete t.lineY0,t.lineOuterRadius=function(){return _a(u())},delete t.lineY1,t.curve=function(f){return arguments.length?e(nf(f)):e()._curve},t}function ma(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var rf=Array.prototype.slice;function fT(t){return t.source}function lT(t){return t.target}function af(t){var e=fT,r=lT,a=Jc,o=tf,u=null;function f(){var l,h=rf.call(arguments),d=e.apply(this,h),p=r.apply(this,h);if(u||(u=l=qn()),t(u,+a.apply(this,(h[0]=d,h)),+o.apply(this,h),+a.apply(this,(h[0]=p,h)),+o.apply(this,h)),l)return u=null,l+""||null}return f.source=function(l){return arguments.length?(e=l,f):e},f.target=function(l){return arguments.length?(r=l,f):r},f.x=function(l){return arguments.length?(a=typeof l=="function"?l:Mt(+l),f):a},f.y=function(l){return arguments.length?(o=typeof l=="function"?l:Mt(+l),f):o},f.context=function(l){return arguments.length?(u=l??null,f):u},f}function hT(t,e,r,a,o){t.moveTo(e,r),t.bezierCurveTo(e=(e+a)/2,r,e,o,a,o)}function dT(t,e,r,a,o){t.moveTo(e,r),t.bezierCurveTo(e,r=(r+o)/2,a,r,a,o)}function gT(t,e,r,a,o){var u=ma(e,r),f=ma(e,r=(r+o)/2),l=ma(a,r),h=ma(a,o);t.moveTo(u[0],u[1]),t.bezierCurveTo(f[0],f[1],l[0],l[1],h[0],h[1])}function pT(){return af(hT)}function yT(){return af(dT)}function _T(){var t=af(gT);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var of={draw:function(t,e){var r=Math.sqrt(e/ti);t.moveTo(r,0),t.arc(0,0,r,0,ei)}},Rp={draw:function(t,e){var r=Math.sqrt(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Vp=Math.sqrt(1/3),mT=Vp*2,Gp={draw:function(t,e){var r=Math.sqrt(e/mT),a=r*Vp;t.moveTo(0,-r),t.lineTo(a,0),t.lineTo(0,r),t.lineTo(-a,0),t.closePath()}},vT=.8908130915292852,Op=Math.sin(ti/10)/Math.sin(7*ti/10),xT=Math.sin(ei/10)*Op,wT=-Math.cos(ei/10)*Op,Np={draw:function(t,e){var r=Math.sqrt(e*vT),a=xT*r,o=wT*r;t.moveTo(0,-r),t.lineTo(a,o);for(var u=1;u<5;++u){var f=ei*u/5,l=Math.cos(f),h=Math.sin(f);t.lineTo(h*r,-l*r),t.lineTo(l*a-h*o,h*a+l*o)}t.closePath()}},Dp={draw:function(t,e){var r=Math.sqrt(e),a=-r/2;t.rect(a,a,r,r)}},sf=Math.sqrt(3),Fp={draw:function(t,e){var r=-Math.sqrt(e/(sf*3));t.moveTo(0,r*2),t.lineTo(-sf*r,-r),t.lineTo(sf*r,-r),t.closePath()}},tn=-.5,en=Math.sqrt(3)/2,uf=1/Math.sqrt(12),bT=(uf/2+1)*3,Ip={draw:function(t,e){var r=Math.sqrt(e/bT),a=r/2,o=r*uf,u=a,f=r*uf+r,l=-u,h=f;t.moveTo(a,o),t.lineTo(u,f),t.lineTo(l,h),t.lineTo(tn*a-en*o,en*a+tn*o),t.lineTo(tn*u-en*f,en*u+tn*f),t.lineTo(tn*l-en*h,en*l+tn*h),t.lineTo(tn*a+en*o,tn*o-en*a),t.lineTo(tn*u+en*f,tn*f-en*u),t.lineTo(tn*l+en*h,tn*h-en*l),t.closePath()}},ST=[of,Rp,Gp,Dp,Np,Fp,Ip];function TT(){var t=Mt(of),e=Mt(64),r=null;function a(){var o;if(r||(r=o=qn()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(t=typeof o=="function"?o:Mt(o),a):t},a.size=function(o){return arguments.length?(e=typeof o=="function"?o:Mt(+o),a):e},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function ni(){}function hs(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function ds(t){this._context=t}ds.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hs(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hs(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AT(t){return new ds(t)}function zp(t){this._context=t}zp.prototype={areaStart:ni,areaEnd:ni,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:hs(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PT(t){return new zp(t)}function Xp(t){this._context=t}Xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,a=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:hs(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CT(t){return new Xp(t)}function Bp(t,e){this._basis=new ds(t),this._beta=e}Bp.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var a=t[0],o=e[0],u=t[r]-a,f=e[r]-o,l=-1,h;++l<=r;)h=l/r,this._basis.point(this._beta*t[l]+(1-this._beta)*(a+h*u),this._beta*e[l]+(1-this._beta)*(o+h*f));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var LT=function t(e){function r(a){return e===1?new ds(a):new Bp(a,e)}return r.beta=function(a){return t(+a)},r}(.85);function gs(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function cf(t,e){this._context=t,this._k=(1-e)/6}cf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:gs(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:gs(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var MT=function t(e){function r(a){return new cf(a,e)}return r.tension=function(a){return t(+a)},r}(0);function ff(t,e){this._context=t,this._k=(1-e)/6}ff.prototype={areaStart:ni,areaEnd:ni,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:gs(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var $T=function t(e){function r(a){return new ff(a,e)}return r.tension=function(a){return t(+a)},r}(0);function lf(t,e){this._context=t,this._k=(1-e)/6}lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:gs(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ET=function t(e){function r(a){return new lf(a,e)}return r.tension=function(a){return t(+a)},r}(0);function hf(t,e,r){var a=t._x1,o=t._y1,u=t._x2,f=t._y2;if(t._l01_a>Te){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);a=(a*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,o=(o*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>Te){var d=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);u=(u*d+t._x1*t._l23_2a-e*t._l12_2a)/p,f=(f*d+t._y1*t._l23_2a-r*t._l12_2a)/p}t._context.bezierCurveTo(a,o,u,f,t._x2,t._y2)}function Yp(t,e){this._context=t,this._alpha=e}Yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:hf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var kT=function t(e){function r(a){return e?new Yp(a,e):new cf(a,0)}return r.alpha=function(a){return t(+a)},r}(.5);function Hp(t,e){this._context=t,this._alpha=e}Hp.prototype={areaStart:ni,areaEnd:ni,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:hf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var RT=function t(e){function r(a){return e?new Hp(a,e):new ff(a,0)}return r.alpha=function(a){return t(+a)},r}(.5);function Up(t,e){this._context=t,this._alpha=e}Up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+a*a,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:hf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var VT=function t(e){function r(a){return e?new Up(a,e):new lf(a,0)}return r.alpha=function(a){return t(+a)},r}(.5);function Wp(t){this._context=t}Wp.prototype={areaStart:ni,areaEnd:ni,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function GT(t){return new Wp(t)}function qp(t){return t<0?-1:1}function Qp(t,e,r){var a=t._x1-t._x0,o=e-t._x1,u=(t._y1-t._y0)/(a||o<0&&-0),f=(r-t._y1)/(o||a<0&&-0),l=(u*o+f*a)/(a+o);return(qp(u)+qp(f))*Math.min(Math.abs(u),Math.abs(f),.5*Math.abs(l))||0}function jp(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function df(t,e,r){var a=t._x0,o=t._y0,u=t._x1,f=t._y1,l=(u-a)/3;t._context.bezierCurveTo(a+l,o+l*e,u-l,f-l*r,u,f)}function ps(t){this._context=t}ps.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:df(this,this._t0,jp(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,df(this,jp(this,r=Qp(this,t,e)),r);break;default:df(this,this._t0,r=Qp(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Zp(t){this._context=new Kp(t)}(Zp.prototype=Object.create(ps.prototype)).point=function(t,e){ps.prototype.point.call(this,e,t)};function Kp(t){this._context=t}Kp.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,a,o,u){this._context.bezierCurveTo(e,t,a,r,u,o)}};function OT(t){return new ps(t)}function NT(t){return new Zp(t)}function Jp(t){this._context=t}Jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var a=t0(t),o=t0(e),u=0,f=1;f<r;++u,++f)this._context.bezierCurveTo(a[0][u],o[0][u],a[1][u],o[1][u],t[f],e[f]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function t0(t){var e,r=t.length-1,a,o=new Array(r),u=new Array(r),f=new Array(r);for(o[0]=0,u[0]=2,f[0]=t[0]+2*t[1],e=1;e<r-1;++e)o[e]=1,u[e]=4,f[e]=4*t[e]+2*t[e+1];for(o[r-1]=2,u[r-1]=7,f[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)a=o[e]/u[e-1],u[e]-=a,f[e]-=a*f[e-1];for(o[r-1]=f[r-1]/u[r-1],e=r-2;e>=0;--e)o[e]=(f[e]-o[e+1])/u[e];for(u[r-1]=(t[r]+o[r-1])/2,e=0;e<r-1;++e)u[e]=2*t[e+1]-o[e+1];return[o,u]}function DT(t){return new Jp(t)}function ys(t,e){this._context=t,this._t=e}ys.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function FT(t){return new ys(t,.5)}function IT(t){return new ys(t,0)}function zT(t){return new ys(t,1)}function rr(t,e){if((f=t.length)>1)for(var r=1,a,o,u=t[e[0]],f,l=u.length;r<f;++r)for(o=u,u=t[e[r]],a=0;a<l;++a)u[a][1]+=u[a][0]=isNaN(o[a][1])?o[a][0]:o[a][1]}function ar(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function XT(t,e){return t[e]}function BT(){var t=Mt([]),e=ar,r=rr,a=XT;function o(u){var f=t.apply(this,arguments),l,h=u.length,d=f.length,p=new Array(d),_;for(l=0;l<d;++l){for(var y=f[l],x=p[l]=new Array(h),S=0,b;S<h;++S)x[S]=b=[0,+a(u[S],y,S,u)],b.data=u[S];x.key=y}for(l=0,_=e(p);l<d;++l)p[_[l]].index=l;return r(p,_),p}return o.keys=function(u){return arguments.length?(t=typeof u=="function"?u:Mt(rf.call(u)),o):t},o.value=function(u){return arguments.length?(a=typeof u=="function"?u:Mt(+u),o):a},o.order=function(u){return arguments.length?(e=u==null?ar:typeof u=="function"?u:Mt(rf.call(u)),o):e},o.offset=function(u){return arguments.length?(r=u??rr,o):r},o}function YT(t,e){if((a=t.length)>0){for(var r,a,o=0,u=t[0].length,f;o<u;++o){for(f=r=0;r<a;++r)f+=t[r][o][1]||0;if(f)for(r=0;r<a;++r)t[r][o][1]/=f}rr(t,e)}}function HT(t,e){if((h=t.length)>0)for(var r,a=0,o,u,f,l,h,d=t[e[0]].length;a<d;++a)for(f=l=0,r=0;r<h;++r)(u=(o=t[e[r]][a])[1]-o[0])>0?(o[0]=f,o[1]=f+=u):u<0?(o[1]=l,o[0]=l+=u):(o[0]=0,o[1]=u)}function UT(t,e){if((o=t.length)>0){for(var r=0,a=t[e[0]],o,u=a.length;r<u;++r){for(var f=0,l=0;f<o;++f)l+=t[f][r][1]||0;a[r][1]+=a[r][0]=-l/2}rr(t,e)}}function WT(t,e){if(!(!((f=t.length)>0)||!((u=(o=t[e[0]]).length)>0))){for(var r=0,a=1,o,u,f;a<u;++a){for(var l=0,h=0,d=0;l<f;++l){for(var p=t[e[l]],_=p[a][1]||0,y=p[a-1][1]||0,x=(_-y)/2,S=0;S<l;++S){var b=t[e[S]],P=b[a][1]||0,L=b[a-1][1]||0;x+=P-L}h+=_,d+=x*_}o[a-1][1]+=o[a-1][0]=r,h&&(r-=d/h)}o[a-1][1]+=o[a-1][0]=r,rr(t,e)}}function e0(t){var e=t.map(qT);return ar(t).sort(function(r,a){return e[r]-e[a]})}function qT(t){for(var e=-1,r=0,a=t.length,o,u=-1/0;++e<a;)(o=+t[e][1])>u&&(u=o,r=e);return r}function n0(t){var e=t.map(i0);return ar(t).sort(function(r,a){return e[r]-e[a]})}function i0(t){for(var e=0,r=-1,a=t.length,o;++r<a;)(o=+t[r][1])&&(e+=o);return e}function QT(t){return n0(t).reverse()}function jT(t){var e=t.length,r,a,o=t.map(i0),u=e0(t),f=0,l=0,h=[],d=[];for(r=0;r<e;++r)a=u[r],f<l?(f+=o[a],h.push(a)):(l+=o[a],d.push(a));return d.reverse().concat(h)}function ZT(t){return ar(t).reverse()}function r0(t){return function(){return t}}function KT(t){return t[0]}function JT(t){return t[1]}function _s(){this._=null}function ms(t){t.U=t.C=t.L=t.R=t.P=t.N=null}_s.prototype={constructor:_s,insert:function(t,e){var r,a,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;r=t}else this._?(t=a0(this._),e.P=null,e.N=t,t.P=t.L=e,r=t):(e.P=e.N=null,this._=e,r=null);for(e.L=e.R=null,e.U=r,e.C=!0,t=e;r&&r.C;)a=r.U,r===a.L?(o=a.R,o&&o.C?(r.C=o.C=!1,a.C=!0,t=a):(t===r.R&&(va(this,r),t=r,r=t.U),r.C=!1,a.C=!0,xa(this,a))):(o=a.L,o&&o.C?(r.C=o.C=!1,a.C=!0,t=a):(t===r.L&&(xa(this,r),t=r,r=t.U),r.C=!1,a.C=!0,va(this,a))),r=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e=t.U,r,a=t.L,o=t.R,u,f;if(a?o?u=a0(o):u=a:u=o,e?e.L===t?e.L=u:e.R=u:this._=u,a&&o?(f=u.C,u.C=t.C,u.L=a,a.U=u,u!==o?(e=u.U,u.U=t.U,t=u.R,e.L=t,u.R=o,o.U=u):(u.U=e,e=u,t=u.R)):(f=t.C,t=u),t&&(t.U=e),!f){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===e.L){if(r=e.R,r.C&&(r.C=!1,e.C=!0,va(this,e),r=e.R),r.L&&r.L.C||r.R&&r.R.C){(!r.R||!r.R.C)&&(r.L.C=!1,r.C=!0,xa(this,r),r=e.R),r.C=e.C,e.C=r.R.C=!1,va(this,e),t=this._;break}}else if(r=e.L,r.C&&(r.C=!1,e.C=!0,xa(this,e),r=e.L),r.L&&r.L.C||r.R&&r.R.C){(!r.L||!r.L.C)&&(r.R.C=!1,r.C=!0,va(this,r),r=e.L),r.C=e.C,e.C=r.L.C=!1,xa(this,e),t=this._;break}r.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};function va(t,e){var r=e,a=e.R,o=r.U;o?o.L===r?o.L=a:o.R=a:t._=a,a.U=o,r.U=a,r.R=a.L,r.R&&(r.R.U=r),a.L=r}function xa(t,e){var r=e,a=e.L,o=r.U;o?o.L===r?o.L=a:o.R=a:t._=a,a.U=o,r.U=a,r.L=a.R,r.L&&(r.L.U=r),a.R=r}function a0(t){for(;t.L;)t=t.L;return t}function wa(t,e,r,a){var o=[null,null],u=Ae.push(o)-1;return o.left=t,o.right=e,r&&vs(o,t,e,r),a&&vs(o,e,t,a),Ue[t.index].halfedges.push(u),Ue[e.index].halfedges.push(u),o}function ba(t,e,r){var a=[e,r];return a.left=t,a}function vs(t,e,r,a){!t[0]&&!t[1]?(t[0]=a,t.left=e,t.right=r):t.left===r?t[1]=a:t[0]=a}function tA(t,e,r,a,o){var u=t[0],f=t[1],l=u[0],h=u[1],d=f[0],p=f[1],_=0,y=1,x=d-l,S=p-h,b;if(b=e-l,!(!x&&b>0)){if(b/=x,x<0){if(b<_)return;b<y&&(y=b)}else if(x>0){if(b>y)return;b>_&&(_=b)}if(b=a-l,!(!x&&b<0)){if(b/=x,x<0){if(b>y)return;b>_&&(_=b)}else if(x>0){if(b<_)return;b<y&&(y=b)}if(b=r-h,!(!S&&b>0)){if(b/=S,S<0){if(b<_)return;b<y&&(y=b)}else if(S>0){if(b>y)return;b>_&&(_=b)}if(b=o-h,!(!S&&b<0)){if(b/=S,S<0){if(b>y)return;b>_&&(_=b)}else if(S>0){if(b<_)return;b<y&&(y=b)}return!(_>0)&&!(y<1)||(_>0&&(t[0]=[l+_*x,h+_*S]),y<1&&(t[1]=[l+y*x,h+y*S])),!0}}}}}function eA(t,e,r,a,o){var u=t[1];if(u)return!0;var f=t[0],l=t.left,h=t.right,d=l[0],p=l[1],_=h[0],y=h[1],x=(d+_)/2,S=(p+y)/2,b,P;if(y===p){if(x<e||x>=a)return;if(d>_){if(!f)f=[x,r];else if(f[1]>=o)return;u=[x,o]}else{if(!f)f=[x,o];else if(f[1]<r)return;u=[x,r]}}else if(b=(d-_)/(y-p),P=S-b*x,b<-1||b>1)if(d>_){if(!f)f=[(r-P)/b,r];else if(f[1]>=o)return;u=[(o-P)/b,o]}else{if(!f)f=[(o-P)/b,o];else if(f[1]<r)return;u=[(r-P)/b,r]}else if(p<y){if(!f)f=[e,b*e+P];else if(f[0]>=a)return;u=[a,b*a+P]}else{if(!f)f=[a,b*a+P];else if(f[0]<e)return;u=[e,b*e+P]}return t[0]=f,t[1]=u,!0}function nA(t,e,r,a){for(var o=Ae.length,u;o--;)(!eA(u=Ae[o],t,e,r,a)||!tA(u,t,e,r,a)||!(Math.abs(u[0][0]-u[1][0])>Bt||Math.abs(u[0][1]-u[1][1])>Bt))&&delete Ae[o]}function iA(t){return Ue[t.index]={site:t,halfedges:[]}}function rA(t,e){var r=t.site,a=e.left,o=e.right;return r===o&&(o=a,a=r),o?Math.atan2(o[1]-a[1],o[0]-a[0]):(r===a?(a=e[1],o=e[0]):(a=e[0],o=e[1]),Math.atan2(a[0]-o[0],o[1]-a[1]))}function o0(t,e){return e[+(e.left!==t.site)]}function aA(t,e){return e[+(e.left===t.site)]}function oA(){for(var t=0,e=Ue.length,r,a,o,u;t<e;++t)if((r=Ue[t])&&(u=(a=r.halfedges).length)){var f=new Array(u),l=new Array(u);for(o=0;o<u;++o)f[o]=o,l[o]=rA(r,Ae[a[o]]);for(f.sort(function(h,d){return l[d]-l[h]}),o=0;o<u;++o)l[o]=a[f[o]];for(o=0;o<u;++o)a[o]=l[o]}}function sA(t,e,r,a){var o=Ue.length,u,f,l,h,d,p,_,y,x,S,b,P,L=!0;for(u=0;u<o;++u)if(f=Ue[u]){for(l=f.site,d=f.halfedges,h=d.length;h--;)Ae[d[h]]||d.splice(h,1);for(h=0,p=d.length;h<p;)S=aA(f,Ae[d[h]]),b=S[0],P=S[1],_=o0(f,Ae[d[++h%p]]),y=_[0],x=_[1],(Math.abs(b-y)>Bt||Math.abs(P-x)>Bt)&&(d.splice(h,0,Ae.push(ba(l,S,Math.abs(b-t)<Bt&&a-P>Bt?[t,Math.abs(y-t)<Bt?x:a]:Math.abs(P-a)<Bt&&r-b>Bt?[Math.abs(x-a)<Bt?y:r,a]:Math.abs(b-r)<Bt&&P-e>Bt?[r,Math.abs(y-r)<Bt?x:e]:Math.abs(P-e)<Bt&&b-t>Bt?[Math.abs(x-e)<Bt?y:t,e]:null))-1),++p);p&&(L=!1)}if(L){var R,M,E,N=1/0;for(u=0,L=null;u<o;++u)(f=Ue[u])&&(l=f.site,R=l[0]-t,M=l[1]-e,E=R*R+M*M,E<N&&(N=E,L=f));if(L){var z=[t,e],F=[t,a],Q=[r,a],H=[r,e];L.halfedges.push(Ae.push(ba(l=L.site,z,F))-1,Ae.push(ba(l,F,Q))-1,Ae.push(ba(l,Q,H))-1,Ae.push(ba(l,H,z))-1)}}for(u=0;u<o;++u)(f=Ue[u])&&(f.halfedges.length||delete Ue[u])}var s0=[],gf;function uA(){ms(this),this.x=this.y=this.arc=this.site=this.cy=null}function or(t){var e=t.P,r=t.N;if(!(!e||!r)){var a=e.site,o=t.site,u=r.site;if(a!==u){var f=o[0],l=o[1],h=a[0]-f,d=a[1]-l,p=u[0]-f,_=u[1]-l,y=2*(h*_-d*p);if(!(y>=-dA)){var x=h*h+d*d,S=p*p+_*_,b=(_*x-d*S)/y,P=(h*S-p*x)/y,L=s0.pop()||new uA;L.arc=t,L.site=o,L.x=b+f,L.y=(L.cy=P+l)+Math.sqrt(b*b+P*P),t.circle=L;for(var R=null,M=Sa._;M;)if(L.y<M.y||L.y===M.y&&L.x<=M.x)if(M.L)M=M.L;else{R=M.P;break}else if(M.R)M=M.R;else{R=M;break}Sa.insert(R,L),R||(gf=L)}}}}function sr(t){var e=t.circle;e&&(e.P||(gf=e.N),Sa.remove(e),s0.push(e),ms(e),t.circle=null)}var u0=[];function cA(){ms(this),this.edge=this.site=this.circle=null}function c0(t){var e=u0.pop()||new cA;return e.site=t,e}function pf(t){sr(t),ur.remove(t),u0.push(t),ms(t)}function fA(t){var e=t.circle,r=e.x,a=e.cy,o=[r,a],u=t.P,f=t.N,l=[t];pf(t);for(var h=u;h.circle&&Math.abs(r-h.circle.x)<Bt&&Math.abs(a-h.circle.cy)<Bt;)u=h.P,l.unshift(h),pf(h),h=u;l.unshift(h),sr(h);for(var d=f;d.circle&&Math.abs(r-d.circle.x)<Bt&&Math.abs(a-d.circle.cy)<Bt;)f=d.N,l.push(d),pf(d),d=f;l.push(d),sr(d);var p=l.length,_;for(_=1;_<p;++_)d=l[_],h=l[_-1],vs(d.edge,h.site,d.site,o);h=l[0],d=l[p-1],d.edge=wa(h.site,d.site,null,o),or(h),or(d)}function lA(t){for(var e=t[0],r=t[1],a,o,u,f,l=ur._;l;)if(u=f0(l,r)-e,u>Bt)l=l.L;else if(f=e-hA(l,r),f>Bt){if(!l.R){a=l;break}l=l.R}else{u>-Bt?(a=l.P,o=l):f>-Bt?(a=l,o=l.N):a=o=l;break}iA(t);var h=c0(t);if(ur.insert(a,h),!(!a&&!o)){if(a===o){sr(a),o=c0(a.site),ur.insert(h,o),h.edge=o.edge=wa(a.site,h.site),or(a),or(o);return}if(!o){h.edge=wa(a.site,h.site);return}sr(a),sr(o);var d=a.site,p=d[0],_=d[1],y=t[0]-p,x=t[1]-_,S=o.site,b=S[0]-p,P=S[1]-_,L=2*(y*P-x*b),R=y*y+x*x,M=b*b+P*P,E=[(P*R-x*M)/L+p,(y*M-b*R)/L+_];vs(o.edge,d,S,E),h.edge=wa(d,t,null,E),o.edge=wa(t,S,null,E),or(a),or(o)}}function f0(t,e){var r=t.site,a=r[0],o=r[1],u=o-e;if(!u)return a;var f=t.P;if(!f)return-1/0;r=f.site;var l=r[0],h=r[1],d=h-e;if(!d)return l;var p=l-a,_=1/u-1/d,y=p/d;return _?(-y+Math.sqrt(y*y-2*_*(p*p/(-2*d)-h+d/2+o-u/2)))/_+a:(a+l)/2}function hA(t,e){var r=t.N;if(r)return f0(r,e);var a=t.site;return a[1]===e?a[0]:1/0}var Bt=1e-6,dA=1e-12,ur,Ue,Sa,Ae;function gA(t,e,r){return(t[0]-r[0])*(e[1]-t[1])-(t[0]-e[0])*(r[1]-t[1])}function pA(t,e){return e[1]-t[1]||e[0]-t[0]}function yf(t,e){var r=t.sort(pA).pop(),a,o,u;for(Ae=[],Ue=new Array(t.length),ur=new _s,Sa=new _s;;)if(u=gf,r&&(!u||r[1]<u.y||r[1]===u.y&&r[0]<u.x))(r[0]!==a||r[1]!==o)&&(lA(r),a=r[0],o=r[1]),r=t.pop();else if(u)fA(u.arc);else break;if(oA(),e){var f=+e[0][0],l=+e[0][1],h=+e[1][0],d=+e[1][1];nA(f,l,h,d),sA(f,l,h,d)}this.edges=Ae,this.cells=Ue,ur=Sa=Ae=Ue=null}yf.prototype={constructor:yf,polygons:function(){var t=this.edges;return this.cells.map(function(e){var r=e.halfedges.map(function(a){return o0(e,t[a])});return r.data=e.site.data,r})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(r,a){if(l=(u=r.halfedges).length)for(var o=r.site,u,f=-1,l,h,d=e[u[l-1]],p=d.left===o?d.right:d.left;++f<l;)h=p,d=e[u[f]],p=d.left===o?d.right:d.left,h&&p&&a<h.index&&a<p.index&&gA(o,h,p)<0&&t.push([o.data,h.data,p.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,r){for(var a=this,o,u=a._found||0,f=a.cells.length,l;!(l=a.cells[u]);)if(++u>=f)return null;var h=t-l.site[0],d=e-l.site[1],p=h*h+d*d;do l=a.cells[o=u],u=null,l.halfedges.forEach(function(_){var y=a.edges[_],x=y.left;if(!((x===l.site||!x)&&!(x=y.right))){var S=t-x[0],b=e-x[1],P=S*S+b*b;P<p&&(p=P,u=x.index)}});while(u!==null);return a._found=o,r==null||p<=r*r?l.site:null}};function yA(){var t=KT,e=JT,r=null;function a(o){return new yf(o.map(function(u,f){var l=[Math.round(t(u,f,o)/Bt)*Bt,Math.round(e(u,f,o)/Bt)*Bt];return l.index=f,l.data=u,l}),r)}return a.polygons=function(o){return a(o).polygons()},a.links=function(o){return a(o).links()},a.triangles=function(o){return a(o).triangles()},a.x=function(o){return arguments.length?(t=typeof o=="function"?o:r0(+o),a):t},a.y=function(o){return arguments.length?(e=typeof o=="function"?o:r0(+o),a):e},a.extent=function(o){return arguments.length?(r=o==null?null:[[+o[0][0],+o[0][1]],[+o[1][0],+o[1][1]]],a):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},a.size=function(o){return arguments.length?(r=o==null?null:[[0,0],[+o[0],+o[1]]],a):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},a}function xs(t){return function(){return t}}function _A(t,e,r){this.target=t,this.type=e,this.transform=r}function Xn(t,e,r){this.k=t,this.x=e,this.y=r}Xn.prototype={constructor:Xn,scale:function(t){return t===1?this:new Xn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Xn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ws=new Xn(1,0,0);l0.prototype=Xn.prototype;function l0(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ws;return t.__zoom}function _f(){m.event.stopImmediatePropagation()}function Ta(){m.event.preventDefault(),m.event.stopImmediatePropagation()}function mA(){return!m.event.ctrlKey&&!m.event.button}function vA(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function h0(){return this.__zoom||ws}function xA(){return-m.event.deltaY*(m.event.deltaMode===1?.05:m.event.deltaMode?1:.002)}function wA(){return navigator.maxTouchPoints||"ontouchstart"in this}function bA(t,e,r){var a=t.invertX(e[0][0])-r[0][0],o=t.invertX(e[1][0])-r[1][0],u=t.invertY(e[0][1])-r[0][1],f=t.invertY(e[1][1])-r[1][1];return t.translate(o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o),f>u?(u+f)/2:Math.min(0,u)||Math.max(0,f))}function SA(){var t=mA,e=vA,r=bA,a=xA,o=wA,u=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],l=250,h=pl,d=At("start","zoom","end"),p,_,y=500,x=150,S=0;function b(V){V.property("__zoom",h0).on("wheel.zoom",z).on("mousedown.zoom",F).on("dblclick.zoom",Q).filter(o).on("touchstart.zoom",H).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",B).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(V,X,Z){var I=V.selection?V.selection():V;I.property("__zoom",h0),V!==I?M(V,X,Z):I.interrupt().each(function(){E(this,arguments).start().zoom(null,typeof X=="function"?X.apply(this,arguments):X).end()})},b.scaleBy=function(V,X,Z){b.scaleTo(V,function(){var I=this.__zoom.k,j=typeof X=="function"?X.apply(this,arguments):X;return I*j},Z)},b.scaleTo=function(V,X,Z){b.transform(V,function(){var I=e.apply(this,arguments),j=this.__zoom,ft=Z==null?R(I):typeof Z=="function"?Z.apply(this,arguments):Z,st=j.invert(ft),dt=typeof X=="function"?X.apply(this,arguments):X;return r(L(P(j,dt),ft,st),I,f)},Z)},b.translateBy=function(V,X,Z){b.transform(V,function(){return r(this.__zoom.translate(typeof X=="function"?X.apply(this,arguments):X,typeof Z=="function"?Z.apply(this,arguments):Z),e.apply(this,arguments),f)})},b.translateTo=function(V,X,Z,I){b.transform(V,function(){var j=e.apply(this,arguments),ft=this.__zoom,st=I==null?R(j):typeof I=="function"?I.apply(this,arguments):I;return r(ws.translate(st[0],st[1]).scale(ft.k).translate(typeof X=="function"?-X.apply(this,arguments):-X,typeof Z=="function"?-Z.apply(this,arguments):-Z),j,f)},I)};function P(V,X){return X=Math.max(u[0],Math.min(u[1],X)),X===V.k?V:new Xn(X,V.x,V.y)}function L(V,X,Z){var I=X[0]-Z[0]*V.k,j=X[1]-Z[1]*V.k;return I===V.x&&j===V.y?V:new Xn(V.k,I,j)}function R(V){return[(+V[0][0]+ +V[1][0])/2,(+V[0][1]+ +V[1][1])/2]}function M(V,X,Z){V.on("start.zoom",function(){E(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).end()}).tween("zoom",function(){var I=this,j=arguments,ft=E(I,j),st=e.apply(I,j),dt=Z==null?R(st):typeof Z=="function"?Z.apply(I,j):Z,wt=Math.max(st[1][0]-st[0][0],st[1][1]-st[0][1]),bt=I.__zoom,Zt=typeof X=="function"?X.apply(I,j):X,Yt=h(bt.invert(dt).concat(wt/bt.k),Zt.invert(dt).concat(wt/Zt.k));return function(Ot){if(Ot===1)Ot=Zt;else{var ae=Yt(Ot),nn=wt/ae[2];Ot=new Xn(nn,dt[0]-ae[0]*nn,dt[1]-ae[1]*nn)}ft.zoom(null,Ot)}})}function E(V,X,Z){return!Z&&V.__zooming||new N(V,X)}function N(V,X){this.that=V,this.args=X,this.active=0,this.extent=e.apply(V,X),this.taps=0}N.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(V,X){return this.mouse&&V!=="mouse"&&(this.mouse[1]=X.invert(this.mouse[0])),this.touch0&&V!=="touch"&&(this.touch0[1]=X.invert(this.touch0[0])),this.touch1&&V!=="touch"&&(this.touch1[1]=X.invert(this.touch1[0])),this.that.__zoom=X,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(V){pr(new _A(b,V,this.that.__zoom),d.apply,d,[V,this.that,this.args])}};function z(){if(!t.apply(this,arguments))return;var V=E(this,arguments),X=this.__zoom,Z=Math.max(u[0],Math.min(u[1],X.k*Math.pow(2,a.apply(this,arguments)))),I=si(this);if(V.wheel)(V.mouse[0][0]!==I[0]||V.mouse[0][1]!==I[1])&&(V.mouse[1]=X.invert(V.mouse[0]=I)),clearTimeout(V.wheel);else{if(X.k===Z)return;V.mouse=[I,X.invert(I)],li(this),V.start()}Ta(),V.wheel=setTimeout(j,x),V.zoom("mouse",r(L(P(X,Z),V.mouse[0],V.mouse[1]),V.extent,f));function j(){V.wheel=null,V.end()}}function F(){if(_||!t.apply(this,arguments))return;var V=E(this,arguments,!0),X=Fe(m.event.view).on("mousemove.zoom",ft,!0).on("mouseup.zoom",st,!0),Z=si(this),I=m.event.clientX,j=m.event.clientY;Ra(m.event.view),_f(),V.mouse=[Z,this.__zoom.invert(Z)],li(this),V.start();function ft(){if(Ta(),!V.moved){var dt=m.event.clientX-I,wt=m.event.clientY-j;V.moved=dt*dt+wt*wt>S}V.zoom("mouse",r(L(V.that.__zoom,V.mouse[0]=si(V.that),V.mouse[1]),V.extent,f))}function st(){X.on("mousemove.zoom mouseup.zoom",null),Va(m.event.view,V.moved),Ta(),V.end()}}function Q(){if(t.apply(this,arguments)){var V=this.__zoom,X=si(this),Z=V.invert(X),I=V.k*(m.event.shiftKey?.5:2),j=r(L(P(V,I),X,Z),e.apply(this,arguments),f);Ta(),l>0?Fe(this).transition().duration(l).call(M,j,X):Fe(this).call(b.transform,j)}}function H(){if(t.apply(this,arguments)){var V=m.event.touches,X=V.length,Z=E(this,arguments,m.event.changedTouches.length===X),I,j,ft,st;for(_f(),j=0;j<X;++j)ft=V[j],st=yr(this,V,ft.identifier),st=[st,this.__zoom.invert(st),ft.identifier],Z.touch0?!Z.touch1&&Z.touch0[2]!==st[2]&&(Z.touch1=st,Z.taps=0):(Z.touch0=st,I=!0,Z.taps=1+!!p);p&&(p=clearTimeout(p)),I&&(Z.taps<2&&(p=setTimeout(function(){p=null},y)),li(this),Z.start())}}function W(){if(this.__zooming){var V=E(this,arguments),X=m.event.changedTouches,Z=X.length,I,j,ft,st;for(Ta(),p&&(p=clearTimeout(p)),V.taps=0,I=0;I<Z;++I)j=X[I],ft=yr(this,X,j.identifier),V.touch0&&V.touch0[2]===j.identifier?V.touch0[0]=ft:V.touch1&&V.touch1[2]===j.identifier&&(V.touch1[0]=ft);if(j=V.that.__zoom,V.touch1){var dt=V.touch0[0],wt=V.touch0[1],bt=V.touch1[0],Zt=V.touch1[1],Yt=(Yt=bt[0]-dt[0])*Yt+(Yt=bt[1]-dt[1])*Yt,Ot=(Ot=Zt[0]-wt[0])*Ot+(Ot=Zt[1]-wt[1])*Ot;j=P(j,Math.sqrt(Yt/Ot)),ft=[(dt[0]+bt[0])/2,(dt[1]+bt[1])/2],st=[(wt[0]+Zt[0])/2,(wt[1]+Zt[1])/2]}else if(V.touch0)ft=V.touch0[0],st=V.touch0[1];else return;V.zoom("touch",r(L(j,ft,st),V.extent,f))}}function B(){if(this.__zooming){var V=E(this,arguments),X=m.event.changedTouches,Z=X.length,I,j;for(_f(),_&&clearTimeout(_),_=setTimeout(function(){_=null},y),I=0;I<Z;++I)j=X[I],V.touch0&&V.touch0[2]===j.identifier?delete V.touch0:V.touch1&&V.touch1[2]===j.identifier&&delete V.touch1;if(V.touch1&&!V.touch0&&(V.touch0=V.touch1,delete V.touch1),V.touch0)V.touch0[1]=this.__zoom.invert(V.touch0[0]);else if(V.end(),V.taps===2){var ft=Fe(this).on("dblclick.zoom");ft&&ft.apply(this,arguments)}}}return b.wheelDelta=function(V){return arguments.length?(a=typeof V=="function"?V:xs(+V),b):a},b.filter=function(V){return arguments.length?(t=typeof V=="function"?V:xs(!!V),b):t},b.touchable=function(V){return arguments.length?(o=typeof V=="function"?V:xs(!!V),b):o},b.extent=function(V){return arguments.length?(e=typeof V=="function"?V:xs([[+V[0][0],+V[0][1]],[+V[1][0],+V[1][1]]]),b):e},b.scaleExtent=function(V){return arguments.length?(u[0]=+V[0],u[1]=+V[1],b):[u[0],u[1]]},b.translateExtent=function(V){return arguments.length?(f[0][0]=+V[0][0],f[1][0]=+V[1][0],f[0][1]=+V[0][1],f[1][1]=+V[1][1],b):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},b.constrain=function(V){return arguments.length?(r=V,b):r},b.duration=function(V){return arguments.length?(l=+V,b):l},b.interpolate=function(V){return arguments.length?(h=V,b):h},b.on=function(){var V=d.on.apply(d,arguments);return V===d?b:V},b.clickDistance=function(V){return arguments.length?(S=(V=+V)*V,b):Math.sqrt(S)},b}m.FormatSpecifier=co,m.active=Q1,m.arc=oT,m.area=Lp,m.areaRadial=kp,m.ascending=Vt,m.autoType=Jm,m.axisBottom=kt,m.axisLeft=Ct,m.axisRight=xt,m.axisTop=ot,m.bisect=Be,m.bisectLeft=fr,m.bisectRight=Be,m.bisector=It,m.blob=nv,m.brush=um,m.brushSelection=am,m.brushX=om,m.brushY=sm,m.buffer=rv,m.chord=fm,m.clientPoint=ka,m.cluster=yw,m.color=Wn,m.contourDensity=Nm,m.contours=Kl,m.create=Py,m.creator=se,m.cross=at,m.csv=sv,m.csvFormat=Xm,m.csvFormatBody=Bm,m.csvFormatRow=Hm,m.csvFormatRows=Ym,m.csvFormatValue=Um,m.csvParse=nh,m.csvParseRows=zm,m.cubehelix=hn,m.curveBasis=AT,m.curveBasisClosed=PT,m.curveBasisOpen=CT,m.curveBundle=LT,m.curveCardinal=MT,m.curveCardinalClosed=$T,m.curveCardinalOpen=ET,m.curveCatmullRom=kT,m.curveCatmullRomClosed=RT,m.curveCatmullRomOpen=VT,m.curveLinear=ls,m.curveLinearClosed=GT,m.curveMonotoneX=OT,m.curveMonotoneY=NT,m.curveNatural=DT,m.curveStep=FT,m.curveStepAfter=zT,m.curveStepBefore=IT,m.customEvent=pr,m.descending=Ci,m.deviation=qt,m.dispatch=At,m.drag=Vy,m.dragDisable=Ra,m.dragEnable=Va,m.dsv=ov,m.dsvFormat=ao,m.easeBack=Ol,m.easeBackIn=X1,m.easeBackInOut=Ol,m.easeBackOut=B1,m.easeBounce=Mr,m.easeBounceIn=I1,m.easeBounceInOut=z1,m.easeBounceOut=Mr,m.easeCircle=Gl,m.easeCircleIn=$1,m.easeCircleInOut=Gl,m.easeCircleOut=E1,m.easeCubic=uu,m.easeCubicIn=b1,m.easeCubicInOut=uu,m.easeCubicOut=S1,m.easeElastic=Nl,m.easeElasticIn=Y1,m.easeElasticInOut=H1,m.easeElasticOut=Nl,m.easeExp=Vl,m.easeExpIn=L1,m.easeExpInOut=Vl,m.easeExpOut=M1,m.easeLinear=v1,m.easePoly=$l,m.easePolyIn=T1,m.easePolyInOut=$l,m.easePolyOut=A1,m.easeQuad=Ml,m.easeQuadIn=x1,m.easeQuadInOut=Ml,m.easeQuadOut=w1,m.easeSin=Rl,m.easeSinIn=P1,m.easeSinInOut=Rl,m.easeSinOut=C1,m.entries=Tm,m.extent=Li,m.forceCenter=pv,m.forceCollide=Vv,m.forceLink=Ov,m.forceManyBody=Xv,m.forceRadial=Bv,m.forceSimulation=zv,m.forceX=Yv,m.forceY=Hv,m.formatDefaultLocale=ph,m.formatLocale=gh,m.formatSpecifier=kr,m.geoAlbers=Cd,m.geoAlbersUsa=qx,m.geoArea=tx,m.geoAzimuthalEqualArea=Qx,m.geoAzimuthalEqualAreaRaw=yc,m.geoAzimuthalEquidistant=jx,m.geoAzimuthalEquidistantRaw=_c,m.geoBounds=rx,m.geoCentroid=fx,m.geoCircle=lx,m.geoClipAntimeridian=Qu,m.geoClipCircle=Kh,m.geoClipExtent=mx,m.geoClipRectangle=Go,m.geoConicConformal=Kx,m.geoConicConformalRaw=$d,m.geoConicEqualArea=Uo,m.geoConicEqualAreaRaw=Pd,m.geoConicEquidistant=tw,m.geoConicEquidistantRaw=Ed,m.geoContains=Ax,m.geoDistance=Do,m.geoEqualEarth=nw,m.geoEqualEarthRaw=mc,m.geoEquirectangular=Jx,m.geoEquirectangularRaw=Wr,m.geoGnomonic=iw,m.geoGnomonicRaw=vc,m.geoGraticule=ud,m.geoGraticule10=Px,m.geoIdentity=rw,m.geoInterpolate=Cx,m.geoLength=Jh,m.geoMercator=Zx,m.geoMercatorRaw=Ur,m.geoNaturalEarth1=aw,m.geoNaturalEarth1Raw=xc,m.geoOrthographic=ow,m.geoOrthographicRaw=wc,m.geoPath=Dx,m.geoProjection=Mn,m.geoProjectionMutator=gc,m.geoRotation=Yh,m.geoStereographic=sw,m.geoStereographicRaw=bc,m.geoStream=gn,m.geoTransform=Fx,m.geoTransverseMercator=uw,m.geoTransverseMercatorRaw=Sc,m.gray=Yy,m.hcl=Ia,m.hierarchy=Tc,m.histogram=Ps,m.hsl=Na,m.html=dv,m.image=cv,m.interpolate=wr,m.interpolateArray=jy,m.interpolateBasis=Zf,m.interpolateBasisClosed=Kf,m.interpolateBlues=RS,m.interpolateBrBG=hS,m.interpolateBuGn=wS,m.interpolateBuPu=bS,m.interpolateCividis=FS,m.interpolateCool=XS,m.interpolateCubehelix=l_,m.interpolateCubehelixDefault=IS,m.interpolateCubehelixLong=Ha,m.interpolateDate=rl,m.interpolateDiscrete=Jy,m.interpolateGnBu=SS,m.interpolateGreens=VS,m.interpolateGreys=GS,m.interpolateHcl=c_,m.interpolateHclLong=f_,m.interpolateHsl=o_,m.interpolateHslLong=s_,m.interpolateHue=t_,m.interpolateInferno=jS,m.interpolateLab=u_,m.interpolateMagma=QS,m.interpolateNumber=je,m.interpolateNumberArray=qs,m.interpolateObject=al,m.interpolateOrRd=TS,m.interpolateOranges=DS,m.interpolatePRGn=dS,m.interpolatePiYG=gS,m.interpolatePlasma=ZS,m.interpolatePuBu=PS,m.interpolatePuBuGn=AS,m.interpolatePuOr=pS,m.interpolatePuRd=CS,m.interpolatePurples=OS,m.interpolateRainbow=BS,m.interpolateRdBu=yS,m.interpolateRdGy=_S,m.interpolateRdPu=LS,m.interpolateRdYlBu=mS,m.interpolateRdYlGn=vS,m.interpolateReds=NS,m.interpolateRgb=xr,m.interpolateRgbBasis=el,m.interpolateRgbBasisClosed=Qy,m.interpolateRound=ol,m.interpolateSinebow=US,m.interpolateSpectral=xS,m.interpolateString=Zs,m.interpolateTransformCss=ll,m.interpolateTransformSvg=hl,m.interpolateTurbo=WS,m.interpolateViridis=qS,m.interpolateWarm=zS,m.interpolateYlGn=$S,m.interpolateYlGnBu=MS,m.interpolateYlOrBr=ES,m.interpolateYlOrRd=kS,m.interpolateZoom=pl,m.interrupt=li,m.interval=__,m.isoFormat=U2,m.isoParse=q2,m.json=lv,m.keys=bm,m.lab=Fa,m.lch=Hy,m.line=ef,m.lineRadial=Ep,m.linkHorizontal=pT,m.linkRadial=_T,m.linkVertical=yT,m.local=Cf,m.map=Vn,m.matcher=En,m.max=k,m.mean=vt,m.median=Cs,m.merge=Ei,m.min=$a,m.mouse=si,m.namespace=Jt,m.namespaces=lt,m.nest=vm,m.now=Ii,m.pack=zw,m.packEnclose=Rd,m.packSiblings=Dw,m.pairs=Ts,m.partition=Xw,m.path=qn,m.permute=Ls,m.pie=cT,m.piecewise=h_,m.pointRadial=ma,m.polygonArea=ib,m.polygonCentroid=rb,m.polygonContains=ub,m.polygonHull=sb,m.polygonLength=cb,m.precisionFixed=yh,m.precisionPrefix=_h,m.precisionRound=mh,m.quadtree=so,m.quantile=ri,m.quantize=d_,m.radialArea=kp,m.radialLine=Ep,m.randomBates=hb,m.randomExponential=db,m.randomIrwinHall=jd,m.randomLogNormal=lb,m.randomNormal=Qd,m.randomUniform=fb,m.range=zt,m.rgb=Ni,m.ribbon=mm,m.scaleBand=Ec,m.scaleDiverging=Qg,m.scaleDivergingLog=jg,m.scaleDivergingPow=Zc,m.scaleDivergingSqrt=eS,m.scaleDivergingSymlog=Zg,m.scaleIdentity=rg,m.scaleImplicit=Mc,m.scaleLinear=ig,m.scaleLog=cg,m.scaleOrdinal=$c,m.scalePoint=gb,m.scalePow=Nc,m.scaleQuantile=gg,m.scaleQuantize=pg,m.scaleSequential=Hg,m.scaleSequentialLog=Ug,m.scaleSequentialPow=jc,m.scaleSequentialQuantile=qg,m.scaleSequentialSqrt=tS,m.scaleSequentialSymlog=Wg,m.scaleSqrt=Ab,m.scaleSymlog=hg,m.scaleThreshold=yg,m.scaleTime=K2,m.scaleUtc=J2,m.scan=Ms,m.schemeAccent=iS,m.schemeBlues=vp,m.schemeBrBG=Kg,m.schemeBuGn=sp,m.schemeBuPu=up,m.schemeCategory10=nS,m.schemeDark2=rS,m.schemeGnBu=cp,m.schemeGreens=xp,m.schemeGreys=wp,m.schemeOrRd=fp,m.schemeOranges=Tp,m.schemePRGn=Jg,m.schemePaired=aS,m.schemePastel1=oS,m.schemePastel2=sS,m.schemePiYG=tp,m.schemePuBu=hp,m.schemePuBuGn=lp,m.schemePuOr=ep,m.schemePuRd=dp,m.schemePurples=bp,m.schemeRdBu=np,m.schemeRdGy=ip,m.schemeRdPu=gp,m.schemeRdYlBu=rp,m.schemeRdYlGn=ap,m.schemeReds=Sp,m.schemeSet1=uS,m.schemeSet2=cS,m.schemeSet3=fS,m.schemeSpectral=op,m.schemeTableau10=lS,m.schemeYlGn=yp,m.schemeYlGnBu=pp,m.schemeYlOrBr=_p,m.schemeYlOrRd=mp,m.select=Fe,m.selectAll=Ly,m.selection=oi,m.selector=ce,m.selectorAll=ht,m.set=jl,m.shuffle=$s,m.stack=BT,m.stackOffsetDiverging=HT,m.stackOffsetExpand=YT,m.stackOffsetNone=rr,m.stackOffsetSilhouette=UT,m.stackOffsetWiggle=WT,m.stackOrderAppearance=e0,m.stackOrderAscending=n0,m.stackOrderDescending=QT,m.stackOrderInsideOut=jT,m.stackOrderNone=ar,m.stackOrderReverse=ZT,m.stratify=Uw,m.style=ai,m.sum=n,m.svg=gv,m.symbol=TT,m.symbolCircle=of,m.symbolCross=Rp,m.symbolDiamond=Gp,m.symbolSquare=Dp,m.symbolStar=Np,m.symbolTriangle=Fp,m.symbolWye=Ip,m.symbols=ST,m.text=oo,m.thresholdFreedmanDiaconis=Ma,m.thresholdScott=Kt,m.thresholdSturges=hr,m.tickFormat=ng,m.tickIncrement=he,m.tickStep=De,m.ticks=Et,m.timeDay=na,m.timeDays=Lb,m.timeFormatDefaultLocale=Xg,m.timeFormatLocale=Eg,m.timeFriday=Sg,m.timeFridays=Rb,m.timeHour=zc,m.timeHours=Cb,m.timeInterval=le,m.timeMillisecond=bi,m.timeMilliseconds=_g,m.timeMinute=Ic,m.timeMinutes=Pb,m.timeMonday=ra,m.timeMondays=Mb,m.timeMonth=Xc,m.timeMonths=Gb,m.timeSaturday=Tg,m.timeSaturdays=Vb,m.timeSecond=ea,m.timeSeconds=xg,m.timeSunday=ia,m.timeSundays=Ag,m.timeThursday=aa,m.timeThursdays=kb,m.timeTuesday=wg,m.timeTuesdays=$b,m.timeWednesday=bg,m.timeWednesdays=Eb,m.timeWeek=ia,m.timeWeeks=Ag,m.timeYear=In,m.timeYears=Ob,m.timeout=nu,m.timer=Qa,m.timerFlush=wl,m.touch=yr,m.touches=My,m.transition=Cl,m.transpose=i,m.tree=Kw,m.treemap=Jw,m.treemapBinary=tb,m.treemapDice=Jr,m.treemapResquarify=nb,m.treemapSlice=Jo,m.treemapSliceDice=eb,m.treemapSquarify=Wd,m.tsv=uv,m.tsvFormat=qm,m.tsvFormatBody=Qm,m.tsvFormatRow=Zm,m.tsvFormatRows=jm,m.tsvFormatValue=Km,m.tsvParse=ih,m.tsvParseRows=Wm,m.utcDay=oa,m.utcDays=Fb,m.utcFriday=Lg,m.utcFridays=Yb,m.utcHour=Yc,m.utcHours=Db,m.utcMillisecond=bi,m.utcMilliseconds=_g,m.utcMinute=Bc,m.utcMinutes=Nb,m.utcMonday=ua,m.utcMondays=Ib,m.utcMonth=Hc,m.utcMonths=Ub,m.utcSaturday=Mg,m.utcSaturdays=Hb,m.utcSecond=ea,m.utcSeconds=xg,m.utcSunday=sa,m.utcSundays=$g,m.utcThursday=ca,m.utcThursdays=Bb,m.utcTuesday=Pg,m.utcTuesdays=zb,m.utcWednesday=Cg,m.utcWednesdays=Xb,m.utcWeek=sa,m.utcWeeks=$g,m.utcYear=zn,m.utcYears=Wb,m.values=Sm,m.variance=ii,m.version=Rt,m.voronoi=yA,m.window=ks,m.xml=hv,m.zip=c,m.zoom=SA,m.zoomIdentity=ws,m.zoomTransform=l0,Object.defineProperty(m,"__esModule",{value:!0})});const OA={class:"space-y-4 lg:space-y-8"},NA={class:"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:space-x-5"},DA={class:"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:space-x-5"},FA=cn("div",{id:"chart1"},null,-1),IA=cn("div",{id:"chart2"},null,-1),zA={class:"flex flex-[1.2] space-x-4 lg:space-y-0 lg:space-x-5"},XA=cn("div",{id:"chart3"},null,-1),BA=cn("div",{id:"chart4"},null,-1),YA={class:"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:space-x-5"},HA={href:"#"},UA={class:"flex flex-1 flex-col xl:flex-row space-y-4 xl:space-y-0 xl:space-x-5"},WA=cn("div",{id:"chart5"},null,-1),qA=cn("div",{id:"chart6"},null,-1),QA={data(){return{concerts:[],januaryDateAry:[]}},methods:{timeSeriesChart(m,Rt="day"){let Vt=1,It=[],Xe="%d";m==="views"?Rt==="day"?It=[["x",...this.januaryDateAry],["人",30,200,100,400,150,320,220,500,420,650,800,720,900,650,810,920,950,780,880,600,450,700,550,300,480,350,700,800,950,600,850]]:Rt==="week"?It=[["x","2024-01-01","2024-01-08","2024-01-15","2024-01-22","2024-01-29"],["人",1420,4640,4390,3880,4730]]:Rt==="month"&&(It=[["x","2024-01-01","2024-02-02","2024-03-01","2024-04-01","2024-05-01","2024-06-01"],["人",16730,18942,23450,20034,19080,25001]],Xe="%m"):m==="registers"&&(Vt=2,Rt==="day"?It=[["x",...this.januaryDateAry],["人",5,10,3,12,30,42,20,10,16,46,35,58,40,56,50,90,44,30,46,49,70,78,51,61,70,53,80,100,90,126,131]]:Rt==="week"?It=[["x","2024-01-01","2024-01-08","2024-01-15","2024-01-22","2024-01-29"],["人",122,261,379,493,518]]:Rt==="month"&&(It=[["x","2024-01-01","2024-02-02","2024-03-01","2024-04-01","2024-05-01","2024-06-01"],["人",1773,1840,1632,2084,2351,2488]],Xe="%m")),c3.generate({bindto:`#chart${Vt}`,data:{x:"x",columns:[...It],colors:{人:"#971AA6"},type:"spline"},axis:{x:{type:"timeseries",tick:{format:Xe}}}})}},mounted(){TA.get("https://concert-now.dewed.one/api/concerts").then(m=>{console.log(m),this.concerts=m.data.data}).catch(m=>{console.log(m)});for(let m=1;m<=31;m++)m<10?this.januaryDateAry.push("2024-01-0"+m):this.januaryDateAry.push("2024-01-"+m);this.timeSeriesChart("views","day"),this.timeSeriesChart("registers","day"),c3.generate({bindto:"#chart3",data:{columns:[["搜尋引擎",521],["社交媒體",260],["URL",80]],type:"pie",colors:{搜尋引擎:"#D595F1",社交媒體:"#42DFC8",URL:"#971AA6"}}}),c3.generate({bindto:"#chart4",data:{columns:[["評論檢舉",201],["歌曲倒推",420]],type:"donut",colors:{評論檢舉:"#D595F1",歌曲倒推:"#42DFC8"}},donut:{width:40}}),c3.generate({bindto:"#chart5",data:{columns:[["Tom Jones",380],["Apink",230],["FTIsland",170],["理想混蛋",340],["溫蒂漫步",60]],type:"bar"},color:{pattern:["#4D0D97","#42DFC8","#020087","#D595F1","#971AA6"]},bar:{width:{ratio:.7},space:.3},size:{height:320},axis:{x:{type:"category",categories:["表演者"]}}}),c3.generate({bindto:"#chart6",data:{columns:[["Legacy Taichung",210],["台北流行音樂中心",380],["高雄流行音樂中心",300],["新北工商展覽中心",150],["台北國際會議中心TICC",250]],type:"bar"},color:{pattern:["#4D0D97","#42DFC8","#020087","#D595F1","#971AA6"]},bar:{width:{ratio:.7},space:.3},size:{height:350},axis:{x:{type:"category",categories:["場地"]}}})}},t3=Object.assign(QA,{__name:"AnalysisView",setup(m){return(Rt,Vt)=>(un(),Yn("div",OA,[cn("div",NA,[et(tt(rn),{class:"flex-1 hover:bg-slate-50"},{default:nt(()=>[et(tt(an),{class:"h-[72px]"},{default:nt(()=>[et(tt(on),{class:"text-base"},{default:nt(()=>[Dt("總瀏覽人數")]),_:1})]),_:1}),et(tt(sn),{class:"text-4xl font-bold text-center"},{default:nt(()=>[Dt(" 2365 ")]),_:1})]),_:1}),et(tt(rn),{class:"flex-1 hover:bg-slate-50"},{default:nt(()=>[et(tt(an),{class:"h-[72px]"},{default:nt(()=>[et(tt(on),{class:"text-base"},{default:nt(()=>[Dt("總會員數")]),_:1})]),_:1}),et(tt(sn),{class:"text-4xl font-bold text-center"},{default:nt(()=>[Dt(" 240 ")]),_:1})]),_:1}),et(tt(rn),{class:"flex-1 hover:bg-slate-50"},{default:nt(()=>[et(tt(an),{class:"h-[72px]"},{default:nt(()=>[et(tt(on),{class:"text-base"},{default:nt(()=>[Dt("總演唱會量")]),_:1})]),_:1}),et(tt(sn),{class:"text-4xl font-bold text-center"},{default:nt(()=>[Dt(" 130 ")]),_:1})]),_:1}),et(tt(rn),{class:"flex-1 hover:bg-slate-50"},{default:nt(()=>[et(tt(an),{class:"h-[72px]"},{default:nt(()=>[et(tt(on),{class:"text-base"},{default:nt(()=>[Dt("總歌單曲目量")]),_:1})]),_:1}),et(tt(sn),{class:"text-4xl font-bold text-center"},{default:nt(()=>[Dt(" 270 ")]),_:1})]),_:1}),et(tt(rn),{class:"flex-1 hover:bg-slate-50"},{default:nt(()=>[et(tt(an),{class:"h-[72px]"},{default:nt(()=>[et(tt(on),{class:"text-base"},{default:nt(()=>[Dt("總會場評論量")]),_:1})]),_:1}),et(tt(sn),{class:"text-4xl font-bold text-center"},{default:nt(()=>[Dt(" 246 ")]),_:1})]),_:1})]),cn("div",DA,[et(tt(rn),{class:"flex-1"},{default:nt(()=>[et(tt(an),{class:"flex flex-row items-center justify-between h-[94px]"},{default:nt(()=>[et(tt(on),{class:"text-xl"},{default:nt(()=>[Dt("用戶瀏覽人數")]),_:1}),et(tt(g0),null,{default:nt(()=>[et(tt(p0),{class:"justify-end w-auto"},{default:nt(()=>[et(tt(y0),{placeholder:"日"})]),_:1}),et(tt(_0),null,{default:nt(()=>[et(tt(m0),null,{default:nt(()=>[et(tt(v0),null,{default:nt(()=>[Dt("時間段")]),_:1}),et(tt(cr),{value:"day",onClick:Vt[0]||(Vt[0]=It=>Rt.timeSeriesChart("views","day"))},{default:nt(()=>[Dt("日")]),_:1}),et(tt(cr),{value:"week",onClick:Vt[1]||(Vt[1]=It=>Rt.timeSeriesChart("views","week"))},{default:nt(()=>[Dt("周")]),_:1}),et(tt(cr),{value:"month",onClick:Vt[2]||(Vt[2]=It=>Rt.timeSeriesChart("views","month"))},{default:nt(()=>[Dt("月")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),et(tt(sn),null,{default:nt(()=>[FA]),_:1})]),_:1}),et(tt(rn),{class:"flex-1"},{default:nt(()=>[et(tt(an),{class:"flex flex-row items-center justify-between h-[94px]"},{default:nt(()=>[et(tt(on),{class:"text-xl"},{default:nt(()=>[Dt("用戶註冊人數")]),_:1}),et(tt(g0),null,{default:nt(()=>[et(tt(p0),{class:"justify-end w-auto"},{default:nt(()=>[et(tt(y0),{placeholder:"日"})]),_:1}),et(tt(_0),null,{default:nt(()=>[et(tt(m0),null,{default:nt(()=>[et(tt(v0),null,{default:nt(()=>[Dt("時間段")]),_:1}),et(tt(cr),{value:"day",onClick:Vt[3]||(Vt[3]=It=>Rt.timeSeriesChart("registers","day"))},{default:nt(()=>[Dt("日")]),_:1}),et(tt(cr),{value:"week",onClick:Vt[4]||(Vt[4]=It=>Rt.timeSeriesChart("registers","week"))},{default:nt(()=>[Dt("周")]),_:1}),et(tt(cr),{value:"month",onClick:Vt[5]||(Vt[5]=It=>Rt.timeSeriesChart("registers","month"))},{default:nt(()=>[Dt("月")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),et(tt(sn),null,{default:nt(()=>[IA]),_:1})]),_:1}),cn("div",zA,[et(tt(rn),{class:"flex-[.5]"},{default:nt(()=>[et(tt(an),{class:"h-[94px]"},{default:nt(()=>[et(tt(on),{class:"text-xl my-auto"},{default:nt(()=>[Dt("用戶行為 - 流量來源")]),_:1})]),_:1}),et(tt(sn),null,{default:nt(()=>[XA]),_:1})]),_:1}),et(tt(rn),{class:"flex-[.5]"},{default:nt(()=>[et(tt(an),{class:"h-[94px]"},{default:nt(()=>[et(tt(on),{class:"text-xl my-auto"},{default:nt(()=>[Dt("用戶行為 - 檢舉與倒推")]),_:1})]),_:1}),et(tt(sn),null,{default:nt(()=>[BA]),_:1})]),_:1})])]),cn("div",YA,[et(tt(rn),{class:"flex-1"},{default:nt(()=>[et(tt(an),{class:"h-[94px]"},{default:nt(()=>[et(tt(on),{class:"text-xl my-auto"},{default:nt(()=>[Dt("演唱會檢索")]),_:1})]),_:1}),et(tt(sn),{class:"pb-0"},{default:nt(()=>[et(tt(MA),null,{default:nt(()=>[et(tt($A),null,{default:nt(()=>[et(tt(x0),null,{default:nt(()=>[et(tt(bs),{class:"w-[100px]"},{default:nt(()=>[Dt("檢視量")]),_:1}),et(tt(bs),{class:"text-nowrap"},{default:nt(()=>[Dt("收藏量")]),_:1}),et(tt(bs),null,{default:nt(()=>[Dt("演唱會")]),_:1}),et(tt(bs),{class:"text-right"},{default:nt(()=>[Dt("表演者")]),_:1})]),_:1})]),_:1}),et(tt(EA),null,{default:nt(()=>[(un(!0),Yn(mf,null,d0(Rt.concerts,(It,Xe)=>(un(),vf(tt(x0),{key:It+Xe},{default:nt(()=>[et(tt(Ss),{class:"font-medium"},{default:nt(()=>[Dt(Aa(Number.parseInt(800/(Xe+1))),1)]),_:2},1024),et(tt(Ss),null,{default:nt(()=>[Dt(Aa(Number.parseInt(300/(Xe+1))),1)]),_:2},1024),et(tt(Ss),null,{default:nt(()=>[cn("a",HA,Aa(It.title),1)]),_:2},1024),et(tt(Ss),{class:"text-right"},{default:nt(()=>[Dt(Aa(It.artist.name),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),et(tt(GA),{class:"flex justify-center pt-[auto]"},{default:nt(()=>[et(tt(AA),{total:5,"sibling-count":1,"show-edges":"","default-page":1},{default:nt(({page:It})=>[et(tt(PA),{class:"flex items-center gap-1"},{default:nt(({items:Xe})=>[et(tt(kA)),(un(!0),Yn(mf,null,d0(Xe,(vn,Be)=>(un(),Yn(mf,null,[vn.type==="page"?(un(),vf(tt(CA),{key:Be,value:vn.value,"as-child":""},{default:nt(()=>[et(tt(LA),{class:"w-10 h-10 p-0",variant:vn.value===It?"default":"outline"},{default:nt(()=>[Dt(Aa(vn.value),1)]),_:2},1032,["variant"])]),_:2},1032,["value"])):(un(),vf(tt(VA),{key:vn.type,index:Be},null,8,["index"]))],64))),256)),et(tt(RA))]),_:2},1024)]),_:1})]),_:1})]),_:1}),cn("div",UA,[et(tt(rn),{class:"flex-1"},{default:nt(()=>[et(tt(an),{class:"h-[94px]"},{default:nt(()=>[et(tt(on),{class:"text-xl my-auto"},{default:nt(()=>[Dt("熱門表演者檢索量")]),_:1})]),_:1}),et(tt(sn),null,{default:nt(()=>[WA]),_:1})]),_:1}),et(tt(rn),{class:"flex-1"},{default:nt(()=>[et(tt(an),{class:"h-[94px]"},{default:nt(()=>[et(tt(on),{class:"text-xl my-auto"},{default:nt(()=>[Dt("熱門會場瀏覽量")]),_:1})]),_:1}),et(tt(sn),null,{default:nt(()=>[qA]),_:1})]),_:1})])])]))}});export{t3 as default};
